{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/popup/ui.popup.js)\r\n * Version: 23.1.5\r\n * Build date: Wed Aug 30 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport registerComponent from \"../../core/component_registrator\";\nimport devices from \"../../core/devices\";\nimport { getPublicElement } from \"../../core/element\";\nimport $ from \"../../core/renderer\";\nimport { EmptyTemplate } from \"../../core/templates/empty_template\";\nimport browser from \"../../core/utils/browser\";\nimport { noop } from \"../../core/utils/common\";\nimport { extend } from \"../../core/utils/extend\";\nimport { camelize } from \"../../core/utils/inflector\";\nimport { each } from \"../../core/utils/iterator\";\nimport { getVisibleHeight, addOffsetToMaxHeight, addOffsetToMinHeight, getVerticalOffsets, getOuterWidth, getWidth, getHeight } from \"../../core/utils/size\";\nimport { getBoundingRect } from \"../../core/utils/position\";\nimport { isDefined, isObject } from \"../../core/utils/type\";\nimport { compare as compareVersions } from \"../../core/utils/version\";\nimport { getWindow, hasWindow } from \"../../core/utils/window\";\nimport { triggerResizeEvent } from \"../../events/visibility_change\";\nimport messageLocalization from \"../../localization/message\";\nimport PopupDrag from \"./popup_drag\";\nimport Resizable from \"../resizable\";\nimport Button from \"../button\";\nimport Overlay from \"../overlay/ui.overlay\";\nimport { isMaterial, current as currentTheme } from \"../themes\";\nimport \"../toolbar/ui.toolbar.base\";\nimport resizeObserverSingleton from \"../../core/resize_observer\";\nimport * as zIndexPool from \"../overlay/z_index\";\nimport { PopupPositionController } from \"./popup_position_controller\";\nimport { createBodyOverflowManager } from \"./popup_overflow_manager\";\nvar window = getWindow();\nvar POPUP_CLASS = \"dx-popup\";\nvar POPUP_WRAPPER_CLASS = \"dx-popup-wrapper\";\nvar POPUP_FULL_SCREEN_CLASS = \"dx-popup-fullscreen\";\nvar POPUP_FULL_SCREEN_WIDTH_CLASS = \"dx-popup-fullscreen-width\";\nvar POPUP_NORMAL_CLASS = \"dx-popup-normal\";\nvar POPUP_CONTENT_CLASS = \"dx-popup-content\";\nvar POPUP_CONTENT_SCROLLABLE_CLASS = \"dx-popup-content-scrollable\";\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\nvar POPUP_DRAGGABLE_CLASS = \"dx-popup-draggable\";\nvar POPUP_TITLE_CLASS = \"dx-popup-title\";\nvar POPUP_TITLE_CLOSEBUTTON_CLASS = \"dx-closebutton\";\nvar POPUP_BOTTOM_CLASS = \"dx-popup-bottom\";\nvar POPUP_HAS_CLOSE_BUTTON_CLASS = \"dx-has-close-button\";\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\nvar POPUP_CONTENT_FLEX_HEIGHT_CLASS = \"dx-popup-flex-height\";\nvar POPUP_CONTENT_INHERIT_HEIGHT_CLASS = \"dx-popup-inherit-height\";\nvar ALLOWED_TOOLBAR_ITEM_ALIASES = [\"cancel\", \"clear\", \"done\"];\nvar BUTTON_DEFAULT_TYPE = \"default\";\nvar BUTTON_NORMAL_TYPE = \"normal\";\nvar BUTTON_TEXT_MODE = \"text\";\nvar BUTTON_CONTAINED_MODE = \"contained\";\nvar IS_OLD_SAFARI = browser.safari && compareVersions(browser.version, [11]) < 0;\nvar HEIGHT_STRATEGIES = {\n  static: \"\",\n  inherit: POPUP_CONTENT_INHERIT_HEIGHT_CLASS,\n  flex: POPUP_CONTENT_FLEX_HEIGHT_CLASS\n};\nvar getButtonPlace = name => {\n  var device = devices.current();\n  var platform = device.platform;\n  var toolbar = \"bottom\";\n  var location = \"before\";\n  if (\"ios\" === platform) {\n    switch (name) {\n      case \"cancel\":\n        toolbar = \"top\";\n        break;\n      case \"clear\":\n        toolbar = \"top\";\n        location = \"after\";\n        break;\n      case \"done\":\n        location = \"after\";\n    }\n  } else if (\"android\" === platform) {\n    switch (name) {\n      case \"cancel\":\n      case \"done\":\n        location = \"after\";\n    }\n  }\n  return {\n    toolbar: toolbar,\n    location: location\n  };\n};\nvar Popup = Overlay.inherit({\n  _supportedKeys: function () {\n    return extend(this.callBase(), {\n      upArrow: e => {\n        var _this$_drag;\n        null === (_this$_drag = this._drag) || void 0 === _this$_drag ? void 0 : _this$_drag.moveUp(e);\n      },\n      downArrow: e => {\n        var _this$_drag2;\n        null === (_this$_drag2 = this._drag) || void 0 === _this$_drag2 ? void 0 : _this$_drag2.moveDown(e);\n      },\n      leftArrow: e => {\n        var _this$_drag3;\n        null === (_this$_drag3 = this._drag) || void 0 === _this$_drag3 ? void 0 : _this$_drag3.moveLeft(e);\n      },\n      rightArrow: e => {\n        var _this$_drag4;\n        null === (_this$_drag4 = this._drag) || void 0 === _this$_drag4 ? void 0 : _this$_drag4.moveRight(e);\n      }\n    });\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      fullScreen: false,\n      title: \"\",\n      showTitle: true,\n      titleTemplate: \"title\",\n      onTitleRendered: null,\n      dragOutsideBoundary: false,\n      dragEnabled: false,\n      dragAndResizeArea: void 0,\n      enableBodyScroll: true,\n      outsideDragFactor: 0,\n      onResizeStart: null,\n      onResize: null,\n      onResizeEnd: null,\n      resizeEnabled: false,\n      toolbarItems: [],\n      showCloseButton: false,\n      bottomTemplate: \"bottom\",\n      useDefaultToolbarButtons: false,\n      useFlatToolbarButtons: false,\n      autoResizeEnabled: true\n    });\n  },\n  _defaultOptionsRules: function () {\n    var themeName = currentTheme();\n    return this.callBase().concat([{\n      device: {\n        platform: \"ios\"\n      },\n      options: {\n        animation: this._iosAnimation\n      }\n    }, {\n      device: {\n        platform: \"android\"\n      },\n      options: {\n        animation: this._androidAnimation\n      }\n    }, {\n      device: {\n        platform: \"generic\"\n      },\n      options: {\n        showCloseButton: true\n      }\n    }, {\n      device: function (_device) {\n        return \"desktop\" === devices.real().deviceType && \"generic\" === _device.platform;\n      },\n      options: {\n        dragEnabled: true\n      }\n    }, {\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function () {\n        return isMaterial(themeName);\n      },\n      options: {\n        useDefaultToolbarButtons: true,\n        useFlatToolbarButtons: true,\n        showCloseButton: false\n      }\n    }]);\n  },\n  _iosAnimation: {\n    show: {\n      type: \"slide\",\n      duration: 400,\n      from: {\n        position: {\n          my: \"top\",\n          at: \"bottom\"\n        }\n      },\n      to: {\n        position: {\n          my: \"center\",\n          at: \"center\"\n        }\n      }\n    },\n    hide: {\n      type: \"slide\",\n      duration: 400,\n      from: {\n        opacity: 1,\n        position: {\n          my: \"center\",\n          at: \"center\"\n        }\n      },\n      to: {\n        opacity: 1,\n        position: {\n          my: \"top\",\n          at: \"bottom\"\n        }\n      }\n    }\n  },\n  _androidAnimation: function () {\n    return this.option(\"fullScreen\") ? {\n      show: {\n        type: \"slide\",\n        duration: 300,\n        from: {\n          top: \"30%\",\n          opacity: 0\n        },\n        to: {\n          top: 0,\n          opacity: 1\n        }\n      },\n      hide: {\n        type: \"slide\",\n        duration: 300,\n        from: {\n          top: 0,\n          opacity: 1\n        },\n        to: {\n          top: \"30%\",\n          opacity: 0\n        }\n      }\n    } : {\n      show: {\n        type: \"fade\",\n        duration: 400,\n        from: 0,\n        to: 1\n      },\n      hide: {\n        type: \"fade\",\n        duration: 400,\n        from: 1,\n        to: 0\n      }\n    };\n  },\n  _init: function () {\n    var popupWrapperClassExternal = this.option(\"_wrapperClassExternal\");\n    var popupWrapperClasses = popupWrapperClassExternal ? \"\".concat(POPUP_WRAPPER_CLASS, \" \").concat(popupWrapperClassExternal) : POPUP_WRAPPER_CLASS;\n    this.callBase();\n    this._createBodyOverflowManager();\n    this._updateResizeCallbackSkipCondition();\n    this.$element().addClass(POPUP_CLASS);\n    this.$wrapper().addClass(popupWrapperClasses);\n    this._$popupContent = this._$content.wrapInner($(\"<div>\").addClass(POPUP_CONTENT_CLASS)).children().eq(0);\n    this._toggleContentScrollClass();\n    this.$overlayContent().attr(\"role\", \"dialog\");\n  },\n  _render: function () {\n    var isFullscreen = this.option(\"fullScreen\");\n    this._toggleFullScreenClass(isFullscreen);\n    this.callBase();\n  },\n  _createBodyOverflowManager: function () {\n    this._bodyOverflowManager = createBodyOverflowManager();\n  },\n  _toggleFullScreenClass: function (value) {\n    this.$overlayContent().toggleClass(POPUP_FULL_SCREEN_CLASS, value).toggleClass(POPUP_NORMAL_CLASS, !value);\n  },\n  _initTemplates: function () {\n    this.callBase();\n    this._templateManager.addDefaultTemplates({\n      title: new EmptyTemplate(),\n      bottom: new EmptyTemplate()\n    });\n  },\n  _getActionsList: function () {\n    return this.callBase().concat([\"onResizeStart\", \"onResize\", \"onResizeEnd\"]);\n  },\n  _contentResizeHandler: function (entry) {\n    if (!this._shouldSkipContentResize(entry)) {\n      this._renderGeometry({\n        shouldOnlyReposition: true\n      });\n    }\n  },\n  _doesShowAnimationChangeDimensions: function () {\n    var animation = this.option(\"animation\");\n    return [\"to\", \"from\"].some(prop => {\n      var _animation$show;\n      var config = null === animation || void 0 === animation ? void 0 : null === (_animation$show = animation.show) || void 0 === _animation$show ? void 0 : _animation$show[prop];\n      return isObject(config) && (\"width\" in config || \"height\" in config);\n    });\n  },\n  _updateResizeCallbackSkipCondition() {\n    var doesShowAnimationChangeDimensions = this._doesShowAnimationChangeDimensions();\n    this._shouldSkipContentResize = entry => doesShowAnimationChangeDimensions && this._showAnimationProcessing || this._areContentDimensionsRendered(entry);\n  },\n  _observeContentResize: function (shouldObserve) {\n    if (!this.option(\"useResizeObserver\")) {\n      return;\n    }\n    var contentElement = this._$content.get(0);\n    if (shouldObserve) {\n      resizeObserverSingleton.observe(contentElement, entry => {\n        this._contentResizeHandler(entry);\n      });\n    } else {\n      resizeObserverSingleton.unobserve(contentElement);\n    }\n  },\n  _areContentDimensionsRendered: function (entry) {\n    var _entry$contentBoxSize, _this$_renderedDimens3, _this$_renderedDimens4;\n    var contentBox = null === (_entry$contentBoxSize = entry.contentBoxSize) || void 0 === _entry$contentBoxSize ? void 0 : _entry$contentBoxSize[0];\n    if (contentBox) {\n      var _this$_renderedDimens, _this$_renderedDimens2;\n      return parseInt(contentBox.inlineSize, 10) === (null === (_this$_renderedDimens = this._renderedDimensions) || void 0 === _this$_renderedDimens ? void 0 : _this$_renderedDimens.width) && parseInt(contentBox.blockSize, 10) === (null === (_this$_renderedDimens2 = this._renderedDimensions) || void 0 === _this$_renderedDimens2 ? void 0 : _this$_renderedDimens2.height);\n    }\n    var contentRect = entry.contentRect;\n    return parseInt(contentRect.width, 10) === (null === (_this$_renderedDimens3 = this._renderedDimensions) || void 0 === _this$_renderedDimens3 ? void 0 : _this$_renderedDimens3.width) && parseInt(contentRect.height, 10) === (null === (_this$_renderedDimens4 = this._renderedDimensions) || void 0 === _this$_renderedDimens4 ? void 0 : _this$_renderedDimens4.height);\n  },\n  _renderContent() {\n    this.callBase();\n    this._observeContentResize(true);\n  },\n  _renderContentImpl: function () {\n    this._renderTitle();\n    this.callBase();\n    this._renderResize();\n    this._renderBottom();\n  },\n  _renderTitle: function () {\n    var items = this._getToolbarItems(\"top\");\n    var titleText = this.option(\"title\");\n    var showTitle = this.option(\"showTitle\");\n    if (showTitle && !!titleText) {\n      items.unshift({\n        location: devices.current().ios ? \"center\" : \"before\",\n        text: titleText\n      });\n    }\n    if (showTitle || items.length > 0) {\n      this._$title && this._$title.remove();\n      var $title = $(\"<div>\").addClass(POPUP_TITLE_CLASS).insertBefore(this.$content());\n      this._$title = this._renderTemplateByType(\"titleTemplate\", items, $title).addClass(POPUP_TITLE_CLASS);\n      this._renderDrag();\n      this._executeTitleRenderAction(this._$title);\n      this._$title.toggleClass(POPUP_HAS_CLOSE_BUTTON_CLASS, this._hasCloseButton());\n    } else if (this._$title) {\n      this._$title.detach();\n    }\n  },\n  _renderTemplateByType: function (optionName, data, $container, additionalToolbarOptions) {\n    var {\n      rtlEnabled: rtlEnabled,\n      useDefaultToolbarButtons: useDefaultToolbarButtons,\n      useFlatToolbarButtons: useFlatToolbarButtons,\n      disabled: disabled\n    } = this.option();\n    var template = this._getTemplateByOption(optionName);\n    var toolbarTemplate = template instanceof EmptyTemplate;\n    if (toolbarTemplate) {\n      var integrationOptions = extend({}, this.option(\"integrationOptions\"), {\n        skipTemplates: [\"content\", \"title\"]\n      });\n      var toolbarOptions = extend(additionalToolbarOptions, {\n        items: data,\n        rtlEnabled: rtlEnabled,\n        useDefaultButtons: useDefaultToolbarButtons,\n        useFlatButtons: useFlatToolbarButtons,\n        disabled: disabled,\n        integrationOptions: integrationOptions\n      });\n      this._getTemplate(\"dx-polymorph-widget\").render({\n        container: $container,\n        model: {\n          widget: this._getToolbarName(),\n          options: toolbarOptions\n        }\n      });\n      var $toolbar = $container.children(\"div\");\n      $container.replaceWith($toolbar);\n      return $toolbar;\n    } else {\n      var $result = $(template.render({\n        container: getPublicElement($container)\n      }));\n      if ($result.hasClass(TEMPLATE_WRAPPER_CLASS)) {\n        $container.replaceWith($result);\n        $container = $result;\n      }\n      return $container;\n    }\n  },\n  _getToolbarName: function () {\n    return \"dxToolbarBase\";\n  },\n  _renderVisibilityAnimate: function (visible) {\n    return this.callBase(visible);\n  },\n  _hide() {\n    this._observeContentResize(false);\n    return this.callBase();\n  },\n  _executeTitleRenderAction: function ($titleElement) {\n    this._getTitleRenderAction()({\n      titleElement: getPublicElement($titleElement)\n    });\n  },\n  _getTitleRenderAction: function () {\n    return this._titleRenderAction || this._createTitleRenderAction();\n  },\n  _createTitleRenderAction: function () {\n    return this._titleRenderAction = this._createActionByOption(\"onTitleRendered\", {\n      element: this.element(),\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _getCloseButton: function () {\n    return {\n      toolbar: \"top\",\n      location: \"after\",\n      template: this._getCloseButtonRenderer()\n    };\n  },\n  _getCloseButtonRenderer: function () {\n    return (_, __, container) => {\n      var $button = $(\"<div>\").addClass(POPUP_TITLE_CLOSEBUTTON_CLASS);\n      this._createComponent($button, Button, {\n        icon: \"close\",\n        onClick: this._createToolbarItemAction(void 0),\n        stylingMode: \"text\",\n        integrationOptions: {}\n      });\n      $(container).append($button);\n    };\n  },\n  _getToolbarItems: function (toolbar) {\n    var toolbarItems = this.option(\"toolbarItems\");\n    var toolbarsItems = [];\n    this._toolbarItemClasses = [];\n    var currentPlatform = devices.current().platform;\n    var index = 0;\n    each(toolbarItems, (_, data) => {\n      var isShortcut = isDefined(data.shortcut);\n      var item = isShortcut ? getButtonPlace(data.shortcut) : data;\n      if (isShortcut && \"ios\" === currentPlatform && index < 2) {\n        item.toolbar = \"top\";\n        index++;\n      }\n      item.toolbar = data.toolbar || item.toolbar || \"top\";\n      if (item && item.toolbar === toolbar) {\n        if (isShortcut) {\n          extend(item, {\n            location: data.location\n          }, this._getToolbarItemByAlias(data));\n        }\n        var isLTROrder = \"generic\" === currentPlatform;\n        if (\"done\" === data.shortcut && isLTROrder || \"cancel\" === data.shortcut && !isLTROrder) {\n          toolbarsItems.unshift(item);\n        } else {\n          toolbarsItems.push(item);\n        }\n      }\n    });\n    if (\"top\" === toolbar && this._hasCloseButton()) {\n      toolbarsItems.push(this._getCloseButton());\n    }\n    return toolbarsItems;\n  },\n  _hasCloseButton() {\n    return this.option(\"showCloseButton\") && this.option(\"showTitle\");\n  },\n  _getLocalizationKey: itemType => \"done\" === itemType.toLowerCase() ? \"OK\" : camelize(itemType, true),\n  _getToolbarItemByAlias: function (data) {\n    var that = this;\n    var itemType = data.shortcut;\n    if (!ALLOWED_TOOLBAR_ITEM_ALIASES.includes(itemType)) {\n      return false;\n    }\n    var itemConfig = extend({\n      text: messageLocalization.format(this._getLocalizationKey(itemType)),\n      onClick: this._createToolbarItemAction(data.onClick),\n      integrationOptions: {},\n      type: that.option(\"useDefaultToolbarButtons\") ? BUTTON_DEFAULT_TYPE : BUTTON_NORMAL_TYPE,\n      stylingMode: that.option(\"useFlatToolbarButtons\") ? BUTTON_TEXT_MODE : BUTTON_CONTAINED_MODE\n    }, data.options || {});\n    var itemClass = POPUP_CLASS + \"-\" + itemType;\n    this._toolbarItemClasses.push(itemClass);\n    return {\n      template: function (_, __, container) {\n        var $toolbarItem = $(\"<div>\").addClass(itemClass).appendTo(container);\n        that._createComponent($toolbarItem, Button, itemConfig);\n      }\n    };\n  },\n  _createToolbarItemAction: function (clickAction) {\n    return this._createAction(clickAction, {\n      afterExecute: function (e) {\n        e.component.hide();\n      }\n    });\n  },\n  _renderBottom: function () {\n    var items = this._getToolbarItems(\"bottom\");\n    if (items.length) {\n      this._$bottom && this._$bottom.remove();\n      var $bottom = $(\"<div>\").addClass(POPUP_BOTTOM_CLASS).insertAfter(this.$content());\n      this._$bottom = this._renderTemplateByType(\"bottomTemplate\", items, $bottom, {\n        compactMode: true\n      }).addClass(POPUP_BOTTOM_CLASS);\n      this._toggleClasses();\n    } else {\n      this._$bottom && this._$bottom.detach();\n    }\n  },\n  _toggleDisabledState: function (value) {\n    this.callBase(...arguments);\n    this.$content().toggleClass(DISABLED_STATE_CLASS, Boolean(value));\n  },\n  _toggleClasses: function () {\n    var aliases = ALLOWED_TOOLBAR_ITEM_ALIASES;\n    each(aliases, (_, alias) => {\n      var className = POPUP_CLASS + \"-\" + alias;\n      if (this._toolbarItemClasses.includes(className)) {\n        this.$wrapper().addClass(className + \"-visible\");\n        this._$bottom.addClass(className);\n      } else {\n        this.$wrapper().removeClass(className + \"-visible\");\n        this._$bottom.removeClass(className);\n      }\n    });\n  },\n  _toggleFocusClass(isFocused, $element) {\n    this.callBase(isFocused, $element);\n    if (isFocused && !zIndexPool.isLastZIndexInStack(this._zIndex)) {\n      var zIndex = zIndexPool.create(this._zIndexInitValue());\n      zIndexPool.remove(this._zIndex);\n      this._zIndex = zIndex;\n      this._$wrapper.css(\"zIndex\", zIndex);\n      this._$content.css(\"zIndex\", zIndex);\n    }\n  },\n  _toggleContentScrollClass() {\n    var isNativeScrollingEnabled = !this.option(\"preventScrollEvents\");\n    this.$content().toggleClass(POPUP_CONTENT_SCROLLABLE_CLASS, isNativeScrollingEnabled);\n  },\n  _getPositionControllerConfig() {\n    var {\n      fullScreen: fullScreen,\n      forceApplyBindings: forceApplyBindings,\n      dragOutsideBoundary: dragOutsideBoundary,\n      dragAndResizeArea: dragAndResizeArea,\n      outsideDragFactor: outsideDragFactor\n    } = this.option();\n    return extend({}, this.callBase(), {\n      fullScreen: fullScreen,\n      forceApplyBindings: forceApplyBindings,\n      dragOutsideBoundary: dragOutsideBoundary,\n      dragAndResizeArea: dragAndResizeArea,\n      outsideDragFactor: outsideDragFactor\n    });\n  },\n  _initPositionController() {\n    this._positionController = new PopupPositionController(this._getPositionControllerConfig());\n  },\n  _getDragTarget: function () {\n    return this.topToolbar();\n  },\n  _renderGeometry: function (options) {\n    var {\n      visible: visible,\n      useResizeObserver: useResizeObserver\n    } = this.option();\n    if (visible && hasWindow()) {\n      var isAnimated = this._showAnimationProcessing;\n      var shouldRepeatAnimation = isAnimated && !(null !== options && void 0 !== options && options.forceStopAnimation) && useResizeObserver;\n      this._isAnimationPaused = shouldRepeatAnimation || void 0;\n      this._stopAnimation();\n      if (null !== options && void 0 !== options && options.shouldOnlyReposition) {\n        this._renderPosition(false);\n      } else {\n        this._renderGeometryImpl(null === options || void 0 === options ? void 0 : options.isDimensionChange);\n      }\n      if (shouldRepeatAnimation) {\n        this._animateShowing();\n        this._isAnimationPaused = void 0;\n      }\n    }\n  },\n  _cacheDimensions: function () {\n    if (!this.option(\"useResizeObserver\")) {\n      return;\n    }\n    this._renderedDimensions = {\n      width: parseInt(getWidth(this._$content), 10),\n      height: parseInt(getHeight(this._$content), 10)\n    };\n  },\n  _renderGeometryImpl: function () {\n    var isDimensionChange = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : false;\n    if (!isDimensionChange) {\n      this._resetContentHeight();\n    }\n    this.callBase();\n    this._cacheDimensions();\n    this._setContentHeight();\n  },\n  _resetContentHeight: function () {\n    var height = this._getOptionValue(\"height\");\n    if (\"auto\" === height) {\n      this.$content().css({\n        height: \"auto\",\n        maxHeight: \"none\"\n      });\n    }\n  },\n  _renderDrag: function () {\n    var $dragTarget = this._getDragTarget();\n    var dragEnabled = this.option(\"dragEnabled\");\n    if (!$dragTarget) {\n      return;\n    }\n    var config = {\n      dragEnabled: dragEnabled,\n      handle: $dragTarget.get(0),\n      draggableElement: this._$content.get(0),\n      positionController: this._positionController\n    };\n    if (this._drag) {\n      this._drag.init(config);\n    } else {\n      this._drag = new PopupDrag(config);\n    }\n    this.$overlayContent().toggleClass(POPUP_DRAGGABLE_CLASS, dragEnabled);\n  },\n  _renderResize: function () {\n    this._resizable = this._createComponent(this._$content, Resizable, {\n      handles: this.option(\"resizeEnabled\") ? \"all\" : \"none\",\n      onResizeEnd: e => {\n        this._resizeEndHandler(e);\n        this._observeContentResize(true);\n      },\n      onResize: e => {\n        this._setContentHeight();\n        this._actions.onResize(e);\n      },\n      onResizeStart: e => {\n        this._observeContentResize(false);\n        this._actions.onResizeStart(e);\n      },\n      minHeight: 100,\n      minWidth: 100,\n      area: this._positionController.$dragResizeContainer,\n      keepAspectRatio: false\n    });\n  },\n  _resizeEndHandler: function (e) {\n    var width = this._resizable.option(\"width\");\n    var height = this._resizable.option(\"height\");\n    width && this._setOptionWithoutOptionChange(\"width\", width);\n    height && this._setOptionWithoutOptionChange(\"height\", height);\n    this._cacheDimensions();\n    this._positionController.resizeHandled();\n    this._positionController.detectVisualPositionChange(e.event);\n    this._actions.onResizeEnd(e);\n  },\n  _setContentHeight: function () {\n    (this.option(\"forceApplyBindings\") || noop)();\n    var overlayContent = this.$overlayContent().get(0);\n    var currentHeightStrategyClass = this._chooseHeightStrategy(overlayContent);\n    this.$content().css(this._getHeightCssStyles(currentHeightStrategyClass, overlayContent));\n    this._setHeightClasses(this.$overlayContent(), currentHeightStrategyClass);\n  },\n  _heightStrategyChangeOffset: function (currentHeightStrategyClass, popupVerticalPaddings) {\n    return currentHeightStrategyClass === HEIGHT_STRATEGIES.flex ? -popupVerticalPaddings : 0;\n  },\n  _chooseHeightStrategy: function (overlayContent) {\n    var isAutoWidth = \"auto\" === overlayContent.style.width || \"\" === overlayContent.style.width;\n    var currentHeightStrategyClass = HEIGHT_STRATEGIES.static;\n    if (this._isAutoHeight() && this.option(\"autoResizeEnabled\")) {\n      if (isAutoWidth || IS_OLD_SAFARI) {\n        currentHeightStrategyClass = HEIGHT_STRATEGIES.inherit;\n      } else {\n        currentHeightStrategyClass = HEIGHT_STRATEGIES.flex;\n      }\n    }\n    return currentHeightStrategyClass;\n  },\n  _getHeightCssStyles: function (currentHeightStrategyClass, overlayContent) {\n    var cssStyles = {};\n    var contentMaxHeight = this._getOptionValue(\"maxHeight\", overlayContent);\n    var contentMinHeight = this._getOptionValue(\"minHeight\", overlayContent);\n    var popupHeightParts = this._splitPopupHeight();\n    var toolbarsAndVerticalOffsetsHeight = popupHeightParts.header + popupHeightParts.footer + popupHeightParts.contentVerticalOffsets + popupHeightParts.popupVerticalOffsets + this._heightStrategyChangeOffset(currentHeightStrategyClass, popupHeightParts.popupVerticalPaddings);\n    if (currentHeightStrategyClass === HEIGHT_STRATEGIES.static) {\n      if (!this._isAutoHeight() || contentMaxHeight || contentMinHeight) {\n        var overlayHeight = this.option(\"fullScreen\") ? Math.min(getBoundingRect(overlayContent).height, getWindow().innerHeight) : getBoundingRect(overlayContent).height;\n        var contentHeight = overlayHeight - toolbarsAndVerticalOffsetsHeight;\n        cssStyles = {\n          height: Math.max(0, contentHeight),\n          minHeight: \"auto\",\n          maxHeight: \"auto\"\n        };\n      }\n    } else {\n      var container = $(this._positionController.$visualContainer).get(0);\n      var maxHeightValue = addOffsetToMaxHeight(contentMaxHeight, -toolbarsAndVerticalOffsetsHeight, container);\n      var minHeightValue = addOffsetToMinHeight(contentMinHeight, -toolbarsAndVerticalOffsetsHeight, container);\n      cssStyles = {\n        height: \"auto\",\n        minHeight: minHeightValue,\n        maxHeight: maxHeightValue\n      };\n    }\n    return cssStyles;\n  },\n  _setHeightClasses: function ($container, currentClass) {\n    var excessClasses = \"\";\n    for (var name in HEIGHT_STRATEGIES) {\n      if (HEIGHT_STRATEGIES[name] !== currentClass) {\n        excessClasses += \" \" + HEIGHT_STRATEGIES[name];\n      }\n    }\n    $container.removeClass(excessClasses).addClass(currentClass);\n  },\n  _isAutoHeight: function () {\n    return \"auto\" === this.$overlayContent().get(0).style.height;\n  },\n  _splitPopupHeight: function () {\n    var topToolbar = this.topToolbar();\n    var bottomToolbar = this.bottomToolbar();\n    return {\n      header: getVisibleHeight(topToolbar && topToolbar.get(0)),\n      footer: getVisibleHeight(bottomToolbar && bottomToolbar.get(0)),\n      contentVerticalOffsets: getVerticalOffsets(this.$overlayContent().get(0), true),\n      popupVerticalOffsets: getVerticalOffsets(this.$content().get(0), true),\n      popupVerticalPaddings: getVerticalOffsets(this.$content().get(0), false)\n    };\n  },\n  _isAllWindowCovered: function () {\n    return this.callBase() || this.option(\"fullScreen\");\n  },\n  _renderDimensions: function () {\n    if (this.option(\"fullScreen\")) {\n      this.$overlayContent().css({\n        width: \"100%\",\n        height: \"100%\",\n        minWidth: \"\",\n        maxWidth: \"\",\n        minHeight: \"\",\n        maxHeight: \"\"\n      });\n    } else {\n      this.callBase();\n    }\n    if (hasWindow()) {\n      this._renderFullscreenWidthClass();\n    }\n  },\n  _dimensionChanged: function () {\n    this._renderGeometry({\n      isDimensionChange: true\n    });\n  },\n  _clean: function () {\n    this.callBase();\n    this._observeContentResize(false);\n  },\n  _dispose: function () {\n    this.callBase();\n    this._toggleBodyScroll(true);\n  },\n  _renderFullscreenWidthClass: function () {\n    this.$overlayContent().toggleClass(POPUP_FULL_SCREEN_WIDTH_CLASS, getOuterWidth(this.$overlayContent()) === getWidth(window));\n  },\n  _toggleSafariScrolling() {\n    if (!this.option(\"enableBodyScroll\")) {\n      return;\n    }\n    this.callBase();\n  },\n  _toggleBodyScroll: function (enabled) {\n    if (!this._bodyOverflowManager) {\n      return;\n    }\n    var {\n      setOverflow: setOverflow,\n      restoreOverflow: restoreOverflow\n    } = this._bodyOverflowManager;\n    if (enabled) {\n      restoreOverflow();\n    } else {\n      setOverflow();\n    }\n  },\n  refreshPosition: function () {\n    this._renderPosition();\n  },\n  _optionChanged: function (args) {\n    var _this$_resizable2;\n    var {\n      value: value,\n      name: name\n    } = args;\n    switch (name) {\n      case \"disabled\":\n        this.callBase(args);\n        this._renderTitle();\n        this._renderBottom();\n        break;\n      case \"animation\":\n        this._updateResizeCallbackSkipCondition();\n        break;\n      case \"enableBodyScroll\":\n        this._toggleBodyScroll(value);\n        break;\n      case \"showTitle\":\n      case \"title\":\n      case \"titleTemplate\":\n        this._renderTitle();\n        this._renderGeometry();\n        triggerResizeEvent(this.$overlayContent());\n        break;\n      case \"bottomTemplate\":\n        this._renderBottom();\n        this._renderGeometry();\n        triggerResizeEvent(this.$overlayContent());\n        break;\n      case \"container\":\n        this.callBase(args);\n        if (this.option(\"resizeEnabled\")) {\n          var _this$_resizable;\n          null === (_this$_resizable = this._resizable) || void 0 === _this$_resizable ? void 0 : _this$_resizable.option(\"area\", this._positionController.$dragResizeContainer);\n        }\n        break;\n      case \"width\":\n      case \"height\":\n        this.callBase(args);\n        null === (_this$_resizable2 = this._resizable) || void 0 === _this$_resizable2 ? void 0 : _this$_resizable2.option(name, value);\n        break;\n      case \"onTitleRendered\":\n        this._createTitleRenderAction(value);\n        break;\n      case \"toolbarItems\":\n      case \"useDefaultToolbarButtons\":\n      case \"useFlatToolbarButtons\":\n        var shouldRenderGeometry = !args.fullName.match(/^toolbarItems((\\[\\d+\\])(\\.(options|visible).*)?)?$/);\n        this._renderTitle();\n        this._renderBottom();\n        if (shouldRenderGeometry) {\n          this._renderGeometry();\n          triggerResizeEvent(this.$overlayContent());\n        }\n        break;\n      case \"dragEnabled\":\n        this._renderDrag();\n        break;\n      case \"dragAndResizeArea\":\n        this._positionController.dragAndResizeArea = value;\n        if (this.option(\"resizeEnabled\")) {\n          this._resizable.option(\"area\", this._positionController.$dragResizeContainer);\n        }\n        this._positionController.positionContent();\n        break;\n      case \"dragOutsideBoundary\":\n        this._positionController.dragOutsideBoundary = value;\n        if (this.option(\"resizeEnabled\")) {\n          this._resizable.option(\"area\", this._positionController.$dragResizeContainer);\n        }\n        break;\n      case \"outsideDragFactor\":\n        this._positionController.outsideDragFactor = value;\n        break;\n      case \"resizeEnabled\":\n        this._renderResize();\n        this._renderGeometry();\n        break;\n      case \"autoResizeEnabled\":\n        this._renderGeometry();\n        triggerResizeEvent(this.$overlayContent());\n        break;\n      case \"fullScreen\":\n        this._positionController.fullScreen = value;\n        this._toggleFullScreenClass(value);\n        this._toggleSafariScrolling();\n        this._renderGeometry();\n        triggerResizeEvent(this.$overlayContent());\n        break;\n      case \"showCloseButton\":\n        this._renderTitle();\n        break;\n      case \"preventScrollEvents\":\n        this.callBase(args);\n        this._toggleContentScrollClass();\n        break;\n      default:\n        this.callBase(args);\n    }\n  },\n  bottomToolbar: function () {\n    return this._$bottom;\n  },\n  topToolbar: function () {\n    return this._$title;\n  },\n  $content: function () {\n    return this._$popupContent;\n  },\n  content: function () {\n    return getPublicElement(this.$content());\n  },\n  $overlayContent: function () {\n    return this._$content;\n  }\n});\nregisterComponent(\"dxPopup\", Popup);\nexport default Popup;","map":{"version":3,"names":["registerComponent","devices","getPublicElement","$","EmptyTemplate","browser","noop","extend","camelize","each","getVisibleHeight","addOffsetToMaxHeight","addOffsetToMinHeight","getVerticalOffsets","getOuterWidth","getWidth","getHeight","getBoundingRect","isDefined","isObject","compare","compareVersions","getWindow","hasWindow","triggerResizeEvent","messageLocalization","PopupDrag","Resizable","Button","Overlay","isMaterial","current","currentTheme","resizeObserverSingleton","zIndexPool","PopupPositionController","createBodyOverflowManager","window","POPUP_CLASS","POPUP_WRAPPER_CLASS","POPUP_FULL_SCREEN_CLASS","POPUP_FULL_SCREEN_WIDTH_CLASS","POPUP_NORMAL_CLASS","POPUP_CONTENT_CLASS","POPUP_CONTENT_SCROLLABLE_CLASS","DISABLED_STATE_CLASS","POPUP_DRAGGABLE_CLASS","POPUP_TITLE_CLASS","POPUP_TITLE_CLOSEBUTTON_CLASS","POPUP_BOTTOM_CLASS","POPUP_HAS_CLOSE_BUTTON_CLASS","TEMPLATE_WRAPPER_CLASS","POPUP_CONTENT_FLEX_HEIGHT_CLASS","POPUP_CONTENT_INHERIT_HEIGHT_CLASS","ALLOWED_TOOLBAR_ITEM_ALIASES","BUTTON_DEFAULT_TYPE","BUTTON_NORMAL_TYPE","BUTTON_TEXT_MODE","BUTTON_CONTAINED_MODE","IS_OLD_SAFARI","safari","version","HEIGHT_STRATEGIES","static","inherit","flex","getButtonPlace","name","device","platform","toolbar","location","Popup","_supportedKeys","callBase","upArrow","e","_this$_drag","_drag","moveUp","downArrow","_this$_drag2","moveDown","leftArrow","_this$_drag3","moveLeft","rightArrow","_this$_drag4","moveRight","_getDefaultOptions","fullScreen","title","showTitle","titleTemplate","onTitleRendered","dragOutsideBoundary","dragEnabled","dragAndResizeArea","enableBodyScroll","outsideDragFactor","onResizeStart","onResize","onResizeEnd","resizeEnabled","toolbarItems","showCloseButton","bottomTemplate","useDefaultToolbarButtons","useFlatToolbarButtons","autoResizeEnabled","_defaultOptionsRules","themeName","concat","options","animation","_iosAnimation","_androidAnimation","_device","real","deviceType","isSimulator","focusStateEnabled","show","type","duration","from","position","my","at","to","hide","opacity","option","top","_init","popupWrapperClassExternal","popupWrapperClasses","_createBodyOverflowManager","_updateResizeCallbackSkipCondition","$element","addClass","$wrapper","_$popupContent","_$content","wrapInner","children","eq","_toggleContentScrollClass","$overlayContent","attr","_render","isFullscreen","_toggleFullScreenClass","_bodyOverflowManager","value","toggleClass","_initTemplates","_templateManager","addDefaultTemplates","bottom","_getActionsList","_contentResizeHandler","entry","_shouldSkipContentResize","_renderGeometry","shouldOnlyReposition","_doesShowAnimationChangeDimensions","some","prop","_animation$show","config","doesShowAnimationChangeDimensions","_showAnimationProcessing","_areContentDimensionsRendered","_observeContentResize","shouldObserve","contentElement","get","observe","unobserve","_entry$contentBoxSize","_this$_renderedDimens3","_this$_renderedDimens4","contentBox","contentBoxSize","_this$_renderedDimens","_this$_renderedDimens2","parseInt","inlineSize","_renderedDimensions","width","blockSize","height","contentRect","_renderContent","_renderContentImpl","_renderTitle","_renderResize","_renderBottom","items","_getToolbarItems","titleText","unshift","ios","text","length","_$title","remove","$title","insertBefore","$content","_renderTemplateByType","_renderDrag","_executeTitleRenderAction","_hasCloseButton","detach","optionName","data","$container","additionalToolbarOptions","rtlEnabled","disabled","template","_getTemplateByOption","toolbarTemplate","integrationOptions","skipTemplates","toolbarOptions","useDefaultButtons","useFlatButtons","_getTemplate","render","container","model","widget","_getToolbarName","$toolbar","replaceWith","$result","hasClass","_renderVisibilityAnimate","visible","_hide","$titleElement","_getTitleRenderAction","titleElement","_titleRenderAction","_createTitleRenderAction","_createActionByOption","element","excludeValidators","_getCloseButton","_getCloseButtonRenderer","_","__","$button","_createComponent","icon","onClick","_createToolbarItemAction","stylingMode","append","toolbarsItems","_toolbarItemClasses","currentPlatform","index","isShortcut","shortcut","item","_getToolbarItemByAlias","isLTROrder","push","_getLocalizationKey","itemType","toLowerCase","that","includes","itemConfig","format","itemClass","$toolbarItem","appendTo","clickAction","_createAction","afterExecute","component","_$bottom","$bottom","insertAfter","compactMode","_toggleClasses","_toggleDisabledState","arguments","Boolean","aliases","alias","className","removeClass","_toggleFocusClass","isFocused","isLastZIndexInStack","_zIndex","zIndex","create","_zIndexInitValue","_$wrapper","css","isNativeScrollingEnabled","_getPositionControllerConfig","forceApplyBindings","_initPositionController","_positionController","_getDragTarget","topToolbar","useResizeObserver","isAnimated","shouldRepeatAnimation","forceStopAnimation","_isAnimationPaused","_stopAnimation","_renderPosition","_renderGeometryImpl","isDimensionChange","_animateShowing","_cacheDimensions","_resetContentHeight","_setContentHeight","_getOptionValue","maxHeight","$dragTarget","handle","draggableElement","positionController","init","_resizable","handles","_resizeEndHandler","_actions","minHeight","minWidth","area","$dragResizeContainer","keepAspectRatio","_setOptionWithoutOptionChange","resizeHandled","detectVisualPositionChange","event","overlayContent","currentHeightStrategyClass","_chooseHeightStrategy","_getHeightCssStyles","_setHeightClasses","_heightStrategyChangeOffset","popupVerticalPaddings","isAutoWidth","style","_isAutoHeight","cssStyles","contentMaxHeight","contentMinHeight","popupHeightParts","_splitPopupHeight","toolbarsAndVerticalOffsetsHeight","header","footer","contentVerticalOffsets","popupVerticalOffsets","overlayHeight","Math","min","innerHeight","contentHeight","max","$visualContainer","maxHeightValue","minHeightValue","currentClass","excessClasses","bottomToolbar","_isAllWindowCovered","_renderDimensions","maxWidth","_renderFullscreenWidthClass","_dimensionChanged","_clean","_dispose","_toggleBodyScroll","_toggleSafariScrolling","enabled","setOverflow","restoreOverflow","refreshPosition","_optionChanged","args","_this$_resizable2","_this$_resizable","shouldRenderGeometry","fullName","match","positionContent","content"],"sources":["C:/Users/Michal Abargel/Desktop/FULLSTACK_PROJECTS/PrivateLessones/F(x)/client/gui/node_modules/devextreme/esm/ui/popup/ui.popup.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/popup/ui.popup.js)\r\n * Version: 23.1.5\r\n * Build date: Wed Aug 30 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    EmptyTemplate\r\n} from \"../../core/templates/empty_template\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    camelize\r\n} from \"../../core/utils/inflector\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    getVisibleHeight,\r\n    addOffsetToMaxHeight,\r\n    addOffsetToMinHeight,\r\n    getVerticalOffsets,\r\n    getOuterWidth,\r\n    getWidth,\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    isDefined,\r\n    isObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    compare as compareVersions\r\n} from \"../../core/utils/version\";\r\nimport {\r\n    getWindow,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    triggerResizeEvent\r\n} from \"../../events/visibility_change\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport PopupDrag from \"./popup_drag\";\r\nimport Resizable from \"../resizable\";\r\nimport Button from \"../button\";\r\nimport Overlay from \"../overlay/ui.overlay\";\r\nimport {\r\n    isMaterial,\r\n    current as currentTheme\r\n} from \"../themes\";\r\nimport \"../toolbar/ui.toolbar.base\";\r\nimport resizeObserverSingleton from \"../../core/resize_observer\";\r\nimport * as zIndexPool from \"../overlay/z_index\";\r\nimport {\r\n    PopupPositionController\r\n} from \"./popup_position_controller\";\r\nimport {\r\n    createBodyOverflowManager\r\n} from \"./popup_overflow_manager\";\r\nvar window = getWindow();\r\nvar POPUP_CLASS = \"dx-popup\";\r\nvar POPUP_WRAPPER_CLASS = \"dx-popup-wrapper\";\r\nvar POPUP_FULL_SCREEN_CLASS = \"dx-popup-fullscreen\";\r\nvar POPUP_FULL_SCREEN_WIDTH_CLASS = \"dx-popup-fullscreen-width\";\r\nvar POPUP_NORMAL_CLASS = \"dx-popup-normal\";\r\nvar POPUP_CONTENT_CLASS = \"dx-popup-content\";\r\nvar POPUP_CONTENT_SCROLLABLE_CLASS = \"dx-popup-content-scrollable\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar POPUP_DRAGGABLE_CLASS = \"dx-popup-draggable\";\r\nvar POPUP_TITLE_CLASS = \"dx-popup-title\";\r\nvar POPUP_TITLE_CLOSEBUTTON_CLASS = \"dx-closebutton\";\r\nvar POPUP_BOTTOM_CLASS = \"dx-popup-bottom\";\r\nvar POPUP_HAS_CLOSE_BUTTON_CLASS = \"dx-has-close-button\";\r\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\r\nvar POPUP_CONTENT_FLEX_HEIGHT_CLASS = \"dx-popup-flex-height\";\r\nvar POPUP_CONTENT_INHERIT_HEIGHT_CLASS = \"dx-popup-inherit-height\";\r\nvar ALLOWED_TOOLBAR_ITEM_ALIASES = [\"cancel\", \"clear\", \"done\"];\r\nvar BUTTON_DEFAULT_TYPE = \"default\";\r\nvar BUTTON_NORMAL_TYPE = \"normal\";\r\nvar BUTTON_TEXT_MODE = \"text\";\r\nvar BUTTON_CONTAINED_MODE = \"contained\";\r\nvar IS_OLD_SAFARI = browser.safari && compareVersions(browser.version, [11]) < 0;\r\nvar HEIGHT_STRATEGIES = {\r\n    static: \"\",\r\n    inherit: POPUP_CONTENT_INHERIT_HEIGHT_CLASS,\r\n    flex: POPUP_CONTENT_FLEX_HEIGHT_CLASS\r\n};\r\nvar getButtonPlace = name => {\r\n    var device = devices.current();\r\n    var platform = device.platform;\r\n    var toolbar = \"bottom\";\r\n    var location = \"before\";\r\n    if (\"ios\" === platform) {\r\n        switch (name) {\r\n            case \"cancel\":\r\n                toolbar = \"top\";\r\n                break;\r\n            case \"clear\":\r\n                toolbar = \"top\";\r\n                location = \"after\";\r\n                break;\r\n            case \"done\":\r\n                location = \"after\"\r\n        }\r\n    } else if (\"android\" === platform) {\r\n        switch (name) {\r\n            case \"cancel\":\r\n            case \"done\":\r\n                location = \"after\"\r\n        }\r\n    }\r\n    return {\r\n        toolbar: toolbar,\r\n        location: location\r\n    }\r\n};\r\nvar Popup = Overlay.inherit({\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            upArrow: e => {\r\n                var _this$_drag;\r\n                null === (_this$_drag = this._drag) || void 0 === _this$_drag ? void 0 : _this$_drag.moveUp(e)\r\n            },\r\n            downArrow: e => {\r\n                var _this$_drag2;\r\n                null === (_this$_drag2 = this._drag) || void 0 === _this$_drag2 ? void 0 : _this$_drag2.moveDown(e)\r\n            },\r\n            leftArrow: e => {\r\n                var _this$_drag3;\r\n                null === (_this$_drag3 = this._drag) || void 0 === _this$_drag3 ? void 0 : _this$_drag3.moveLeft(e)\r\n            },\r\n            rightArrow: e => {\r\n                var _this$_drag4;\r\n                null === (_this$_drag4 = this._drag) || void 0 === _this$_drag4 ? void 0 : _this$_drag4.moveRight(e)\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            fullScreen: false,\r\n            title: \"\",\r\n            showTitle: true,\r\n            titleTemplate: \"title\",\r\n            onTitleRendered: null,\r\n            dragOutsideBoundary: false,\r\n            dragEnabled: false,\r\n            dragAndResizeArea: void 0,\r\n            enableBodyScroll: true,\r\n            outsideDragFactor: 0,\r\n            onResizeStart: null,\r\n            onResize: null,\r\n            onResizeEnd: null,\r\n            resizeEnabled: false,\r\n            toolbarItems: [],\r\n            showCloseButton: false,\r\n            bottomTemplate: \"bottom\",\r\n            useDefaultToolbarButtons: false,\r\n            useFlatToolbarButtons: false,\r\n            autoResizeEnabled: true\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = currentTheme();\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                animation: this._iosAnimation\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"android\"\r\n            },\r\n            options: {\r\n                animation: this._androidAnimation\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                showCloseButton: true\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return \"desktop\" === devices.real().deviceType && \"generic\" === _device.platform\r\n            },\r\n            options: {\r\n                dragEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial(themeName)\r\n            },\r\n            options: {\r\n                useDefaultToolbarButtons: true,\r\n                useFlatToolbarButtons: true,\r\n                showCloseButton: false\r\n            }\r\n        }])\r\n    },\r\n    _iosAnimation: {\r\n        show: {\r\n            type: \"slide\",\r\n            duration: 400,\r\n            from: {\r\n                position: {\r\n                    my: \"top\",\r\n                    at: \"bottom\"\r\n                }\r\n            },\r\n            to: {\r\n                position: {\r\n                    my: \"center\",\r\n                    at: \"center\"\r\n                }\r\n            }\r\n        },\r\n        hide: {\r\n            type: \"slide\",\r\n            duration: 400,\r\n            from: {\r\n                opacity: 1,\r\n                position: {\r\n                    my: \"center\",\r\n                    at: \"center\"\r\n                }\r\n            },\r\n            to: {\r\n                opacity: 1,\r\n                position: {\r\n                    my: \"top\",\r\n                    at: \"bottom\"\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _androidAnimation: function() {\r\n        return this.option(\"fullScreen\") ? {\r\n            show: {\r\n                type: \"slide\",\r\n                duration: 300,\r\n                from: {\r\n                    top: \"30%\",\r\n                    opacity: 0\r\n                },\r\n                to: {\r\n                    top: 0,\r\n                    opacity: 1\r\n                }\r\n            },\r\n            hide: {\r\n                type: \"slide\",\r\n                duration: 300,\r\n                from: {\r\n                    top: 0,\r\n                    opacity: 1\r\n                },\r\n                to: {\r\n                    top: \"30%\",\r\n                    opacity: 0\r\n                }\r\n            }\r\n        } : {\r\n            show: {\r\n                type: \"fade\",\r\n                duration: 400,\r\n                from: 0,\r\n                to: 1\r\n            },\r\n            hide: {\r\n                type: \"fade\",\r\n                duration: 400,\r\n                from: 1,\r\n                to: 0\r\n            }\r\n        }\r\n    },\r\n    _init: function() {\r\n        var popupWrapperClassExternal = this.option(\"_wrapperClassExternal\");\r\n        var popupWrapperClasses = popupWrapperClassExternal ? \"\".concat(POPUP_WRAPPER_CLASS, \" \").concat(popupWrapperClassExternal) : POPUP_WRAPPER_CLASS;\r\n        this.callBase();\r\n        this._createBodyOverflowManager();\r\n        this._updateResizeCallbackSkipCondition();\r\n        this.$element().addClass(POPUP_CLASS);\r\n        this.$wrapper().addClass(popupWrapperClasses);\r\n        this._$popupContent = this._$content.wrapInner($(\"<div>\").addClass(POPUP_CONTENT_CLASS)).children().eq(0);\r\n        this._toggleContentScrollClass();\r\n        this.$overlayContent().attr(\"role\", \"dialog\")\r\n    },\r\n    _render: function() {\r\n        var isFullscreen = this.option(\"fullScreen\");\r\n        this._toggleFullScreenClass(isFullscreen);\r\n        this.callBase()\r\n    },\r\n    _createBodyOverflowManager: function() {\r\n        this._bodyOverflowManager = createBodyOverflowManager()\r\n    },\r\n    _toggleFullScreenClass: function(value) {\r\n        this.$overlayContent().toggleClass(POPUP_FULL_SCREEN_CLASS, value).toggleClass(POPUP_NORMAL_CLASS, !value)\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            title: new EmptyTemplate,\r\n            bottom: new EmptyTemplate\r\n        })\r\n    },\r\n    _getActionsList: function() {\r\n        return this.callBase().concat([\"onResizeStart\", \"onResize\", \"onResizeEnd\"])\r\n    },\r\n    _contentResizeHandler: function(entry) {\r\n        if (!this._shouldSkipContentResize(entry)) {\r\n            this._renderGeometry({\r\n                shouldOnlyReposition: true\r\n            })\r\n        }\r\n    },\r\n    _doesShowAnimationChangeDimensions: function() {\r\n        var animation = this.option(\"animation\");\r\n        return [\"to\", \"from\"].some(prop => {\r\n            var _animation$show;\r\n            var config = null === animation || void 0 === animation ? void 0 : null === (_animation$show = animation.show) || void 0 === _animation$show ? void 0 : _animation$show[prop];\r\n            return isObject(config) && (\"width\" in config || \"height\" in config)\r\n        })\r\n    },\r\n    _updateResizeCallbackSkipCondition() {\r\n        var doesShowAnimationChangeDimensions = this._doesShowAnimationChangeDimensions();\r\n        this._shouldSkipContentResize = entry => doesShowAnimationChangeDimensions && this._showAnimationProcessing || this._areContentDimensionsRendered(entry)\r\n    },\r\n    _observeContentResize: function(shouldObserve) {\r\n        if (!this.option(\"useResizeObserver\")) {\r\n            return\r\n        }\r\n        var contentElement = this._$content.get(0);\r\n        if (shouldObserve) {\r\n            resizeObserverSingleton.observe(contentElement, entry => {\r\n                this._contentResizeHandler(entry)\r\n            })\r\n        } else {\r\n            resizeObserverSingleton.unobserve(contentElement)\r\n        }\r\n    },\r\n    _areContentDimensionsRendered: function(entry) {\r\n        var _entry$contentBoxSize, _this$_renderedDimens3, _this$_renderedDimens4;\r\n        var contentBox = null === (_entry$contentBoxSize = entry.contentBoxSize) || void 0 === _entry$contentBoxSize ? void 0 : _entry$contentBoxSize[0];\r\n        if (contentBox) {\r\n            var _this$_renderedDimens, _this$_renderedDimens2;\r\n            return parseInt(contentBox.inlineSize, 10) === (null === (_this$_renderedDimens = this._renderedDimensions) || void 0 === _this$_renderedDimens ? void 0 : _this$_renderedDimens.width) && parseInt(contentBox.blockSize, 10) === (null === (_this$_renderedDimens2 = this._renderedDimensions) || void 0 === _this$_renderedDimens2 ? void 0 : _this$_renderedDimens2.height)\r\n        }\r\n        var contentRect = entry.contentRect;\r\n        return parseInt(contentRect.width, 10) === (null === (_this$_renderedDimens3 = this._renderedDimensions) || void 0 === _this$_renderedDimens3 ? void 0 : _this$_renderedDimens3.width) && parseInt(contentRect.height, 10) === (null === (_this$_renderedDimens4 = this._renderedDimensions) || void 0 === _this$_renderedDimens4 ? void 0 : _this$_renderedDimens4.height)\r\n    },\r\n    _renderContent() {\r\n        this.callBase();\r\n        this._observeContentResize(true)\r\n    },\r\n    _renderContentImpl: function() {\r\n        this._renderTitle();\r\n        this.callBase();\r\n        this._renderResize();\r\n        this._renderBottom()\r\n    },\r\n    _renderTitle: function() {\r\n        var items = this._getToolbarItems(\"top\");\r\n        var titleText = this.option(\"title\");\r\n        var showTitle = this.option(\"showTitle\");\r\n        if (showTitle && !!titleText) {\r\n            items.unshift({\r\n                location: devices.current().ios ? \"center\" : \"before\",\r\n                text: titleText\r\n            })\r\n        }\r\n        if (showTitle || items.length > 0) {\r\n            this._$title && this._$title.remove();\r\n            var $title = $(\"<div>\").addClass(POPUP_TITLE_CLASS).insertBefore(this.$content());\r\n            this._$title = this._renderTemplateByType(\"titleTemplate\", items, $title).addClass(POPUP_TITLE_CLASS);\r\n            this._renderDrag();\r\n            this._executeTitleRenderAction(this._$title);\r\n            this._$title.toggleClass(POPUP_HAS_CLOSE_BUTTON_CLASS, this._hasCloseButton())\r\n        } else if (this._$title) {\r\n            this._$title.detach()\r\n        }\r\n    },\r\n    _renderTemplateByType: function(optionName, data, $container, additionalToolbarOptions) {\r\n        var {\r\n            rtlEnabled: rtlEnabled,\r\n            useDefaultToolbarButtons: useDefaultToolbarButtons,\r\n            useFlatToolbarButtons: useFlatToolbarButtons,\r\n            disabled: disabled\r\n        } = this.option();\r\n        var template = this._getTemplateByOption(optionName);\r\n        var toolbarTemplate = template instanceof EmptyTemplate;\r\n        if (toolbarTemplate) {\r\n            var integrationOptions = extend({}, this.option(\"integrationOptions\"), {\r\n                skipTemplates: [\"content\", \"title\"]\r\n            });\r\n            var toolbarOptions = extend(additionalToolbarOptions, {\r\n                items: data,\r\n                rtlEnabled: rtlEnabled,\r\n                useDefaultButtons: useDefaultToolbarButtons,\r\n                useFlatButtons: useFlatToolbarButtons,\r\n                disabled: disabled,\r\n                integrationOptions: integrationOptions\r\n            });\r\n            this._getTemplate(\"dx-polymorph-widget\").render({\r\n                container: $container,\r\n                model: {\r\n                    widget: this._getToolbarName(),\r\n                    options: toolbarOptions\r\n                }\r\n            });\r\n            var $toolbar = $container.children(\"div\");\r\n            $container.replaceWith($toolbar);\r\n            return $toolbar\r\n        } else {\r\n            var $result = $(template.render({\r\n                container: getPublicElement($container)\r\n            }));\r\n            if ($result.hasClass(TEMPLATE_WRAPPER_CLASS)) {\r\n                $container.replaceWith($result);\r\n                $container = $result\r\n            }\r\n            return $container\r\n        }\r\n    },\r\n    _getToolbarName: function() {\r\n        return \"dxToolbarBase\"\r\n    },\r\n    _renderVisibilityAnimate: function(visible) {\r\n        return this.callBase(visible)\r\n    },\r\n    _hide() {\r\n        this._observeContentResize(false);\r\n        return this.callBase()\r\n    },\r\n    _executeTitleRenderAction: function($titleElement) {\r\n        this._getTitleRenderAction()({\r\n            titleElement: getPublicElement($titleElement)\r\n        })\r\n    },\r\n    _getTitleRenderAction: function() {\r\n        return this._titleRenderAction || this._createTitleRenderAction()\r\n    },\r\n    _createTitleRenderAction: function() {\r\n        return this._titleRenderAction = this._createActionByOption(\"onTitleRendered\", {\r\n            element: this.element(),\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _getCloseButton: function() {\r\n        return {\r\n            toolbar: \"top\",\r\n            location: \"after\",\r\n            template: this._getCloseButtonRenderer()\r\n        }\r\n    },\r\n    _getCloseButtonRenderer: function() {\r\n        return (_, __, container) => {\r\n            var $button = $(\"<div>\").addClass(POPUP_TITLE_CLOSEBUTTON_CLASS);\r\n            this._createComponent($button, Button, {\r\n                icon: \"close\",\r\n                onClick: this._createToolbarItemAction(void 0),\r\n                stylingMode: \"text\",\r\n                integrationOptions: {}\r\n            });\r\n            $(container).append($button)\r\n        }\r\n    },\r\n    _getToolbarItems: function(toolbar) {\r\n        var toolbarItems = this.option(\"toolbarItems\");\r\n        var toolbarsItems = [];\r\n        this._toolbarItemClasses = [];\r\n        var currentPlatform = devices.current().platform;\r\n        var index = 0;\r\n        each(toolbarItems, (_, data) => {\r\n            var isShortcut = isDefined(data.shortcut);\r\n            var item = isShortcut ? getButtonPlace(data.shortcut) : data;\r\n            if (isShortcut && \"ios\" === currentPlatform && index < 2) {\r\n                item.toolbar = \"top\";\r\n                index++\r\n            }\r\n            item.toolbar = data.toolbar || item.toolbar || \"top\";\r\n            if (item && item.toolbar === toolbar) {\r\n                if (isShortcut) {\r\n                    extend(item, {\r\n                        location: data.location\r\n                    }, this._getToolbarItemByAlias(data))\r\n                }\r\n                var isLTROrder = \"generic\" === currentPlatform;\r\n                if (\"done\" === data.shortcut && isLTROrder || \"cancel\" === data.shortcut && !isLTROrder) {\r\n                    toolbarsItems.unshift(item)\r\n                } else {\r\n                    toolbarsItems.push(item)\r\n                }\r\n            }\r\n        });\r\n        if (\"top\" === toolbar && this._hasCloseButton()) {\r\n            toolbarsItems.push(this._getCloseButton())\r\n        }\r\n        return toolbarsItems\r\n    },\r\n    _hasCloseButton() {\r\n        return this.option(\"showCloseButton\") && this.option(\"showTitle\")\r\n    },\r\n    _getLocalizationKey: itemType => \"done\" === itemType.toLowerCase() ? \"OK\" : camelize(itemType, true),\r\n    _getToolbarItemByAlias: function(data) {\r\n        var that = this;\r\n        var itemType = data.shortcut;\r\n        if (!ALLOWED_TOOLBAR_ITEM_ALIASES.includes(itemType)) {\r\n            return false\r\n        }\r\n        var itemConfig = extend({\r\n            text: messageLocalization.format(this._getLocalizationKey(itemType)),\r\n            onClick: this._createToolbarItemAction(data.onClick),\r\n            integrationOptions: {},\r\n            type: that.option(\"useDefaultToolbarButtons\") ? BUTTON_DEFAULT_TYPE : BUTTON_NORMAL_TYPE,\r\n            stylingMode: that.option(\"useFlatToolbarButtons\") ? BUTTON_TEXT_MODE : BUTTON_CONTAINED_MODE\r\n        }, data.options || {});\r\n        var itemClass = POPUP_CLASS + \"-\" + itemType;\r\n        this._toolbarItemClasses.push(itemClass);\r\n        return {\r\n            template: function(_, __, container) {\r\n                var $toolbarItem = $(\"<div>\").addClass(itemClass).appendTo(container);\r\n                that._createComponent($toolbarItem, Button, itemConfig)\r\n            }\r\n        }\r\n    },\r\n    _createToolbarItemAction: function(clickAction) {\r\n        return this._createAction(clickAction, {\r\n            afterExecute: function(e) {\r\n                e.component.hide()\r\n            }\r\n        })\r\n    },\r\n    _renderBottom: function() {\r\n        var items = this._getToolbarItems(\"bottom\");\r\n        if (items.length) {\r\n            this._$bottom && this._$bottom.remove();\r\n            var $bottom = $(\"<div>\").addClass(POPUP_BOTTOM_CLASS).insertAfter(this.$content());\r\n            this._$bottom = this._renderTemplateByType(\"bottomTemplate\", items, $bottom, {\r\n                compactMode: true\r\n            }).addClass(POPUP_BOTTOM_CLASS);\r\n            this._toggleClasses()\r\n        } else {\r\n            this._$bottom && this._$bottom.detach()\r\n        }\r\n    },\r\n    _toggleDisabledState: function(value) {\r\n        this.callBase(...arguments);\r\n        this.$content().toggleClass(DISABLED_STATE_CLASS, Boolean(value))\r\n    },\r\n    _toggleClasses: function() {\r\n        var aliases = ALLOWED_TOOLBAR_ITEM_ALIASES;\r\n        each(aliases, (_, alias) => {\r\n            var className = POPUP_CLASS + \"-\" + alias;\r\n            if (this._toolbarItemClasses.includes(className)) {\r\n                this.$wrapper().addClass(className + \"-visible\");\r\n                this._$bottom.addClass(className)\r\n            } else {\r\n                this.$wrapper().removeClass(className + \"-visible\");\r\n                this._$bottom.removeClass(className)\r\n            }\r\n        })\r\n    },\r\n    _toggleFocusClass(isFocused, $element) {\r\n        this.callBase(isFocused, $element);\r\n        if (isFocused && !zIndexPool.isLastZIndexInStack(this._zIndex)) {\r\n            var zIndex = zIndexPool.create(this._zIndexInitValue());\r\n            zIndexPool.remove(this._zIndex);\r\n            this._zIndex = zIndex;\r\n            this._$wrapper.css(\"zIndex\", zIndex);\r\n            this._$content.css(\"zIndex\", zIndex)\r\n        }\r\n    },\r\n    _toggleContentScrollClass() {\r\n        var isNativeScrollingEnabled = !this.option(\"preventScrollEvents\");\r\n        this.$content().toggleClass(POPUP_CONTENT_SCROLLABLE_CLASS, isNativeScrollingEnabled)\r\n    },\r\n    _getPositionControllerConfig() {\r\n        var {\r\n            fullScreen: fullScreen,\r\n            forceApplyBindings: forceApplyBindings,\r\n            dragOutsideBoundary: dragOutsideBoundary,\r\n            dragAndResizeArea: dragAndResizeArea,\r\n            outsideDragFactor: outsideDragFactor\r\n        } = this.option();\r\n        return extend({}, this.callBase(), {\r\n            fullScreen: fullScreen,\r\n            forceApplyBindings: forceApplyBindings,\r\n            dragOutsideBoundary: dragOutsideBoundary,\r\n            dragAndResizeArea: dragAndResizeArea,\r\n            outsideDragFactor: outsideDragFactor\r\n        })\r\n    },\r\n    _initPositionController() {\r\n        this._positionController = new PopupPositionController(this._getPositionControllerConfig())\r\n    },\r\n    _getDragTarget: function() {\r\n        return this.topToolbar()\r\n    },\r\n    _renderGeometry: function(options) {\r\n        var {\r\n            visible: visible,\r\n            useResizeObserver: useResizeObserver\r\n        } = this.option();\r\n        if (visible && hasWindow()) {\r\n            var isAnimated = this._showAnimationProcessing;\r\n            var shouldRepeatAnimation = isAnimated && !(null !== options && void 0 !== options && options.forceStopAnimation) && useResizeObserver;\r\n            this._isAnimationPaused = shouldRepeatAnimation || void 0;\r\n            this._stopAnimation();\r\n            if (null !== options && void 0 !== options && options.shouldOnlyReposition) {\r\n                this._renderPosition(false)\r\n            } else {\r\n                this._renderGeometryImpl(null === options || void 0 === options ? void 0 : options.isDimensionChange)\r\n            }\r\n            if (shouldRepeatAnimation) {\r\n                this._animateShowing();\r\n                this._isAnimationPaused = void 0\r\n            }\r\n        }\r\n    },\r\n    _cacheDimensions: function() {\r\n        if (!this.option(\"useResizeObserver\")) {\r\n            return\r\n        }\r\n        this._renderedDimensions = {\r\n            width: parseInt(getWidth(this._$content), 10),\r\n            height: parseInt(getHeight(this._$content), 10)\r\n        }\r\n    },\r\n    _renderGeometryImpl: function() {\r\n        var isDimensionChange = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : false;\r\n        if (!isDimensionChange) {\r\n            this._resetContentHeight()\r\n        }\r\n        this.callBase();\r\n        this._cacheDimensions();\r\n        this._setContentHeight()\r\n    },\r\n    _resetContentHeight: function() {\r\n        var height = this._getOptionValue(\"height\");\r\n        if (\"auto\" === height) {\r\n            this.$content().css({\r\n                height: \"auto\",\r\n                maxHeight: \"none\"\r\n            })\r\n        }\r\n    },\r\n    _renderDrag: function() {\r\n        var $dragTarget = this._getDragTarget();\r\n        var dragEnabled = this.option(\"dragEnabled\");\r\n        if (!$dragTarget) {\r\n            return\r\n        }\r\n        var config = {\r\n            dragEnabled: dragEnabled,\r\n            handle: $dragTarget.get(0),\r\n            draggableElement: this._$content.get(0),\r\n            positionController: this._positionController\r\n        };\r\n        if (this._drag) {\r\n            this._drag.init(config)\r\n        } else {\r\n            this._drag = new PopupDrag(config)\r\n        }\r\n        this.$overlayContent().toggleClass(POPUP_DRAGGABLE_CLASS, dragEnabled)\r\n    },\r\n    _renderResize: function() {\r\n        this._resizable = this._createComponent(this._$content, Resizable, {\r\n            handles: this.option(\"resizeEnabled\") ? \"all\" : \"none\",\r\n            onResizeEnd: e => {\r\n                this._resizeEndHandler(e);\r\n                this._observeContentResize(true)\r\n            },\r\n            onResize: e => {\r\n                this._setContentHeight();\r\n                this._actions.onResize(e)\r\n            },\r\n            onResizeStart: e => {\r\n                this._observeContentResize(false);\r\n                this._actions.onResizeStart(e)\r\n            },\r\n            minHeight: 100,\r\n            minWidth: 100,\r\n            area: this._positionController.$dragResizeContainer,\r\n            keepAspectRatio: false\r\n        })\r\n    },\r\n    _resizeEndHandler: function(e) {\r\n        var width = this._resizable.option(\"width\");\r\n        var height = this._resizable.option(\"height\");\r\n        width && this._setOptionWithoutOptionChange(\"width\", width);\r\n        height && this._setOptionWithoutOptionChange(\"height\", height);\r\n        this._cacheDimensions();\r\n        this._positionController.resizeHandled();\r\n        this._positionController.detectVisualPositionChange(e.event);\r\n        this._actions.onResizeEnd(e)\r\n    },\r\n    _setContentHeight: function() {\r\n        (this.option(\"forceApplyBindings\") || noop)();\r\n        var overlayContent = this.$overlayContent().get(0);\r\n        var currentHeightStrategyClass = this._chooseHeightStrategy(overlayContent);\r\n        this.$content().css(this._getHeightCssStyles(currentHeightStrategyClass, overlayContent));\r\n        this._setHeightClasses(this.$overlayContent(), currentHeightStrategyClass)\r\n    },\r\n    _heightStrategyChangeOffset: function(currentHeightStrategyClass, popupVerticalPaddings) {\r\n        return currentHeightStrategyClass === HEIGHT_STRATEGIES.flex ? -popupVerticalPaddings : 0\r\n    },\r\n    _chooseHeightStrategy: function(overlayContent) {\r\n        var isAutoWidth = \"auto\" === overlayContent.style.width || \"\" === overlayContent.style.width;\r\n        var currentHeightStrategyClass = HEIGHT_STRATEGIES.static;\r\n        if (this._isAutoHeight() && this.option(\"autoResizeEnabled\")) {\r\n            if (isAutoWidth || IS_OLD_SAFARI) {\r\n                currentHeightStrategyClass = HEIGHT_STRATEGIES.inherit\r\n            } else {\r\n                currentHeightStrategyClass = HEIGHT_STRATEGIES.flex\r\n            }\r\n        }\r\n        return currentHeightStrategyClass\r\n    },\r\n    _getHeightCssStyles: function(currentHeightStrategyClass, overlayContent) {\r\n        var cssStyles = {};\r\n        var contentMaxHeight = this._getOptionValue(\"maxHeight\", overlayContent);\r\n        var contentMinHeight = this._getOptionValue(\"minHeight\", overlayContent);\r\n        var popupHeightParts = this._splitPopupHeight();\r\n        var toolbarsAndVerticalOffsetsHeight = popupHeightParts.header + popupHeightParts.footer + popupHeightParts.contentVerticalOffsets + popupHeightParts.popupVerticalOffsets + this._heightStrategyChangeOffset(currentHeightStrategyClass, popupHeightParts.popupVerticalPaddings);\r\n        if (currentHeightStrategyClass === HEIGHT_STRATEGIES.static) {\r\n            if (!this._isAutoHeight() || contentMaxHeight || contentMinHeight) {\r\n                var overlayHeight = this.option(\"fullScreen\") ? Math.min(getBoundingRect(overlayContent).height, getWindow().innerHeight) : getBoundingRect(overlayContent).height;\r\n                var contentHeight = overlayHeight - toolbarsAndVerticalOffsetsHeight;\r\n                cssStyles = {\r\n                    height: Math.max(0, contentHeight),\r\n                    minHeight: \"auto\",\r\n                    maxHeight: \"auto\"\r\n                }\r\n            }\r\n        } else {\r\n            var container = $(this._positionController.$visualContainer).get(0);\r\n            var maxHeightValue = addOffsetToMaxHeight(contentMaxHeight, -toolbarsAndVerticalOffsetsHeight, container);\r\n            var minHeightValue = addOffsetToMinHeight(contentMinHeight, -toolbarsAndVerticalOffsetsHeight, container);\r\n            cssStyles = {\r\n                height: \"auto\",\r\n                minHeight: minHeightValue,\r\n                maxHeight: maxHeightValue\r\n            }\r\n        }\r\n        return cssStyles\r\n    },\r\n    _setHeightClasses: function($container, currentClass) {\r\n        var excessClasses = \"\";\r\n        for (var name in HEIGHT_STRATEGIES) {\r\n            if (HEIGHT_STRATEGIES[name] !== currentClass) {\r\n                excessClasses += \" \" + HEIGHT_STRATEGIES[name]\r\n            }\r\n        }\r\n        $container.removeClass(excessClasses).addClass(currentClass)\r\n    },\r\n    _isAutoHeight: function() {\r\n        return \"auto\" === this.$overlayContent().get(0).style.height\r\n    },\r\n    _splitPopupHeight: function() {\r\n        var topToolbar = this.topToolbar();\r\n        var bottomToolbar = this.bottomToolbar();\r\n        return {\r\n            header: getVisibleHeight(topToolbar && topToolbar.get(0)),\r\n            footer: getVisibleHeight(bottomToolbar && bottomToolbar.get(0)),\r\n            contentVerticalOffsets: getVerticalOffsets(this.$overlayContent().get(0), true),\r\n            popupVerticalOffsets: getVerticalOffsets(this.$content().get(0), true),\r\n            popupVerticalPaddings: getVerticalOffsets(this.$content().get(0), false)\r\n        }\r\n    },\r\n    _isAllWindowCovered: function() {\r\n        return this.callBase() || this.option(\"fullScreen\")\r\n    },\r\n    _renderDimensions: function() {\r\n        if (this.option(\"fullScreen\")) {\r\n            this.$overlayContent().css({\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                minWidth: \"\",\r\n                maxWidth: \"\",\r\n                minHeight: \"\",\r\n                maxHeight: \"\"\r\n            })\r\n        } else {\r\n            this.callBase()\r\n        }\r\n        if (hasWindow()) {\r\n            this._renderFullscreenWidthClass()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._renderGeometry({\r\n            isDimensionChange: true\r\n        })\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        this._observeContentResize(false)\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        this._toggleBodyScroll(true)\r\n    },\r\n    _renderFullscreenWidthClass: function() {\r\n        this.$overlayContent().toggleClass(POPUP_FULL_SCREEN_WIDTH_CLASS, getOuterWidth(this.$overlayContent()) === getWidth(window))\r\n    },\r\n    _toggleSafariScrolling() {\r\n        if (!this.option(\"enableBodyScroll\")) {\r\n            return\r\n        }\r\n        this.callBase()\r\n    },\r\n    _toggleBodyScroll: function(enabled) {\r\n        if (!this._bodyOverflowManager) {\r\n            return\r\n        }\r\n        var {\r\n            setOverflow: setOverflow,\r\n            restoreOverflow: restoreOverflow\r\n        } = this._bodyOverflowManager;\r\n        if (enabled) {\r\n            restoreOverflow()\r\n        } else {\r\n            setOverflow()\r\n        }\r\n    },\r\n    refreshPosition: function() {\r\n        this._renderPosition()\r\n    },\r\n    _optionChanged: function(args) {\r\n        var _this$_resizable2;\r\n        var {\r\n            value: value,\r\n            name: name\r\n        } = args;\r\n        switch (name) {\r\n            case \"disabled\":\r\n                this.callBase(args);\r\n                this._renderTitle();\r\n                this._renderBottom();\r\n                break;\r\n            case \"animation\":\r\n                this._updateResizeCallbackSkipCondition();\r\n                break;\r\n            case \"enableBodyScroll\":\r\n                this._toggleBodyScroll(value);\r\n                break;\r\n            case \"showTitle\":\r\n            case \"title\":\r\n            case \"titleTemplate\":\r\n                this._renderTitle();\r\n                this._renderGeometry();\r\n                triggerResizeEvent(this.$overlayContent());\r\n                break;\r\n            case \"bottomTemplate\":\r\n                this._renderBottom();\r\n                this._renderGeometry();\r\n                triggerResizeEvent(this.$overlayContent());\r\n                break;\r\n            case \"container\":\r\n                this.callBase(args);\r\n                if (this.option(\"resizeEnabled\")) {\r\n                    var _this$_resizable;\r\n                    null === (_this$_resizable = this._resizable) || void 0 === _this$_resizable ? void 0 : _this$_resizable.option(\"area\", this._positionController.$dragResizeContainer)\r\n                }\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                null === (_this$_resizable2 = this._resizable) || void 0 === _this$_resizable2 ? void 0 : _this$_resizable2.option(name, value);\r\n                break;\r\n            case \"onTitleRendered\":\r\n                this._createTitleRenderAction(value);\r\n                break;\r\n            case \"toolbarItems\":\r\n            case \"useDefaultToolbarButtons\":\r\n            case \"useFlatToolbarButtons\":\r\n                var shouldRenderGeometry = !args.fullName.match(/^toolbarItems((\\[\\d+\\])(\\.(options|visible).*)?)?$/);\r\n                this._renderTitle();\r\n                this._renderBottom();\r\n                if (shouldRenderGeometry) {\r\n                    this._renderGeometry();\r\n                    triggerResizeEvent(this.$overlayContent())\r\n                }\r\n                break;\r\n            case \"dragEnabled\":\r\n                this._renderDrag();\r\n                break;\r\n            case \"dragAndResizeArea\":\r\n                this._positionController.dragAndResizeArea = value;\r\n                if (this.option(\"resizeEnabled\")) {\r\n                    this._resizable.option(\"area\", this._positionController.$dragResizeContainer)\r\n                }\r\n                this._positionController.positionContent();\r\n                break;\r\n            case \"dragOutsideBoundary\":\r\n                this._positionController.dragOutsideBoundary = value;\r\n                if (this.option(\"resizeEnabled\")) {\r\n                    this._resizable.option(\"area\", this._positionController.$dragResizeContainer)\r\n                }\r\n                break;\r\n            case \"outsideDragFactor\":\r\n                this._positionController.outsideDragFactor = value;\r\n                break;\r\n            case \"resizeEnabled\":\r\n                this._renderResize();\r\n                this._renderGeometry();\r\n                break;\r\n            case \"autoResizeEnabled\":\r\n                this._renderGeometry();\r\n                triggerResizeEvent(this.$overlayContent());\r\n                break;\r\n            case \"fullScreen\":\r\n                this._positionController.fullScreen = value;\r\n                this._toggleFullScreenClass(value);\r\n                this._toggleSafariScrolling();\r\n                this._renderGeometry();\r\n                triggerResizeEvent(this.$overlayContent());\r\n                break;\r\n            case \"showCloseButton\":\r\n                this._renderTitle();\r\n                break;\r\n            case \"preventScrollEvents\":\r\n                this.callBase(args);\r\n                this._toggleContentScrollClass();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    bottomToolbar: function() {\r\n        return this._$bottom\r\n    },\r\n    topToolbar: function() {\r\n        return this._$title\r\n    },\r\n    $content: function() {\r\n        return this._$popupContent\r\n    },\r\n    content: function() {\r\n        return getPublicElement(this.$content())\r\n    },\r\n    $overlayContent: function() {\r\n        return this._$content\r\n    }\r\n});\r\nregisterComponent(\"dxPopup\", Popup);\r\nexport default Popup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}