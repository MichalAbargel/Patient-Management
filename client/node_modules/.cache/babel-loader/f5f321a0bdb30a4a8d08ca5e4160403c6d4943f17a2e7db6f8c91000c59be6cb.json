{"ast":null,"code":"/**\r\n * DevExtreme (esm/renovation/ui/scheduler/appointment/overflow_indicator/layout.js)\r\n * Version: 23.1.5\r\n * Build date: Wed Aug 30 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"groups\", \"overflowIndicatorTemplate\", \"viewModel\"];\nimport { createVNode, createComponentVNode, normalizeProps } from \"inferno\";\nimport { InfernoEffect, InfernoComponent } from \"@devextreme/runtime/inferno\";\nimport { normalizeStyles } from \"@devextreme/runtime/inferno\";\nimport { combineClasses } from \"../../../../utils/combine_classes\";\nimport { Button } from \"../../../button\";\nimport { getIndicatorColor, getOverflowIndicatorStyles } from \"./utils\";\nimport messageLocalization from \"../../../../../localization/message\";\nimport { AppointmentsContext } from \"../../appointments_context\";\nimport { mergeStylesWithColor } from \"../utils\";\nexport var viewFunction = _ref => {\n  var {\n    classes: classes,\n    data: data,\n    props: {\n      overflowIndicatorTemplate: OverflowIndicatorTemplate\n    },\n    styles: styles,\n    text: text\n  } = _ref;\n  return createComponentVNode(2, Button, {\n    style: normalizeStyles(styles),\n    className: classes,\n    type: \"default\",\n    stylingMode: \"contained\",\n    children: OverflowIndicatorTemplate ? OverflowIndicatorTemplate({\n      data: data\n    }) : createVNode(1, \"span\", null, text, 0)\n  });\n};\nexport var OverflowIndicatorProps = {};\nvar getTemplate = TemplateProp => TemplateProp && (TemplateProp.defaultProps ? props => normalizeProps(createComponentVNode(2, TemplateProp, _extends({}, props))) : TemplateProp);\nexport class OverflowIndicator extends InfernoComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      color: void 0\n    };\n    this.updateStylesEffect = this.updateStylesEffect.bind(this);\n  }\n  get appointmentsContextValue() {\n    if (this.context[AppointmentsContext.id]) {\n      return this.context[AppointmentsContext.id];\n    }\n    return AppointmentsContext.defaultValue;\n  }\n  createEffects() {\n    return [new InfernoEffect(this.updateStylesEffect, [this.props.groups, this.props.viewModel, this.appointmentsContextValue])];\n  }\n  updateEffects() {\n    var _this$_effects$;\n    null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.props.groups, this.props.viewModel, this.appointmentsContextValue]);\n  }\n  updateStylesEffect() {\n    var {\n      groups: groups,\n      viewModel: viewModel\n    } = this.props;\n    getIndicatorColor(this.appointmentsContextValue, viewModel, groups).then(color => {\n      this.setState(__state_argument => ({\n        color: color\n      }));\n    });\n  }\n  get data() {\n    return {\n      appointmentCount: this.props.viewModel.items.settings.length,\n      isCompact: this.props.viewModel.isCompact\n    };\n  }\n  get text() {\n    var {\n      isCompact: isCompact\n    } = this.props.viewModel;\n    var {\n      appointmentCount: appointmentCount\n    } = this.data;\n    if (isCompact) {\n      return \"\".concat(appointmentCount);\n    }\n    var formatter = messageLocalization.getFormatter(\"dxScheduler-moreAppointments\");\n    return formatter(appointmentCount);\n  }\n  get appointmentStyles() {\n    return getOverflowIndicatorStyles(this.props.viewModel);\n  }\n  get styles() {\n    return mergeStylesWithColor(this.state.color, this.appointmentStyles);\n  }\n  get classes() {\n    return combineClasses({\n      \"dx-scheduler-appointment-collector\": true,\n      \"dx-scheduler-appointment-collector-compact\": this.data.isCompact\n    });\n  }\n  get restAttributes() {\n    var _this$props = this.props,\n      restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    return restProps;\n  }\n  render() {\n    var props = this.props;\n    return viewFunction({\n      props: _extends({}, props, {\n        overflowIndicatorTemplate: getTemplate(props.overflowIndicatorTemplate)\n      }),\n      color: this.state.color,\n      appointmentsContextValue: this.appointmentsContextValue,\n      data: this.data,\n      text: this.text,\n      appointmentStyles: this.appointmentStyles,\n      styles: this.styles,\n      classes: this.classes,\n      restAttributes: this.restAttributes\n    });\n  }\n}\nOverflowIndicator.defaultProps = OverflowIndicatorProps;","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_extends","_excluded","createVNode","createComponentVNode","normalizeProps","InfernoEffect","InfernoComponent","normalizeStyles","combineClasses","Button","getIndicatorColor","getOverflowIndicatorStyles","messageLocalization","AppointmentsContext","mergeStylesWithColor","viewFunction","_ref","classes","data","props","overflowIndicatorTemplate","OverflowIndicatorTemplate","styles","text","style","className","type","stylingMode","children","OverflowIndicatorProps","getTemplate","TemplateProp","defaultProps","OverflowIndicator","constructor","state","color","updateStylesEffect","bind","appointmentsContextValue","context","id","defaultValue","createEffects","groups","viewModel","updateEffects","_this$_effects$","_effects","update","then","setState","__state_argument","appointmentCount","items","settings","length","isCompact","concat","formatter","getFormatter","appointmentStyles","restAttributes","_this$props","restProps","render"],"sources":["C:/Users/Michal Abargel/Desktop/FULLSTACK_PROJECTS/PrivateLessones/F(x)/client/gui/node_modules/devextreme/esm/renovation/ui/scheduler/appointment/overflow_indicator/layout.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/renovation/ui/scheduler/appointment/overflow_indicator/layout.js)\r\n * Version: 23.1.5\r\n * Build date: Wed Aug 30 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"groups\", \"overflowIndicatorTemplate\", \"viewModel\"];\r\nimport {\r\n    createVNode,\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    normalizeStyles\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    combineClasses\r\n} from \"../../../../utils/combine_classes\";\r\nimport {\r\n    Button\r\n} from \"../../../button\";\r\nimport {\r\n    getIndicatorColor,\r\n    getOverflowIndicatorStyles\r\n} from \"./utils\";\r\nimport messageLocalization from \"../../../../../localization/message\";\r\nimport {\r\n    AppointmentsContext\r\n} from \"../../appointments_context\";\r\nimport {\r\n    mergeStylesWithColor\r\n} from \"../utils\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        classes: classes,\r\n        data: data,\r\n        props: {\r\n            overflowIndicatorTemplate: OverflowIndicatorTemplate\r\n        },\r\n        styles: styles,\r\n        text: text\r\n    } = _ref;\r\n    return createComponentVNode(2, Button, {\r\n        style: normalizeStyles(styles),\r\n        className: classes,\r\n        type: \"default\",\r\n        stylingMode: \"contained\",\r\n        children: OverflowIndicatorTemplate ? OverflowIndicatorTemplate({\r\n            data: data\r\n        }) : createVNode(1, \"span\", null, text, 0)\r\n    })\r\n};\r\nexport var OverflowIndicatorProps = {};\r\nvar getTemplate = TemplateProp => TemplateProp && (TemplateProp.defaultProps ? props => normalizeProps(createComponentVNode(2, TemplateProp, _extends({}, props))) : TemplateProp);\r\nexport class OverflowIndicator extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            color: void 0\r\n        };\r\n        this.updateStylesEffect = this.updateStylesEffect.bind(this)\r\n    }\r\n    get appointmentsContextValue() {\r\n        if (this.context[AppointmentsContext.id]) {\r\n            return this.context[AppointmentsContext.id]\r\n        }\r\n        return AppointmentsContext.defaultValue\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.updateStylesEffect, [this.props.groups, this.props.viewModel, this.appointmentsContextValue])]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$;\r\n        null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.props.groups, this.props.viewModel, this.appointmentsContextValue])\r\n    }\r\n    updateStylesEffect() {\r\n        var {\r\n            groups: groups,\r\n            viewModel: viewModel\r\n        } = this.props;\r\n        getIndicatorColor(this.appointmentsContextValue, viewModel, groups).then(color => {\r\n            this.setState(__state_argument => ({\r\n                color: color\r\n            }))\r\n        })\r\n    }\r\n    get data() {\r\n        return {\r\n            appointmentCount: this.props.viewModel.items.settings.length,\r\n            isCompact: this.props.viewModel.isCompact\r\n        }\r\n    }\r\n    get text() {\r\n        var {\r\n            isCompact: isCompact\r\n        } = this.props.viewModel;\r\n        var {\r\n            appointmentCount: appointmentCount\r\n        } = this.data;\r\n        if (isCompact) {\r\n            return \"\".concat(appointmentCount)\r\n        }\r\n        var formatter = messageLocalization.getFormatter(\"dxScheduler-moreAppointments\");\r\n        return formatter(appointmentCount)\r\n    }\r\n    get appointmentStyles() {\r\n        return getOverflowIndicatorStyles(this.props.viewModel)\r\n    }\r\n    get styles() {\r\n        return mergeStylesWithColor(this.state.color, this.appointmentStyles)\r\n    }\r\n    get classes() {\r\n        return combineClasses({\r\n            \"dx-scheduler-appointment-collector\": true,\r\n            \"dx-scheduler-appointment-collector-compact\": this.data.isCompact\r\n        })\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props, {\r\n                overflowIndicatorTemplate: getTemplate(props.overflowIndicatorTemplate)\r\n            }),\r\n            color: this.state.color,\r\n            appointmentsContextValue: this.appointmentsContextValue,\r\n            data: this.data,\r\n            text: this.text,\r\n            appointmentStyles: this.appointmentStyles,\r\n            styles: this.styles,\r\n            classes: this.classes,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nOverflowIndicator.defaultProps = OverflowIndicatorProps;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}