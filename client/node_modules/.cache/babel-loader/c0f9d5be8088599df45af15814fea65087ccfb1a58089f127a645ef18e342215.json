{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/toolbar/strategy/toolbar.singleline.js)\r\n * Version: 23.1.5\r\n * Build date: Wed Aug 30 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getWidth, getOuterWidth } from \"../../../core/utils/size\";\nimport $ from \"../../../core/renderer\";\nimport { each } from \"../../../core/utils/iterator\";\nimport { grep, deferRender } from \"../../../core/utils/common\";\nimport { extend } from \"../../../core/utils/extend\";\nimport DropDownMenu from \"../internal/ui.toolbar.menu\";\nimport { compileGetter } from \"../../../core/utils/data\";\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\nvar TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\nvar TOOLBAR_BUTTON_CLASS = \"dx-toolbar-button\";\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\nexport class SingleLineStrategy {\n  constructor(toolbar) {\n    this._toolbar = toolbar;\n  }\n  _initMarkup() {\n    deferRender(() => {\n      this._renderOverflowMenu();\n      this._renderMenuItems();\n    });\n  }\n  _renderOverflowMenu() {\n    if (!this._hasVisibleMenuItems()) {\n      return;\n    }\n    this._renderMenuButtonContainer();\n    var $menu = $(\"<div>\").appendTo(this._overflowMenuContainer());\n    var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\n    var menuItemTemplate = this._toolbar._getTemplateByOption(\"menuItemTemplate\");\n    this._menu = this._toolbar._createComponent($menu, DropDownMenu, {\n      disabled: this._toolbar.option(\"disabled\"),\n      itemTemplate: () => menuItemTemplate,\n      onItemClick: e => {\n        itemClickAction(e);\n      },\n      container: this._toolbar.option(\"menuContainer\"),\n      onOptionChanged: _ref => {\n        var {\n          name: name,\n          value: value\n        } = _ref;\n        if (\"opened\" === name) {\n          this._toolbar.option(\"overflowMenuVisible\", value);\n        }\n        if (\"items\" === name) {\n          this._updateMenuVisibility(value);\n        }\n      }\n    });\n  }\n  renderMenuItems() {\n    if (!this._menu) {\n      this._renderOverflowMenu();\n    }\n    this._menu && this._menu.option(\"items\", this._getMenuItems());\n    if (this._menu && !this._menu.option(\"items\").length) {\n      this._menu.option(\"opened\", false);\n    }\n  }\n  _renderMenuButtonContainer() {\n    this._$overflowMenuContainer = $(\"<div>\").appendTo(this._toolbar._$afterSection).addClass(TOOLBAR_BUTTON_CLASS).addClass(TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS);\n  }\n  _overflowMenuContainer() {\n    return this._$overflowMenuContainer;\n  }\n  _updateMenuVisibility(menuItems) {\n    var items = null !== menuItems && void 0 !== menuItems ? menuItems : this._getMenuItems();\n    var isMenuVisible = items.length && this._hasVisibleMenuItems(items);\n    this._toggleMenuVisibility(isMenuVisible);\n  }\n  _toggleMenuVisibility(value) {\n    if (!this._overflowMenuContainer()) {\n      return;\n    }\n    this._overflowMenuContainer().toggleClass(INVISIBLE_STATE_CLASS, !value);\n  }\n  _renderMenuItems() {\n    deferRender(() => {\n      this.renderMenuItems();\n    });\n  }\n  _dimensionChanged() {\n    this.renderMenuItems();\n  }\n  _getToolbarItems() {\n    var _this$_toolbar$option;\n    return grep(null !== (_this$_toolbar$option = this._toolbar.option(\"items\")) && void 0 !== _this$_toolbar$option ? _this$_toolbar$option : [], item => !this._toolbar._isMenuItem(item));\n  }\n  _getHiddenItems() {\n    return this._toolbar._itemContainer().children(\".\".concat(TOOLBAR_AUTO_HIDE_ITEM_CLASS, \".\").concat(TOOLBAR_HIDDEN_ITEM)).not(\".\".concat(INVISIBLE_STATE_CLASS));\n  }\n  _getMenuItems() {\n    var _this$_toolbar$option2, _this$_restoreItems;\n    var menuItems = grep(null !== (_this$_toolbar$option2 = this._toolbar.option(\"items\")) && void 0 !== _this$_toolbar$option2 ? _this$_toolbar$option2 : [], item => this._toolbar._isMenuItem(item));\n    var $hiddenItems = this._getHiddenItems();\n    this._restoreItems = null !== (_this$_restoreItems = this._restoreItems) && void 0 !== _this$_restoreItems ? _this$_restoreItems : [];\n    var overflowItems = [].slice.call($hiddenItems).map(hiddenItem => {\n      var itemData = this._toolbar._getItemData(hiddenItem);\n      var $itemContainer = $(hiddenItem);\n      var $itemMarkup = $itemContainer.children();\n      return extend({\n        menuItemTemplate: () => {\n          this._restoreItems.push({\n            container: $itemContainer,\n            item: $itemMarkup\n          });\n          var $container = $(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n          return $container.append($itemMarkup);\n        }\n      }, itemData);\n    });\n    return [...overflowItems, ...menuItems];\n  }\n  _hasVisibleMenuItems(items) {\n    var menuItems = null !== items && void 0 !== items ? items : this._toolbar.option(\"items\");\n    var result = false;\n    var optionGetter = compileGetter(\"visible\");\n    var overflowGetter = compileGetter(\"locateInMenu\");\n    each(menuItems, function (index, item) {\n      var itemVisible = optionGetter(item, {\n        functionsAsIs: true\n      });\n      var itemOverflow = overflowGetter(item, {\n        functionsAsIs: true\n      });\n      if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow) || \"menu\" === item.location) {\n        result = true;\n      }\n    });\n    return result;\n  }\n  _arrangeItems() {\n    var _this$_restoreItems2;\n    this._toolbar._$centerSection.css({\n      margin: \"0 auto\",\n      float: \"none\"\n    });\n    each(null !== (_this$_restoreItems2 = this._restoreItems) && void 0 !== _this$_restoreItems2 ? _this$_restoreItems2 : [], function (_, obj) {\n      $(obj.container).append(obj.item);\n    });\n    this._restoreItems = [];\n    var elementWidth = getWidth(this._toolbar.$element());\n    this._hideOverflowItems(elementWidth);\n    return elementWidth;\n  }\n  _hideOverflowItems(elementWidth) {\n    var _elementWidth;\n    var overflowItems = this._toolbar.$element().find(\".\".concat(TOOLBAR_AUTO_HIDE_ITEM_CLASS));\n    if (!overflowItems.length) {\n      return;\n    }\n    elementWidth = null !== (_elementWidth = elementWidth) && void 0 !== _elementWidth ? _elementWidth : getWidth(this._toolbar.$element());\n    $(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\n    var itemsWidth = this._getItemsWidth();\n    while (overflowItems.length && elementWidth < itemsWidth) {\n      var $item = overflowItems.eq(-1);\n      itemsWidth -= getOuterWidth($item);\n      $item.addClass(TOOLBAR_HIDDEN_ITEM);\n      overflowItems.splice(-1, 1);\n    }\n  }\n  _getItemsWidth() {\n    return this._toolbar._getSummaryItemsWidth([this._toolbar._$beforeSection, this._toolbar._$centerSection, this._toolbar._$afterSection]);\n  }\n  _itemOptionChanged(item, property, value) {\n    if (\"disabled\" === property || \"options.disabled\" === property) {\n      if (this._toolbar._isMenuItem(item)) {\n        var _this$_menu;\n        null === (_this$_menu = this._menu) || void 0 === _this$_menu ? void 0 : _this$_menu._itemOptionChanged(item, property, value);\n        return;\n      }\n    }\n    this.renderMenuItems();\n  }\n  _renderItem(item, itemElement) {\n    if (\"auto\" === item.locateInMenu) {\n      itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\n    }\n  }\n  _optionChanged(name, value) {\n    var _this$_menu2, _this$_menu3, _this$_menu4, _this$_menu5, _this$_menu6;\n    switch (name) {\n      case \"disabled\":\n        null === (_this$_menu2 = this._menu) || void 0 === _this$_menu2 ? void 0 : _this$_menu2.option(name, value);\n        break;\n      case \"overflowMenuVisible\":\n        null === (_this$_menu3 = this._menu) || void 0 === _this$_menu3 ? void 0 : _this$_menu3.option(\"opened\", value);\n        break;\n      case \"onItemClick\":\n        null === (_this$_menu4 = this._menu) || void 0 === _this$_menu4 ? void 0 : _this$_menu4.option(name, value);\n        break;\n      case \"menuContainer\":\n        null === (_this$_menu5 = this._menu) || void 0 === _this$_menu5 ? void 0 : _this$_menu5.option(\"container\", value);\n        break;\n      case \"menuItemTemplate\":\n        null === (_this$_menu6 = this._menu) || void 0 === _this$_menu6 ? void 0 : _this$_menu6.option(\"itemTemplate\", value);\n    }\n  }\n}","map":{"version":3,"names":["getWidth","getOuterWidth","$","each","grep","deferRender","extend","DropDownMenu","compileGetter","INVISIBLE_STATE_CLASS","TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS","TOOLBAR_BUTTON_CLASS","TOOLBAR_AUTO_HIDE_ITEM_CLASS","TOOLBAR_HIDDEN_ITEM","SingleLineStrategy","constructor","toolbar","_toolbar","_initMarkup","_renderOverflowMenu","_renderMenuItems","_hasVisibleMenuItems","_renderMenuButtonContainer","$menu","appendTo","_overflowMenuContainer","itemClickAction","_createActionByOption","menuItemTemplate","_getTemplateByOption","_menu","_createComponent","disabled","option","itemTemplate","onItemClick","e","container","onOptionChanged","_ref","name","value","_updateMenuVisibility","renderMenuItems","_getMenuItems","length","_$overflowMenuContainer","_$afterSection","addClass","menuItems","items","isMenuVisible","_toggleMenuVisibility","toggleClass","_dimensionChanged","_getToolbarItems","_this$_toolbar$option","item","_isMenuItem","_getHiddenItems","_itemContainer","children","concat","not","_this$_toolbar$option2","_this$_restoreItems","$hiddenItems","_restoreItems","overflowItems","slice","call","map","hiddenItem","itemData","_getItemData","$itemContainer","$itemMarkup","push","$container","append","result","optionGetter","overflowGetter","index","itemVisible","functionsAsIs","itemOverflow","location","_arrangeItems","_this$_restoreItems2","_$centerSection","css","margin","float","_","obj","elementWidth","$element","_hideOverflowItems","_elementWidth","find","removeClass","itemsWidth","_getItemsWidth","$item","eq","splice","_getSummaryItemsWidth","_$beforeSection","_itemOptionChanged","property","_this$_menu","_renderItem","itemElement","locateInMenu","_optionChanged","_this$_menu2","_this$_menu3","_this$_menu4","_this$_menu5","_this$_menu6"],"sources":["C:/Users/Michal Abargel/Desktop/FULLSTACK_PROJECTS/Patient-Management/client/node_modules/devextreme/esm/ui/toolbar/strategy/toolbar.singleline.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/toolbar/strategy/toolbar.singleline.js)\r\n * Version: 23.1.5\r\n * Build date: Wed Aug 30 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../../../core/utils/size\";\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    each\r\n} from \"../../../core/utils/iterator\";\r\nimport {\r\n    grep,\r\n    deferRender\r\n} from \"../../../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport DropDownMenu from \"../internal/ui.toolbar.menu\";\r\nimport {\r\n    compileGetter\r\n} from \"../../../core/utils/data\";\r\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\r\nvar TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\r\nvar TOOLBAR_BUTTON_CLASS = \"dx-toolbar-button\";\r\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\r\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\r\nexport class SingleLineStrategy {\r\n    constructor(toolbar) {\r\n        this._toolbar = toolbar\r\n    }\r\n    _initMarkup() {\r\n        deferRender(() => {\r\n            this._renderOverflowMenu();\r\n            this._renderMenuItems()\r\n        })\r\n    }\r\n    _renderOverflowMenu() {\r\n        if (!this._hasVisibleMenuItems()) {\r\n            return\r\n        }\r\n        this._renderMenuButtonContainer();\r\n        var $menu = $(\"<div>\").appendTo(this._overflowMenuContainer());\r\n        var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\r\n        var menuItemTemplate = this._toolbar._getTemplateByOption(\"menuItemTemplate\");\r\n        this._menu = this._toolbar._createComponent($menu, DropDownMenu, {\r\n            disabled: this._toolbar.option(\"disabled\"),\r\n            itemTemplate: () => menuItemTemplate,\r\n            onItemClick: e => {\r\n                itemClickAction(e)\r\n            },\r\n            container: this._toolbar.option(\"menuContainer\"),\r\n            onOptionChanged: _ref => {\r\n                var {\r\n                    name: name,\r\n                    value: value\r\n                } = _ref;\r\n                if (\"opened\" === name) {\r\n                    this._toolbar.option(\"overflowMenuVisible\", value)\r\n                }\r\n                if (\"items\" === name) {\r\n                    this._updateMenuVisibility(value)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    renderMenuItems() {\r\n        if (!this._menu) {\r\n            this._renderOverflowMenu()\r\n        }\r\n        this._menu && this._menu.option(\"items\", this._getMenuItems());\r\n        if (this._menu && !this._menu.option(\"items\").length) {\r\n            this._menu.option(\"opened\", false)\r\n        }\r\n    }\r\n    _renderMenuButtonContainer() {\r\n        this._$overflowMenuContainer = $(\"<div>\").appendTo(this._toolbar._$afterSection).addClass(TOOLBAR_BUTTON_CLASS).addClass(TOOLBAR_DROP_DOWN_MENU_CONTAINER_CLASS)\r\n    }\r\n    _overflowMenuContainer() {\r\n        return this._$overflowMenuContainer\r\n    }\r\n    _updateMenuVisibility(menuItems) {\r\n        var items = null !== menuItems && void 0 !== menuItems ? menuItems : this._getMenuItems();\r\n        var isMenuVisible = items.length && this._hasVisibleMenuItems(items);\r\n        this._toggleMenuVisibility(isMenuVisible)\r\n    }\r\n    _toggleMenuVisibility(value) {\r\n        if (!this._overflowMenuContainer()) {\r\n            return\r\n        }\r\n        this._overflowMenuContainer().toggleClass(INVISIBLE_STATE_CLASS, !value)\r\n    }\r\n    _renderMenuItems() {\r\n        deferRender(() => {\r\n            this.renderMenuItems()\r\n        })\r\n    }\r\n    _dimensionChanged() {\r\n        this.renderMenuItems()\r\n    }\r\n    _getToolbarItems() {\r\n        var _this$_toolbar$option;\r\n        return grep(null !== (_this$_toolbar$option = this._toolbar.option(\"items\")) && void 0 !== _this$_toolbar$option ? _this$_toolbar$option : [], item => !this._toolbar._isMenuItem(item))\r\n    }\r\n    _getHiddenItems() {\r\n        return this._toolbar._itemContainer().children(\".\".concat(TOOLBAR_AUTO_HIDE_ITEM_CLASS, \".\").concat(TOOLBAR_HIDDEN_ITEM)).not(\".\".concat(INVISIBLE_STATE_CLASS))\r\n    }\r\n    _getMenuItems() {\r\n        var _this$_toolbar$option2, _this$_restoreItems;\r\n        var menuItems = grep(null !== (_this$_toolbar$option2 = this._toolbar.option(\"items\")) && void 0 !== _this$_toolbar$option2 ? _this$_toolbar$option2 : [], item => this._toolbar._isMenuItem(item));\r\n        var $hiddenItems = this._getHiddenItems();\r\n        this._restoreItems = null !== (_this$_restoreItems = this._restoreItems) && void 0 !== _this$_restoreItems ? _this$_restoreItems : [];\r\n        var overflowItems = [].slice.call($hiddenItems).map(hiddenItem => {\r\n            var itemData = this._toolbar._getItemData(hiddenItem);\r\n            var $itemContainer = $(hiddenItem);\r\n            var $itemMarkup = $itemContainer.children();\r\n            return extend({\r\n                menuItemTemplate: () => {\r\n                    this._restoreItems.push({\r\n                        container: $itemContainer,\r\n                        item: $itemMarkup\r\n                    });\r\n                    var $container = $(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n                    return $container.append($itemMarkup)\r\n                }\r\n            }, itemData)\r\n        });\r\n        return [...overflowItems, ...menuItems]\r\n    }\r\n    _hasVisibleMenuItems(items) {\r\n        var menuItems = null !== items && void 0 !== items ? items : this._toolbar.option(\"items\");\r\n        var result = false;\r\n        var optionGetter = compileGetter(\"visible\");\r\n        var overflowGetter = compileGetter(\"locateInMenu\");\r\n        each(menuItems, (function(index, item) {\r\n            var itemVisible = optionGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            var itemOverflow = overflowGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow) || \"menu\" === item.location) {\r\n                result = true\r\n            }\r\n        }));\r\n        return result\r\n    }\r\n    _arrangeItems() {\r\n        var _this$_restoreItems2;\r\n        this._toolbar._$centerSection.css({\r\n            margin: \"0 auto\",\r\n            float: \"none\"\r\n        });\r\n        each(null !== (_this$_restoreItems2 = this._restoreItems) && void 0 !== _this$_restoreItems2 ? _this$_restoreItems2 : [], (function(_, obj) {\r\n            $(obj.container).append(obj.item)\r\n        }));\r\n        this._restoreItems = [];\r\n        var elementWidth = getWidth(this._toolbar.$element());\r\n        this._hideOverflowItems(elementWidth);\r\n        return elementWidth\r\n    }\r\n    _hideOverflowItems(elementWidth) {\r\n        var _elementWidth;\r\n        var overflowItems = this._toolbar.$element().find(\".\".concat(TOOLBAR_AUTO_HIDE_ITEM_CLASS));\r\n        if (!overflowItems.length) {\r\n            return\r\n        }\r\n        elementWidth = null !== (_elementWidth = elementWidth) && void 0 !== _elementWidth ? _elementWidth : getWidth(this._toolbar.$element());\r\n        $(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\r\n        var itemsWidth = this._getItemsWidth();\r\n        while (overflowItems.length && elementWidth < itemsWidth) {\r\n            var $item = overflowItems.eq(-1);\r\n            itemsWidth -= getOuterWidth($item);\r\n            $item.addClass(TOOLBAR_HIDDEN_ITEM);\r\n            overflowItems.splice(-1, 1)\r\n        }\r\n    }\r\n    _getItemsWidth() {\r\n        return this._toolbar._getSummaryItemsWidth([this._toolbar._$beforeSection, this._toolbar._$centerSection, this._toolbar._$afterSection])\r\n    }\r\n    _itemOptionChanged(item, property, value) {\r\n        if (\"disabled\" === property || \"options.disabled\" === property) {\r\n            if (this._toolbar._isMenuItem(item)) {\r\n                var _this$_menu;\r\n                null === (_this$_menu = this._menu) || void 0 === _this$_menu ? void 0 : _this$_menu._itemOptionChanged(item, property, value);\r\n                return\r\n            }\r\n        }\r\n        this.renderMenuItems()\r\n    }\r\n    _renderItem(item, itemElement) {\r\n        if (\"auto\" === item.locateInMenu) {\r\n            itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS)\r\n        }\r\n    }\r\n    _optionChanged(name, value) {\r\n        var _this$_menu2, _this$_menu3, _this$_menu4, _this$_menu5, _this$_menu6;\r\n        switch (name) {\r\n            case \"disabled\":\r\n                null === (_this$_menu2 = this._menu) || void 0 === _this$_menu2 ? void 0 : _this$_menu2.option(name, value);\r\n                break;\r\n            case \"overflowMenuVisible\":\r\n                null === (_this$_menu3 = this._menu) || void 0 === _this$_menu3 ? void 0 : _this$_menu3.option(\"opened\", value);\r\n                break;\r\n            case \"onItemClick\":\r\n                null === (_this$_menu4 = this._menu) || void 0 === _this$_menu4 ? void 0 : _this$_menu4.option(name, value);\r\n                break;\r\n            case \"menuContainer\":\r\n                null === (_this$_menu5 = this._menu) || void 0 === _this$_menu5 ? void 0 : _this$_menu5.option(\"container\", value);\r\n                break;\r\n            case \"menuItemTemplate\":\r\n                null === (_this$_menu6 = this._menu) || void 0 === _this$_menu6 ? void 0 : _this$_menu6.option(\"itemTemplate\", value)\r\n        }\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}