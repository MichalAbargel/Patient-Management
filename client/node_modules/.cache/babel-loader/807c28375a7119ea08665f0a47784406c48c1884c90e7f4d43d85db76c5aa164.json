{"ast":null,"code":"/**\r\n * DevExtreme (esm/__internal/scheduler/appointments/rendering_strategies/m_strategy_horizontal_month_line.js)\r\n * Version: 23.1.5\r\n * Build date: Wed Aug 30 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport dateUtils from \"../../../../core/utils/date\";\nimport query from \"../../../../data/query\";\nimport { sortAppointmentsByStartDate } from \"../data_provider/m_utils\";\nimport HorizontalAppointmentsStrategy from \"./m_strategy_horizontal\";\nvar HOURS_IN_DAY = 24;\nvar MINUTES_IN_HOUR = 60;\nvar MILLISECONDS_IN_MINUTE = 6e4;\nvar ZERO_APPOINTMENT_DURATION_IN_DAYS = 1;\nclass HorizontalMonthLineRenderingStrategy extends HorizontalAppointmentsStrategy {\n  calculateAppointmentWidth(appointment, position) {\n    var startDate = dateUtils.trimTime(position.info.appointment.startDate);\n    var {\n      normalizedEndDate: normalizedEndDate\n    } = position.info.appointment;\n    var cellWidth = this.cellWidth || this.getAppointmentMinSize();\n    var duration = Math.ceil(this._getDurationInDays(startDate, normalizedEndDate));\n    var width = this.cropAppointmentWidth(duration * cellWidth, cellWidth);\n    if (this.isVirtualScrolling) {\n      var skippedDays = this.viewDataProvider.getSkippedDaysCount(position.groupIndex, startDate, normalizedEndDate, duration);\n      width -= skippedDays * cellWidth;\n    }\n    return width;\n  }\n  _getDurationInDays(startDate, endDate) {\n    var adjustedDuration = this._adjustDurationByDaylightDiff(endDate.getTime() - startDate.getTime(), startDate, endDate);\n    return adjustedDuration / dateUtils.dateToMilliseconds(\"day\") || ZERO_APPOINTMENT_DURATION_IN_DAYS;\n  }\n  getDeltaTime(args, initialSize) {\n    return HOURS_IN_DAY * MINUTES_IN_HOUR * MILLISECONDS_IN_MINUTE * this._getDeltaWidth(args, initialSize);\n  }\n  isAllDay() {\n    return false;\n  }\n  createTaskPositionMap(items, skipSorting) {\n    if (!skipSorting) {\n      sortAppointmentsByStartDate(items, this.dataAccessors);\n    }\n    return super.createTaskPositionMap(items);\n  }\n  _getSortedPositions(map, skipSorting) {\n    var result = super._getSortedPositions(map);\n    if (!skipSorting) {\n      result = query(result).sortBy(\"top\").thenBy(\"left\").thenBy(\"cellPosition\").thenBy(\"i\").toArray();\n    }\n    return result;\n  }\n  needCorrectAppointmentDates() {\n    return false;\n  }\n  getPositionShift(timeShift) {\n    return {\n      top: 0,\n      left: 0,\n      cellPosition: 0\n    };\n  }\n}\nexport default HorizontalMonthLineRenderingStrategy;","map":{"version":3,"names":["dateUtils","query","sortAppointmentsByStartDate","HorizontalAppointmentsStrategy","HOURS_IN_DAY","MINUTES_IN_HOUR","MILLISECONDS_IN_MINUTE","ZERO_APPOINTMENT_DURATION_IN_DAYS","HorizontalMonthLineRenderingStrategy","calculateAppointmentWidth","appointment","position","startDate","trimTime","info","normalizedEndDate","cellWidth","getAppointmentMinSize","duration","Math","ceil","_getDurationInDays","width","cropAppointmentWidth","isVirtualScrolling","skippedDays","viewDataProvider","getSkippedDaysCount","groupIndex","endDate","adjustedDuration","_adjustDurationByDaylightDiff","getTime","dateToMilliseconds","getDeltaTime","args","initialSize","_getDeltaWidth","isAllDay","createTaskPositionMap","items","skipSorting","dataAccessors","_getSortedPositions","map","result","sortBy","thenBy","toArray","needCorrectAppointmentDates","getPositionShift","timeShift","top","left","cellPosition"],"sources":["C:/Users/Michal Abargel/Desktop/FULLSTACK_PROJECTS/PrivateLessones/F(x)/client/gui/node_modules/devextreme/esm/__internal/scheduler/appointments/rendering_strategies/m_strategy_horizontal_month_line.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/__internal/scheduler/appointments/rendering_strategies/m_strategy_horizontal_month_line.js)\r\n * Version: 23.1.5\r\n * Build date: Wed Aug 30 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport dateUtils from \"../../../../core/utils/date\";\r\nimport query from \"../../../../data/query\";\r\nimport {\r\n    sortAppointmentsByStartDate\r\n} from \"../data_provider/m_utils\";\r\nimport HorizontalAppointmentsStrategy from \"./m_strategy_horizontal\";\r\nvar HOURS_IN_DAY = 24;\r\nvar MINUTES_IN_HOUR = 60;\r\nvar MILLISECONDS_IN_MINUTE = 6e4;\r\nvar ZERO_APPOINTMENT_DURATION_IN_DAYS = 1;\r\nclass HorizontalMonthLineRenderingStrategy extends HorizontalAppointmentsStrategy {\r\n    calculateAppointmentWidth(appointment, position) {\r\n        var startDate = dateUtils.trimTime(position.info.appointment.startDate);\r\n        var {\r\n            normalizedEndDate: normalizedEndDate\r\n        } = position.info.appointment;\r\n        var cellWidth = this.cellWidth || this.getAppointmentMinSize();\r\n        var duration = Math.ceil(this._getDurationInDays(startDate, normalizedEndDate));\r\n        var width = this.cropAppointmentWidth(duration * cellWidth, cellWidth);\r\n        if (this.isVirtualScrolling) {\r\n            var skippedDays = this.viewDataProvider.getSkippedDaysCount(position.groupIndex, startDate, normalizedEndDate, duration);\r\n            width -= skippedDays * cellWidth\r\n        }\r\n        return width\r\n    }\r\n    _getDurationInDays(startDate, endDate) {\r\n        var adjustedDuration = this._adjustDurationByDaylightDiff(endDate.getTime() - startDate.getTime(), startDate, endDate);\r\n        return adjustedDuration / dateUtils.dateToMilliseconds(\"day\") || ZERO_APPOINTMENT_DURATION_IN_DAYS\r\n    }\r\n    getDeltaTime(args, initialSize) {\r\n        return HOURS_IN_DAY * MINUTES_IN_HOUR * MILLISECONDS_IN_MINUTE * this._getDeltaWidth(args, initialSize)\r\n    }\r\n    isAllDay() {\r\n        return false\r\n    }\r\n    createTaskPositionMap(items, skipSorting) {\r\n        if (!skipSorting) {\r\n            sortAppointmentsByStartDate(items, this.dataAccessors)\r\n        }\r\n        return super.createTaskPositionMap(items)\r\n    }\r\n    _getSortedPositions(map, skipSorting) {\r\n        var result = super._getSortedPositions(map);\r\n        if (!skipSorting) {\r\n            result = query(result).sortBy(\"top\").thenBy(\"left\").thenBy(\"cellPosition\").thenBy(\"i\").toArray()\r\n        }\r\n        return result\r\n    }\r\n    needCorrectAppointmentDates() {\r\n        return false\r\n    }\r\n    getPositionShift(timeShift) {\r\n        return {\r\n            top: 0,\r\n            left: 0,\r\n            cellPosition: 0\r\n        }\r\n    }\r\n}\r\nexport default HorizontalMonthLineRenderingStrategy;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,SAAS,MAAM,6BAA6B;AACnD,OAAOC,KAAK,MAAM,wBAAwB;AAC1C,SACIC,2BAA2B,QACxB,0BAA0B;AACjC,OAAOC,8BAA8B,MAAM,yBAAyB;AACpE,IAAIC,YAAY,GAAG,EAAE;AACrB,IAAIC,eAAe,GAAG,EAAE;AACxB,IAAIC,sBAAsB,GAAG,GAAG;AAChC,IAAIC,iCAAiC,GAAG,CAAC;AACzC,MAAMC,oCAAoC,SAASL,8BAA8B,CAAC;EAC9EM,yBAAyBA,CAACC,WAAW,EAAEC,QAAQ,EAAE;IAC7C,IAAIC,SAAS,GAAGZ,SAAS,CAACa,QAAQ,CAACF,QAAQ,CAACG,IAAI,CAACJ,WAAW,CAACE,SAAS,CAAC;IACvE,IAAI;MACAG,iBAAiB,EAAEA;IACvB,CAAC,GAAGJ,QAAQ,CAACG,IAAI,CAACJ,WAAW;IAC7B,IAAIM,SAAS,GAAG,IAAI,CAACA,SAAS,IAAI,IAAI,CAACC,qBAAqB,CAAC,CAAC;IAC9D,IAAIC,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAAC,IAAI,CAACC,kBAAkB,CAACT,SAAS,EAAEG,iBAAiB,CAAC,CAAC;IAC/E,IAAIO,KAAK,GAAG,IAAI,CAACC,oBAAoB,CAACL,QAAQ,GAAGF,SAAS,EAAEA,SAAS,CAAC;IACtE,IAAI,IAAI,CAACQ,kBAAkB,EAAE;MACzB,IAAIC,WAAW,GAAG,IAAI,CAACC,gBAAgB,CAACC,mBAAmB,CAAChB,QAAQ,CAACiB,UAAU,EAAEhB,SAAS,EAAEG,iBAAiB,EAAEG,QAAQ,CAAC;MACxHI,KAAK,IAAIG,WAAW,GAAGT,SAAS;IACpC;IACA,OAAOM,KAAK;EAChB;EACAD,kBAAkBA,CAACT,SAAS,EAAEiB,OAAO,EAAE;IACnC,IAAIC,gBAAgB,GAAG,IAAI,CAACC,6BAA6B,CAACF,OAAO,CAACG,OAAO,CAAC,CAAC,GAAGpB,SAAS,CAACoB,OAAO,CAAC,CAAC,EAAEpB,SAAS,EAAEiB,OAAO,CAAC;IACtH,OAAOC,gBAAgB,GAAG9B,SAAS,CAACiC,kBAAkB,CAAC,KAAK,CAAC,IAAI1B,iCAAiC;EACtG;EACA2B,YAAYA,CAACC,IAAI,EAAEC,WAAW,EAAE;IAC5B,OAAOhC,YAAY,GAAGC,eAAe,GAAGC,sBAAsB,GAAG,IAAI,CAAC+B,cAAc,CAACF,IAAI,EAAEC,WAAW,CAAC;EAC3G;EACAE,QAAQA,CAAA,EAAG;IACP,OAAO,KAAK;EAChB;EACAC,qBAAqBA,CAACC,KAAK,EAAEC,WAAW,EAAE;IACtC,IAAI,CAACA,WAAW,EAAE;MACdvC,2BAA2B,CAACsC,KAAK,EAAE,IAAI,CAACE,aAAa,CAAC;IAC1D;IACA,OAAO,KAAK,CAACH,qBAAqB,CAACC,KAAK,CAAC;EAC7C;EACAG,mBAAmBA,CAACC,GAAG,EAAEH,WAAW,EAAE;IAClC,IAAII,MAAM,GAAG,KAAK,CAACF,mBAAmB,CAACC,GAAG,CAAC;IAC3C,IAAI,CAACH,WAAW,EAAE;MACdI,MAAM,GAAG5C,KAAK,CAAC4C,MAAM,CAAC,CAACC,MAAM,CAAC,KAAK,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC,CAACA,MAAM,CAAC,cAAc,CAAC,CAACA,MAAM,CAAC,GAAG,CAAC,CAACC,OAAO,CAAC,CAAC;IACpG;IACA,OAAOH,MAAM;EACjB;EACAI,2BAA2BA,CAAA,EAAG;IAC1B,OAAO,KAAK;EAChB;EACAC,gBAAgBA,CAACC,SAAS,EAAE;IACxB,OAAO;MACHC,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,CAAC;MACPC,YAAY,EAAE;IAClB,CAAC;EACL;AACJ;AACA,eAAe9C,oCAAoC"},"metadata":{},"sourceType":"module","externalDependencies":[]}