{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport React, { createContext, useState, useContext, useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from 'i18next';\nimport { initReactI18next, useTranslation } from 'react-i18next';\nimport { styled, useTheme, alpha } from '@mui/material/styles';\nimport { Autocomplete, Box, TextField, Toolbar, Grid, Typography, Hidden, IconButton, Button, Menu, Stack, ToggleButtonGroup, ToggleButton, MenuItem, ListItemIcon, Divider, Collapse, Alert, Paper, TableCell, tableCellClasses, TableRow, TableContainer, Table, TableHead, TableBody, Tooltip, Zoom, Fade, Slide } from '@mui/material';\nimport { format, parse, getDaysInMonth, sub, add, isSameMonth, differenceInMinutes, isValid, getWeeksInMonth, startOfMonth, getDay, isSameDay, startOfWeek, startOfDay } from 'date-fns';\nimport _extends from '@babel/runtime/helpers/extends';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport StaticDatePicker from '@mui/lab/StaticDatePicker';\nimport CloseIcon from '@mui/icons-material/Close';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport TodayIcon from '@mui/icons-material/Today';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport ArchiveIcon from '@mui/icons-material/Archive';\nimport AutorenewIcon from '@mui/icons-material/Autorenew';\nimport LocalPrintshopIcon from '@mui/icons-material/LocalPrintshop';\nimport PlayCircleOutlineIcon from '@mui/icons-material/PlayCircleOutline';\nimport GridViewIcon from '@mui/icons-material/GridView';\nimport EventNoteRoundedIcon from '@mui/icons-material/EventNoteRounded';\nimport { styled as styled$1 } from '@mui/system';\nimport Timeline from '@mui/lab/Timeline';\nimport TimelineItem from '@mui/lab/TimelineItem';\nimport TimelineSeparator from '@mui/lab/TimelineSeparator';\nimport TimelineConnector from '@mui/lab/TimelineConnector';\nimport TimelineContent from '@mui/lab/TimelineContent';\nimport TimelineOppositeContent from '@mui/lab/TimelineOppositeContent';\nimport TimelineDot from '@mui/lab/TimelineDot';\nimport ScheduleIcon from '@mui/icons-material/Schedule';\nimport { enAU, fr, ko, de, es, ar, ja, ru, zhCN } from 'date-fns/locale';\nvar day$7 = \"Day\";\nvar week$7 = \"Week\";\nvar month$7 = \"Month\";\nvar timeline$7 = \"Timeline\";\nvar mon$7 = \"Mon\";\nvar tue$7 = \"Tue\";\nvar wed$7 = \"Wed\";\nvar thu$7 = \"Thu\";\nvar fri$7 = \"Fri\";\nvar sat$7 = \"Sat\";\nvar sun$7 = \"Sun\";\nvar search$7 = \"Search...\";\nvar trEN = {\n  day: day$7,\n  week: week$7,\n  month: month$7,\n  timeline: timeline$7,\n  mon: mon$7,\n  tue: tue$7,\n  wed: wed$7,\n  thu: thu$7,\n  fri: fri$7,\n  sat: sat$7,\n  sun: sun$7,\n  search: search$7\n};\nvar day$6 = \"Jour\";\nvar week$6 = \"Semaine\";\nvar month$6 = \"Mois\";\nvar timeline$6 = \"Chronologie\";\nvar mon$6 = \"Lun\";\nvar tue$6 = \"Mar\";\nvar wed$6 = \"Mer\";\nvar thu$6 = \"Jeu\";\nvar fri$6 = \"Ven\";\nvar sat$6 = \"Sam\";\nvar sun$6 = \"Dim\";\nvar search$6 = \"Chercher...\";\nvar trFR = {\n  day: day$6,\n  week: week$6,\n  month: month$6,\n  timeline: timeline$6,\n  mon: mon$6,\n  tue: tue$6,\n  wed: wed$6,\n  thu: thu$6,\n  fri: fri$6,\n  sat: sat$6,\n  sun: sun$6,\n  search: search$6\n};\nvar day$5 = \"낮\";\nvar week$5 = \"주\";\nvar month$5 = \"월\";\nvar timeline$5 = \"타임라인\";\nvar mon$5 = \"월\";\nvar tue$5 = \"화요일\";\nvar wed$5 = \"수\";\nvar thu$5 = \"목\";\nvar fri$5 = \"금\";\nvar sat$5 = \"앉았다\";\nvar sun$5 = \"해\";\nvar search$5 = \"검색...\";\nvar trKO = {\n  day: day$5,\n  week: week$5,\n  month: month$5,\n  timeline: timeline$5,\n  mon: mon$5,\n  tue: tue$5,\n  wed: wed$5,\n  thu: thu$5,\n  fri: fri$5,\n  sat: sat$5,\n  sun: sun$5,\n  search: search$5\n};\nvar day$4 = \"Tag\";\nvar week$4 = \"Woche\";\nvar month$4 = \"Monat\";\nvar timeline$4 = \"Zeitleiste\";\nvar mon$4 = \"Mo\";\nvar tue$4 = \"Diens\";\nvar wed$4 = \"Mitt\";\nvar thu$4 = \"Donner\";\nvar fri$4 = \"Frei\";\nvar sat$4 = \"Sam\";\nvar sun$4 = \"Sonn\";\nvar search$4 = \"Suchen...\";\nvar trDE = {\n  day: day$4,\n  week: week$4,\n  month: month$4,\n  timeline: timeline$4,\n  mon: mon$4,\n  tue: tue$4,\n  wed: wed$4,\n  thu: thu$4,\n  fri: fri$4,\n  sat: sat$4,\n  sun: sun$4,\n  search: search$4\n};\nvar day$3 = \"Día\";\nvar week$3 = \"Semana\";\nvar month$3 = \"Mes\";\nvar timeline$3 = \"Cronología\";\nvar mon$3 = \"Lun\";\nvar tue$3 = \"Mar\";\nvar wed$3 = \"Mié\";\nvar thu$3 = \"Jue\";\nvar fri$3 = \"Vie\";\nvar sat$3 = \"Sáb\";\nvar sun$3 = \"Dom\";\nvar search$3 = \"Buscar...\";\nvar trES = {\n  day: day$3,\n  week: week$3,\n  month: month$3,\n  timeline: timeline$3,\n  mon: mon$3,\n  tue: tue$3,\n  wed: wed$3,\n  thu: thu$3,\n  fri: fri$3,\n  sat: sat$3,\n  sun: sun$3,\n  search: search$3\n};\nvar day$2 = \"يوم\";\nvar week$2 = \"أسبوع\";\nvar month$2 = \"شهر\";\nvar timeline$2 = \"الجدول الزمني\";\nvar mon$2 = \"الإثنين\";\nvar tue$2 = \"الثلاثاء\";\nvar wed$2 = \"تزوج\";\nvar thu$2 = \"خميس\";\nvar fri$2 = \"الجمعة\";\nvar sat$2 = \"قعد\";\nvar sun$2 = \"شمس\";\nvar search$2 = \"بحث\";\nvar trAR = {\n  day: day$2,\n  week: week$2,\n  month: month$2,\n  timeline: timeline$2,\n  mon: mon$2,\n  tue: tue$2,\n  wed: wed$2,\n  thu: thu$2,\n  fri: fri$2,\n  sat: sat$2,\n  sun: sun$2,\n  search: search$2\n};\nvar day$1 = \"日\";\nvar week$1 = \"週\";\nvar month$1 = \"月\";\nvar timeline$1 = \"年表\";\nvar mon$1 = \"月曜日\";\nvar tue$1 = \"3月\";\nvar wed$1 = \"海\";\nvar thu$1 = \"ゲーム\";\nvar fri$1 = \"金\";\nvar sat$1 = \"土\";\nvar sun$1 = \"太陽\";\nvar search$1 = \"探す...\";\nvar trJA = {\n  day: day$1,\n  week: week$1,\n  month: month$1,\n  timeline: timeline$1,\n  mon: mon$1,\n  tue: tue$1,\n  wed: wed$1,\n  thu: thu$1,\n  fri: fri$1,\n  sat: sat$1,\n  sun: sun$1,\n  search: search$1\n};\nvar day = \"天\";\nvar week = \"星期\";\nvar month = \"月\";\nvar timeline = \"年表\";\nvar mon = \"星期一\";\nvar tue = \"三月\";\nvar wed = \"海\";\nvar thu = \"游戏\";\nvar fri = \"周五\";\nvar sat = \"星期六\";\nvar sun = \"太阳\";\nvar search = \"寻找...\";\nvar trZH = {\n  day: day,\n  week: week,\n  month: month,\n  timeline: timeline,\n  mon: mon,\n  tue: tue,\n  wed: wed,\n  thu: thu,\n  fri: fri,\n  sat: sat,\n  sun: sun,\n  search: search\n};\nvar resources = {\n  en: {\n    common: trEN\n  },\n  fr: {\n    common: trFR\n  },\n  ko: {\n    common: trKO\n  },\n  de: {\n    common: trDE\n  },\n  es: {\n    common: trES\n  },\n  ar: {\n    common: trAR\n  },\n  ja: {\n    common: trJA\n  },\n  zh: {\n    common: trZH\n  }\n};\ni18n // pass the i18n instance to react-i18next.\n.use(initReactI18next) // init i18next\n// for all options read: https://www.i18next.com/overview/configuration-options\n.init({\n  resources: resources,\n  lng: localStorage.getItem('i18nextLng'),\n  ns: [\"common\"],\n  defaultNS: \"common\",\n  fallbackNS: \"common\",\n  fallbackLng: [\"en\", \"fr\", \"dev\"],\n  debug: false,\n  interpolation: {\n    escapeValue: false // not needed for react as it escapes by default\n  },\n\n  react: {\n    wait: true,\n    useSuspense: false\n  }\n});\nvar DateFnsLocaleContext = /*#__PURE__*/createContext();\nfunction ownKeys$4(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$4(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar StyledAutoComplete = styled(Autocomplete)(function (_ref) {\n  var _ref2;\n  var theme = _ref.theme;\n  return _ref2 = {\n    color: 'inherit',\n    width: '94%',\n    display: 'inline-flex',\n    margin: theme.spacing(.5, 1.5),\n    transition: theme.transitions.create('width')\n  }, _defineProperty(_ref2, theme.breakpoints.up('sm'), {\n    width: '100%'\n  }), _defineProperty(_ref2, theme.breakpoints.up('md'), {\n    width: '27ch'\n  }), _defineProperty(_ref2, theme.breakpoints.up('lg'), {\n    width: '27ch'\n  }), _ref2;\n});\nfunction ToolbarSearchbar(props) {\n  var events = props.events,\n    _onInputChange = props.onInputChange;\n  var _useTranslation = useTranslation(['common']),\n    t = _useTranslation.t;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    value = _useState2[0],\n    setValue = _useState2[1];\n  useContext(DateFnsLocaleContext);\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    inputValue = _useState4[0],\n    setInputValue = _useState4[1];\n  var handleOnChange = function handleOnChange(event, newValue) {\n    setValue(newValue);\n    if (_onInputChange) _onInputChange(newValue);\n  };\n  return /*#__PURE__*/React.createElement(StyledAutoComplete, {\n    value: value,\n    id: \"scheduler-autocomplete\",\n    inputValue: inputValue,\n    sx: {\n      mb: 0,\n      display: 'inline-flex'\n    },\n    onChange: handleOnChange,\n    options: events === null || events === void 0 ? void 0 : events.sort(function (a, b) {\n      return -b.groupLabel.localeCompare(a.groupLabel);\n    }),\n    groupBy: function groupBy(option) {\n      return option ? option === null || option === void 0 ? void 0 : option.groupLabel : null;\n    }\n    /*\n    (\n        <Box sx={{display: \"flex\", alignItems: \"center\"}}>\n          <Box\n            component=\"span\"\n            sx={{\n              width: 16,\n              height: 16,\n              mr: 1,\n              borderRadius: \"50%\",\n              backgroundColor: option?.color || theme.palette.secondary.main\n            }}\n          />\n          {option?.groupLabel}\n        </Box>\n      )\n     */,\n\n    getOptionLabel: function getOptionLabel(option) {\n      return option ? \"\".concat(option.groupLabel || '', \" | (\").concat(option.startHour || '', \" - \").concat(option.endHour || '', \")\") : '';\n    },\n    isOptionEqualToValue: function isOptionEqualToValue(option, value) {\n      return option.id === value.id;\n    },\n    onInputChange: function onInputChange(event, newInputValue) {\n      setInputValue(newInputValue);\n      _onInputChange(newInputValue);\n    },\n    renderOption: function renderOption(props, option) {\n      return /*#__PURE__*/React.createElement(Box, _extends({\n        component: \"li\",\n        sx: {\n          fontSize: 12\n        }\n      }, props), format(parse(option === null || option === void 0 ? void 0 : option.date, 'yyyy-MM-dd', new Date()), 'dd-MMMM-yyyy'), \"(\", (option === null || option === void 0 ? void 0 : option.startHour) || '', \" - \", (option === null || option === void 0 ? void 0 : option.endHour) || '', \")\");\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextField, _extends({}, params, {\n        size: \"small\",\n        label: t('search'),\n        InputProps: _objectSpread$4({}, params.InputProps)\n      }));\n    }\n  });\n}\nToolbarSearchbar.propTypes = {\n  events: PropTypes.array,\n  onInputChange: PropTypes.func\n};\nToolbarSearchbar.defaultProps = {};\nfunction SchedulerToolbar(props) {\n  props.locale;\n  var events = props.events,\n    today = props.today,\n    switchMode = props.switchMode,\n    alertProps = props.alertProps,\n    toolbarProps = props.toolbarProps,\n    onModeChange = props.onModeChange,\n    onDateChange = props.onDateChange,\n    onSearchResult = props.onSearchResult,\n    onAlertCloseButtonClicked = props.onAlertCloseButtonClicked;\n  var theme = useTheme();\n  var _useTranslation = useTranslation(['common']),\n    t = _useTranslation.t;\n  var _useState = useState(switchMode),\n    _useState2 = _slicedToArray(_useState, 2),\n    mode = _useState2[0],\n    setMode = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    searchResult = _useState4[0],\n    setSearchResult = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    anchorMenuEl = _useState6[0],\n    setAnchorMenuEl = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    anchorDateEl = _useState8[0],\n    setAnchorDateEl = _useState8[1];\n  var _useState9 = useState(today || new Date()),\n    _useState10 = _slicedToArray(_useState9, 2),\n    selectedDate = _useState10[0],\n    setSelectedDate = _useState10[1];\n  var _useState11 = useState(getDaysInMonth(selectedDate)),\n    _useState12 = _slicedToArray(_useState11, 2),\n    daysInMonth = _useState12[0],\n    setDaysInMonth = _useState12[1];\n  var openMenu = Boolean(anchorMenuEl);\n  var openDateSelector = Boolean(anchorDateEl);\n  var dateFnsLocale = useContext(DateFnsLocaleContext);\n  var isDayMode = mode.toLowerCase() === 'day';\n  var isWeekMode = mode.toLowerCase() === 'week';\n  var isMonthMode = mode.toLowerCase() === 'month';\n  var commonIconButtonProps = {\n    size: \"medium\",\n    edge: \"start\",\n    color: \"inherit\",\n    \"aria-label\": \"menu\"\n  };\n  var menus = [{\n    label: \"Read events\",\n    icon: /*#__PURE__*/React.createElement(PlayCircleOutlineIcon, {\n      fontSize: \"small\"\n    })\n  }, {\n    label: \"Refresh\",\n    icon: /*#__PURE__*/React.createElement(AutorenewIcon, {\n      fontSize: \"small\"\n    })\n  }, {\n    label: \"Export\",\n    icon: /*#__PURE__*/React.createElement(ArchiveIcon, {\n      fontSize: \"small\"\n    })\n  }, {\n    label: \"Print\",\n    icon: /*#__PURE__*/React.createElement(LocalPrintshopIcon, {\n      fontSize: \"small\"\n    })\n  }];\n  var handleCloseMenu = function handleCloseMenu() {\n    setAnchorMenuEl(null);\n  };\n  var handleOpenDateSelector = function handleOpenDateSelector(event) {\n    setAnchorDateEl(event.currentTarget);\n  };\n  var handleCloseDateSelector = function handleCloseDateSelector() {\n    setAnchorDateEl(null);\n  };\n  /**\n   * @name handleChangeDate\n   * @description\n   * @param method\n   * @return void\n   */\n\n  var handleChangeDate = function handleChangeDate(method) {\n    if (typeof method !== 'function') {\n      return;\n    }\n    var options = {\n      months: 1\n    };\n    if (isWeekMode) {\n      options = {\n        weeks: 1\n      };\n    }\n    if (isDayMode) {\n      options = {\n        days: 1\n      };\n    }\n    var newDate = method(selectedDate, options);\n    setDaysInMonth(getDaysInMonth(newDate));\n    setSelectedDate(newDate);\n  };\n  var handleCloseAlert = function handleCloseAlert(e) {\n    onAlertCloseButtonClicked && onAlertCloseButtonClicked(e);\n  };\n  useEffect(function () {\n    if (mode && onModeChange) {\n      onModeChange(mode);\n    } // eslint-disable-next-line\n  }, [mode]);\n  useEffect(function () {\n    onDateChange && onDateChange(daysInMonth, selectedDate); // eslint-disable-next-line\n  }, [daysInMonth, selectedDate]);\n  useEffect(function () {\n    onSearchResult && onSearchResult(searchResult); // eslint-disable-next-line\n  }, [searchResult]);\n  useEffect(function () {\n    if (switchMode !== mode) {\n      setMode(switchMode);\n    }\n  }, [switchMode]);\n  return /*#__PURE__*/React.createElement(Toolbar, {\n    variant: \"dense\",\n    sx: {\n      px: '0px !important',\n      display: 'block',\n      borderBottom: \"1px \".concat(theme.palette.divider, \" solid\")\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    alignItems: \"center\",\n    justifyContent: \"flex-end\"\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 1,\n    sm: true,\n    md: true\n  }, toolbarProps.showDatePicker && /*#__PURE__*/React.createElement(Typography, {\n    component: \"div\",\n    sx: {\n      display: 'flex'\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    smDown: true\n  }, /*#__PURE__*/React.createElement(IconButton, _extends({\n    sx: {\n      ml: 0,\n      mr: -.1\n    }\n  }, commonIconButtonProps, {\n    onClick: function onClick() {\n      return handleChangeDate(sub);\n    }\n  }), /*#__PURE__*/React.createElement(ChevronLeftIcon, null)), /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    id: \"basic-button\",\n    \"aria-haspopup\": \"true\" //endIcon={<TodayIcon />}\n    ,\n\n    \"aria-controls\": \"basic-menu\",\n    onClick: handleOpenDateSelector,\n    sx: {\n      color: 'text.primary'\n    },\n    \"aria-expanded\": openDateSelector ? 'true' : undefined\n  }, format(selectedDate, isMonthMode ? 'MMMM-yyyy' : 'PPP', {\n    locale: dateFnsLocale\n  })), /*#__PURE__*/React.createElement(IconButton, _extends({\n    sx: {\n      ml: .2\n    }\n  }, commonIconButtonProps, {\n    onClick: function onClick() {\n      return handleChangeDate(add);\n    }\n  }), /*#__PURE__*/React.createElement(ChevronRightIcon, null))), /*#__PURE__*/React.createElement(Hidden, {\n    smUp: true\n  }, /*#__PURE__*/React.createElement(IconButton, _extends({\n    sx: {\n      ml: 0,\n      \"aria-label\": \"menu\"\n    }\n  }, commonIconButtonProps, {\n    size: \"small\",\n    onClick: handleOpenDateSelector\n  }), /*#__PURE__*/React.createElement(TodayIcon, null))), /*#__PURE__*/React.createElement(Menu, {\n    id: \"date-menu\",\n    anchorEl: anchorDateEl,\n    open: openDateSelector,\n    onClose: handleCloseDateSelector,\n    MenuListProps: {\n      'aria-labelledby': 'basic-button'\n    }\n  }, /*#__PURE__*/React.createElement(LocalizationProvider, {\n    locale: dateFnsLocale,\n    dateAdapter: AdapterDateFns\n  }, /*#__PURE__*/React.createElement(StaticDatePicker, {\n    displayStaticWrapperAs: \"desktop\",\n    value: selectedDate,\n    onChange: function onChange(newValue) {\n      setDaysInMonth(getDaysInMonth(newValue));\n      setSelectedDate(newValue);\n      handleCloseDateSelector();\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextField, params);\n    }\n  }))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    sm: true,\n    md: true,\n    sx: {\n      textAlign: 'right'\n    }\n  }, /*#__PURE__*/React.createElement(Stack, {\n    direction: \"row\",\n    sx: {\n      pr: .5,\n      alignItems: 'center',\n      justifyContent: 'flex-end'\n    }\n  }, (toolbarProps === null || toolbarProps === void 0 ? void 0 : toolbarProps.showSearchBar) && /*#__PURE__*/React.createElement(ToolbarSearchbar, {\n    events: events,\n    onInputChange: function onInputChange(newValue) {\n      var newDate = new Date();\n      if (newValue !== null && newValue !== void 0 && newValue.date) {\n        newDate = parse(newValue.date, 'yyyy-MM-dd', today);\n      }\n      setDaysInMonth(getDaysInMonth(newDate));\n      setSelectedDate(newDate);\n      setSearchResult(newValue);\n    }\n  }), /*#__PURE__*/React.createElement(Hidden, {\n    mdUp: true\n  }, /*#__PURE__*/React.createElement(IconButton, _extends({\n    sx: {\n      mr: 0,\n      \"aria-label\": \"menu\"\n    }\n  }, commonIconButtonProps, {\n    size: \"small\",\n    onClick: handleOpenDateSelector\n  }), /*#__PURE__*/React.createElement(GridViewIcon, null))), /*#__PURE__*/React.createElement(Hidden, {\n    mdDown: true\n  }, (toolbarProps === null || toolbarProps === void 0 ? void 0 : toolbarProps.showSwitchModeButtons) && /*#__PURE__*/React.createElement(ToggleButtonGroup, {\n    exclusive: true,\n    value: mode,\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"text button group\",\n    sx: {\n      mt: .2,\n      mr: 1.3,\n      display: 'contents'\n    },\n    onChange: function onChange(e, newMode) {\n      setMode(newMode);\n    }\n  }, [{\n    label: t('month'),\n    value: 'month'\n  }, {\n    label: t('week'),\n    value: 'week'\n  }, {\n    label: t('day'),\n    value: 'day'\n  }, {\n    label: t('timeline'),\n    value: 'timeline'\n  }].map(function (tb) {\n    return /*#__PURE__*/React.createElement(ToggleButton, {\n      sx: {\n        mt: .5\n      },\n      key: tb.value,\n      value: tb.value\n    }, tb.label);\n  }))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sx: {}\n  }, /*#__PURE__*/React.createElement(Menu, {\n    id: \"menu-menu\",\n    open: openMenu,\n    anchorEl: anchorMenuEl,\n    onClose: handleCloseMenu,\n    onClick: handleCloseMenu,\n    transformOrigin: {\n      horizontal: 'right',\n      vertical: 'top'\n    },\n    anchorOrigin: {\n      horizontal: 'right',\n      vertical: 'bottom'\n    }\n  }, menus.map(function (menu, index) {\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: menu.label\n    }, /*#__PURE__*/React.createElement(ListItemIcon, null, menu.icon), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\"\n    }, menu.label));\n  }), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(SettingsIcon, {\n    fontSize: \"small\"\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\"\n  }, \"Settings\"))), /*#__PURE__*/React.createElement(Collapse, {\n    in: alertProps === null || alertProps === void 0 ? void 0 : alertProps.open\n  }, /*#__PURE__*/React.createElement(Alert, {\n    color: alertProps === null || alertProps === void 0 ? void 0 : alertProps.color,\n    severity: alertProps === null || alertProps === void 0 ? void 0 : alertProps.severity,\n    sx: {\n      borderRadius: 0,\n      mb: 0\n    },\n    action: alertProps !== null && alertProps !== void 0 && alertProps.showActionButton ? /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      size: \"small\",\n      onClick: handleCloseAlert\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      fontSize: \"inherit\"\n    })) : null\n  }, alertProps === null || alertProps === void 0 ? void 0 : alertProps.message)))));\n}\nSchedulerToolbar.propTypes = {\n  today: PropTypes.object.isRequired,\n  events: PropTypes.array.isRequired,\n  switchMode: PropTypes.string.isRequired,\n  alertProps: PropTypes.object,\n  toolbarProps: PropTypes.object,\n  onDateChange: PropTypes.func.isRequired,\n  onModeChange: PropTypes.func.isRequired,\n  onSearchResult: PropTypes.func.isRequired,\n  onAlertCloseButtonClicked: PropTypes.func.isRequired\n};\nSchedulerToolbar.defaultProps = {\n  alertProps: {\n    open: false,\n    message: '',\n    color: 'info',\n    severity: 'info',\n    showActionButton: true\n  },\n  toolbarProps: {\n    showSearchBar: true,\n    showSwitchModeButtons: true,\n    showDatePicker: true,\n    showOptions: false\n  }\n};\nfunction EventItem(props) {\n  var event = props.event,\n    rowId = props.rowId,\n    sx = props.sx,\n    boxSx = props.boxSx,\n    elevation = props.elevation;\n  props.isMonthMode;\n  var onClick = props.onClick,\n    onDragStart = props.onDragStart;\n  return /*#__PURE__*/React.createElement(Paper, {\n    sx: sx,\n    draggable: true,\n    onClick: onClick,\n    onDragStart: onDragStart,\n    elevation: elevation || 0,\n    key: \"item-d-\".concat(event === null || event === void 0 ? void 0 : event.id, \"-\").concat(rowId)\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: boxSx\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    sx: {\n      fontSize: 11\n    }\n  }, event === null || event === void 0 ? void 0 : event.label)));\n}\nEventItem.propTypes = {\n  sx: PropTypes.object,\n  boxSx: PropTypes.object,\n  event: PropTypes.object.isRequired,\n  rowId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  isMonthMode: PropTypes.bool,\n  onClick: PropTypes.func,\n  handleTaskClick: PropTypes.func,\n  onCellDragStart: PropTypes.func\n};\nfunction ownKeys$3(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar StyledTableCell$2 = styled(TableCell)(function (_ref) {\n  var _$concat2, _ref2;\n  var theme = _ref.theme;\n  return _ref2 = {}, _defineProperty(_ref2, \"&.\".concat(tableCellClasses.head), _defineProperty({\n    borderTop: \"1px \".concat(theme.palette.divider, \" solid !important\"),\n    borderBottom: \"1px \".concat(theme.palette.divider, \" solid !important\"),\n    borderLeft: \"1px \".concat(theme.palette.divider, \" solid !important\")\n  }, '&:nth-of-type(1)', {\n    borderLeft: \"0px !important\"\n  })), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body), (_$concat2 = {\n    fontSize: 12,\n    height: 96,\n    width: 64,\n    maxWidth: 64,\n    cursor: 'pointer',\n    verticalAlign: \"top\",\n    borderLeft: \"1px \".concat(theme.palette.divider, \" solid\")\n  }, _defineProperty(_$concat2, '&:nth-of-type(7n+1)', {\n    borderLeft: 0\n  }), _defineProperty(_$concat2, '&:nth-of-type(even)', {//backgroundColor: theme.palette.action.hover\n  }), _$concat2)), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body, \":hover\"), {//backgroundColor: \"#eee\"\n  }), _ref2;\n});\nvar StyledTableRow$2 = styled(TableRow)(function (_ref3) {\n  _ref3.theme;\n  return _defineProperty({}, '&:last-child td, &:last-child th', {\n    border: 0\n  });\n});\nfunction MonthModeView(props) {\n  var rows = props.rows;\n  props.locale;\n  var options = props.options,\n    columns = props.columns,\n    legacyStyle = props.legacyStyle,\n    searchResult = props.searchResult,\n    onTaskClick = props.onTaskClick,\n    onCellClick = props.onCellClick,\n    onEventsChange = props.onEventsChange;\n  var theme = useTheme();\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var _useTranslation = useTranslation(['common']);\n  _useTranslation.t;\n  var today = new Date();\n  var currentDaySx = {\n    width: 24,\n    height: 22,\n    margin: 'auto',\n    display: 'block',\n    paddingTop: '2px',\n    borderRadius: '50%' //padding: '1px 7px',\n    //width: 'fit-content'\n  };\n\n  var onCellDragOver = function onCellDragOver(e) {\n    e.preventDefault();\n  };\n  var onCellDragStart = function onCellDragStart(e, item, rowIndex) {\n    setState(_objectSpread$3(_objectSpread$3({}, state), {}, {\n      itemTransfert: {\n        item: item,\n        rowIndex: rowIndex\n      }\n    }));\n  };\n  var onCellDragEnter = function onCellDragEnter(e, elementId, rowIndex) {\n    e.preventDefault();\n    setState(_objectSpread$3(_objectSpread$3({}, state), {}, {\n      transfertTarget: {\n        elementId: elementId,\n        rowIndex: rowIndex\n      }\n    }));\n  };\n  var onCellDragEnd = function onCellDragEnd(e) {\n    e.preventDefault();\n    if (!state.itemTransfert && !state.transfertTarget) return;\n    var transfert = state.itemTransfert;\n    var transfertTarget = state.transfertTarget;\n    var rowsCopy = Array.from(rows);\n    var rowInd = rowsCopy.findIndex(function (d) {\n      return d.id === transfertTarget.rowIndex;\n    });\n    if (rowInd !== -1) {\n      var _rowsCopy$rowInd, _rowsCopy$rowInd$days;\n      var dayInd = (_rowsCopy$rowInd = rowsCopy[rowInd]) === null || _rowsCopy$rowInd === void 0 ? void 0 : (_rowsCopy$rowInd$days = _rowsCopy$rowInd.days) === null || _rowsCopy$rowInd$days === void 0 ? void 0 : _rowsCopy$rowInd$days.findIndex(function (d) {\n        return d.id === transfertTarget.elementId;\n      });\n      if (dayInd !== -1) {\n        var _rowsCopy$rowInd2, _transfert$item, _transfert$item$date, _transfert$item2;\n        var day = (_rowsCopy$rowInd2 = rowsCopy[rowInd]) === null || _rowsCopy$rowInd2 === void 0 ? void 0 : _rowsCopy$rowInd2.days[dayInd];\n        var splittedDate = transfert === null || transfert === void 0 ? void 0 : (_transfert$item = transfert.item) === null || _transfert$item === void 0 ? void 0 : (_transfert$item$date = _transfert$item.date) === null || _transfert$item$date === void 0 ? void 0 : _transfert$item$date.split('-');\n        if (!(transfert !== null && transfert !== void 0 && (_transfert$item2 = transfert.item) !== null && _transfert$item2 !== void 0 && _transfert$item2.day)) {\n          // Get day of the date (DD)\n          transfert.item.day = parseInt(splittedDate[2]);\n        }\n        if (transfert.item.day !== (day === null || day === void 0 ? void 0 : day.day)) {\n          var itemCheck = day.data.findIndex(function (item) {\n            return item.day === transfert.item.day && item.label === transfert.item.label;\n          });\n          if (itemCheck === -1) {\n            var _prevDayEvents$data, _prevDayEvents$data2;\n            var prevDayEvents = rowsCopy[transfert.rowIndex].days.find(function (d) {\n              return d.day === transfert.item.day;\n            });\n            var itemIndexToRemove = prevDayEvents === null || prevDayEvents === void 0 ? void 0 : (_prevDayEvents$data = prevDayEvents.data) === null || _prevDayEvents$data === void 0 ? void 0 : _prevDayEvents$data.findIndex(function (i) {\n              return i.id === transfert.item.id;\n            });\n            if (itemIndexToRemove === undefined || itemIndexToRemove === -1) {\n              return;\n            }\n            prevDayEvents === null || prevDayEvents === void 0 ? void 0 : (_prevDayEvents$data2 = prevDayEvents.data) === null || _prevDayEvents$data2 === void 0 ? void 0 : _prevDayEvents$data2.splice(itemIndexToRemove, 1);\n            transfert.item.day = day === null || day === void 0 ? void 0 : day.day;\n            transfert.item.date = format(day === null || day === void 0 ? void 0 : day.date, 'yyyy-MM-dd');\n            day.data.push(transfert.item);\n            setState(_objectSpread$3(_objectSpread$3({}, state), {}, {\n              rows: rowsCopy,\n              itemTransfert: null,\n              transfertTarget: null\n            }));\n            onEventsChange && onEventsChange(transfert.item);\n          }\n        }\n      }\n    }\n  };\n  var handleCellClick = function handleCellClick(event, row, day) {\n    var _day$data;\n    event.preventDefault();\n    event.stopPropagation();\n    if ((day === null || day === void 0 ? void 0 : (_day$data = day.data) === null || _day$data === void 0 ? void 0 : _day$data.length) === 0 && onCellClick) {\n      onCellClick(event, row, day);\n    }\n  };\n  /**\n   * @name renderTask\n   * @description\n   * @param tasks\n   * @param rowId\n   * @return {unknown[] | undefined}\n   */\n\n  var renderTask = function renderTask() {\n    var tasks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var rowId = arguments.length > 1 ? arguments[1] : undefined;\n    return tasks === null || tasks === void 0 ? void 0 : tasks.map(function (task, index) {\n      var condition = searchResult ? (task === null || task === void 0 ? void 0 : task.groupLabel) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.groupLabel) || (task === null || task === void 0 ? void 0 : task.user) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.user) : !searchResult;\n      return condition && /*#__PURE__*/React.createElement(EventItem, {\n        isMonthMode: true,\n        event: task,\n        rowId: rowId,\n        elevation: 0,\n        boxSx: {\n          px: 0.5\n        },\n        key: \"item-d-\".concat(task === null || task === void 0 ? void 0 : task.id, \"-\").concat(rowId),\n        onClick: function onClick(e) {\n          return handleTaskClick(e, task);\n        },\n        onDragStart: function onDragStart(e) {\n          return onCellDragStart(e, task, rowId);\n        },\n        sx: {\n          width: \"100%\",\n          py: 0,\n          my: .3,\n          color: \"#fff\",\n          display: 'inline-flex',\n          backgroundColor: (task === null || task === void 0 ? void 0 : task.color) || theme.palette.primary.light\n        }\n      });\n    });\n  };\n  /**\n   * @name handleTaskClick\n   * @description\n   * @param event\n   * @param task\n   * @return void\n   */\n\n  var handleTaskClick = function handleTaskClick(event, task) {\n    event.preventDefault();\n    event.stopPropagation();\n    onTaskClick && onTaskClick(event, task);\n  };\n  return /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    sx: {\n      boxShadow: 'none'\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    \"aria-label\": \"simple table\",\n    stickyHeader: true,\n    sx: {\n      minWidth: (options === null || options === void 0 ? void 0 : options.minWidth) || 650\n    }\n  }, legacyStyle && /*#__PURE__*/React.createElement(TableHead, {\n    sx: {\n      height: 24\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableRow$2, null, columns === null || columns === void 0 ? void 0 : columns.map(function (column, index) {\n    return /*#__PURE__*/React.createElement(StyledTableCell$2, {\n      align: \"center\",\n      key: (column === null || column === void 0 ? void 0 : column.headerName) + '-' + index\n    }, column === null || column === void 0 ? void 0 : column.headerName);\n  }))), /*#__PURE__*/React.createElement(TableBody, null, rows === null || rows === void 0 ? void 0 : rows.map(function (row, index) {\n    var _row$days;\n    return /*#__PURE__*/React.createElement(StyledTableRow$2, {\n      key: \"row-\".concat(row.id, \"-\").concat(index),\n      sx: {\n        '&:last-child th': {\n          border: 0,\n          borderLeft: \"1px \".concat(theme.palette.divider, \" solid\"),\n          '&:firs-child': {\n            borderLeft: 0\n          }\n        }\n      }\n    }, row === null || row === void 0 ? void 0 : (_row$days = row.days) === null || _row$days === void 0 ? void 0 : _row$days.map(function (day, indexD) {\n      var _columns$indexD, _columns$indexD$heade, _day$data2, _day$data3;\n      var currentDay = day.day === today.getUTCDate() && isSameMonth(day.date, today);\n      return /*#__PURE__*/React.createElement(StyledTableCell$2, {\n        scope: \"row\",\n        align: \"center\",\n        component: \"th\",\n        sx: {\n          px: 0.5,\n          position: 'relative'\n        },\n        key: \"day-\".concat(day.id),\n        onDragEnd: onCellDragEnd,\n        onDragOver: onCellDragOver,\n        onDragEnter: function onDragEnter(e) {\n          return onCellDragEnter(e, day.id, row.id);\n        },\n        onClick: function onClick(event) {\n          return handleCellClick(event, row, day);\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        sx: {\n          height: '100%',\n          overflowY: 'visible'\n        }\n      }, !legacyStyle && index === 0 && ((_columns$indexD = columns[indexD]) === null || _columns$indexD === void 0 ? void 0 : (_columns$indexD$heade = _columns$indexD.headerName) === null || _columns$indexD$heade === void 0 ? void 0 : _columns$indexD$heade.toUpperCase()), \".\", /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        sx: _objectSpread$3(_objectSpread$3({}, currentDaySx), {}, {\n          background: currentDay && alpha(theme.palette.primary.main, 1),\n          color: currentDay && '#fff'\n        })\n      }, day.day), (day === null || day === void 0 ? void 0 : (_day$data2 = day.data) === null || _day$data2 === void 0 ? void 0 : _day$data2.length) > 0 && renderTask(day === null || day === void 0 ? void 0 : day.data, row.id), legacyStyle && (day === null || day === void 0 ? void 0 : (_day$data3 = day.data) === null || _day$data3 === void 0 ? void 0 : _day$data3.length) === 0 && /*#__PURE__*/React.createElement(EventNoteRoundedIcon, {\n        fontSize: \"small\",\n        htmlColor: theme.palette.divider\n      })));\n    }));\n  }))));\n}\nMonthModeView.propTypes = {\n  columns: PropTypes.array,\n  rows: PropTypes.array,\n  date: PropTypes.string,\n  options: PropTypes.object,\n  onDateChange: PropTypes.func,\n  onTaskClick: PropTypes.func,\n  onCellClick: PropTypes.func\n};\nMonthModeView.defaultProps = {\n  columns: [],\n  rows: []\n};\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar StyledTableCell$1 = styled(TableCell)(function (_ref) {\n  var _$concat2, _ref2;\n  _ref.theme;\n  return _ref2 = {}, _defineProperty(_ref2, \"&.\".concat(tableCellClasses.head), _defineProperty({\n    paddingLeft: 4,\n    paddingRight: 4,\n    borderTop: \"1px solid #ccc !important\",\n    borderBottom: \"1px solid #ccc !important\",\n    borderLeft: \"1px solid #ccc !important\"\n  }, '&:nth-of-type(1)', {\n    borderLeft: \"0px !important\"\n  })), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body), (_$concat2 = {\n    fontSize: 12,\n    height: 16,\n    width: 128,\n    maxWidth: 128,\n    cursor: 'pointer',\n    borderLeft: \"1px solid #ccc\"\n  }, _defineProperty(_$concat2, '&:nth-of-type(1)', {\n    width: 80,\n    maxWidth: 80\n  }), _defineProperty(_$concat2, '&:nth-of-type(8n+1)', {\n    borderLeft: 0\n  }), _$concat2)), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body, \":hover\"), {\n    backgroundColor: \"#eee\"\n  }), _ref2;\n});\nvar StyledTableRow$1 = styled(TableRow)(function (_ref3) {\n  _ref3.theme;\n  return _defineProperty({}, '&:last-child td, &:last-child th', {\n    border: 0\n  });\n});\nvar StyledTableContainer$1 = styled(TableContainer)(function (_ref5) {\n  var _ref6;\n  _ref5.theme;\n  return _ref6 = {}, _defineProperty(_ref6, '&::-webkit-scrollbar', {\n    width: 7,\n    height: 6\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-track', {\n    WebkitBoxShadow: \"inset 0 0 6px rgb(125, 161, 196, 0.5)\"\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-thumb', {\n    WebkitBorderRadius: 4,\n    borderRadius: 4,\n    background: \"rgba(0, 172, 193, .5)\",\n    WebkitBoxShadow: \"inset 0 0 6px rgba(25, 118, 210, .5)\"\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-thumb:window-inactive', {\n    background: \"rgba(125, 161, 196, 0.5)\"\n  }), _ref6;\n});\nfunction WeekModeView(props) {\n  var options = props.options,\n    columns = props.columns,\n    rows = props.rows,\n    searchResult = props.searchResult,\n    onTaskClick = props.onTaskClick,\n    onCellClick = props.onCellClick,\n    onEventsChange = props.onEventsChange;\n  var theme = useTheme();\n  var _useState = useState({\n      columns: columns,\n      rows: rows\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var onCellDragOver = function onCellDragOver(e) {\n    e.preventDefault();\n  };\n  var onCellDragStart = function onCellDragStart(e, item, rowLabel, rowIndex, dayIndex) {\n    setState(_objectSpread$2(_objectSpread$2({}, state), {}, {\n      itemTransfert: {\n        item: item,\n        rowLabel: rowLabel,\n        rowIndex: rowIndex,\n        dayIndex: dayIndex\n      }\n    }));\n  };\n  var onCellDragEnter = function onCellDragEnter(e, rowLabel, rowIndex, dayIndex) {\n    e.preventDefault();\n    setState(_objectSpread$2(_objectSpread$2({}, state), {}, {\n      transfertTarget: {\n        rowLabel: rowLabel,\n        rowIndex: rowIndex,\n        dayIndex: dayIndex\n      }\n    }));\n  };\n  var onCellDragEnd = function onCellDragEnd(e) {\n    var _rowsData$transfertTa;\n    e.preventDefault();\n    if (!state.itemTransfert || !state.transfertTarget) {\n      return;\n    }\n    var transfert = state.itemTransfert;\n    var transfertTarget = state.transfertTarget;\n    var rowsData = Array.from(rows);\n    var day = (_rowsData$transfertTa = rowsData[transfertTarget.rowIndex]) === null || _rowsData$transfertTa === void 0 ? void 0 : _rowsData$transfertTa.days[transfertTarget.dayIndex];\n    if (day) {\n      var _transfertTarget$rowL, _prevEventCell$data;\n      var hourRegExp = /[0-9]{2}:[0-9]{2}/;\n      var foundEventIndex = day.data.findIndex(function (e) {\n        return e.id === transfert.item.id && e.startHour === transfert.item.startHour && e.endHour === transfert.item.endHour;\n      }); // Task already exists in the data array of the chosen cell\n\n      if (foundEventIndex !== -1) {\n        return;\n      } // Event cell item to transfert\n\n      var prevEventCell = rowsData[transfert.rowIndex].days[transfert.dayIndex]; // Timeline label (00:00 am, 01:00 am, etc.)\n\n      var label = (_transfertTarget$rowL = transfertTarget.rowLabel) === null || _transfertTarget$rowL === void 0 ? void 0 : _transfertTarget$rowL.toUpperCase();\n      var hourLabel = hourRegExp.exec(label)[0]; // Event's end hour\n\n      var endHour = hourRegExp.exec(transfert.item.endHour)[0];\n      var endHourDate = parse(endHour, 'HH:mm', day.date); // Event start hour\n\n      var startHour = hourRegExp.exec(transfert.item.startHour)[0];\n      var startHourDate = parse(startHour, 'HH:mm', day.date); // Minutes difference between end and start event hours\n\n      var minutesDiff = differenceInMinutes(endHourDate, startHourDate); // New event end hour according to it new cell\n\n      var newEndHour = add(parse(hourLabel, 'HH:mm', day.date), {\n        minutes: minutesDiff\n      });\n      if (!isValid(startHourDate)) {\n        startHourDate = day.date;\n        minutesDiff = differenceInMinutes(endHourDate, startHourDate);\n        newEndHour = add(parse(hourLabel, 'HH:mm', day.date), {\n          minutes: minutesDiff\n        });\n      }\n      prevEventCell === null || prevEventCell === void 0 ? void 0 : (_prevEventCell$data = prevEventCell.data) === null || _prevEventCell$data === void 0 ? void 0 : _prevEventCell$data.splice(transfert.item.itemIndex, 1);\n      transfert.item.startHour = label;\n      transfert.item.endHour = format(newEndHour, 'HH:mm aaa');\n      transfert.item.date = format(day.date, 'yyyy-MM-dd');\n      day.data.push(transfert.item);\n      setState(_objectSpread$2(_objectSpread$2({}, state), {}, {\n        rows: rowsData\n      }));\n      onEventsChange && onEventsChange(transfert.item);\n    }\n  };\n  var handleCellClick = function handleCellClick(event, row, day) {\n    event.preventDefault();\n    event.stopPropagation(); //setState({...state, activeItem: day})\n\n    onCellClick && onCellClick(event, row, day);\n  };\n  /**\n   * @name renderTask\n   * @description\n   * @param tasks\n   * @param rowLabel\n   * @param rowIndex\n   * @param dayIndex\n   * @return {unknown[] | undefined}\n   */\n\n  var renderTask = function renderTask(tasks, rowLabel, rowIndex, dayIndex) {\n    return tasks === null || tasks === void 0 ? void 0 : tasks.map(function (task, itemIndex) {\n      var condition = searchResult ? (task === null || task === void 0 ? void 0 : task.groupLabel) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.groupLabel) || (task === null || task === void 0 ? void 0 : task.user) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.user) : !searchResult;\n      return condition && /*#__PURE__*/React.createElement(EventItem, {\n        event: task,\n        elevation: 0,\n        boxSx: {\n          px: 0.3\n        },\n        onClick: function onClick(e) {\n          return handleTaskClick(e, task);\n        },\n        key: \"item_id-\".concat(itemIndex, \"_r-\").concat(rowIndex, \"_d-\").concat(dayIndex),\n        onDragStart: function onDragStart(e) {\n          return onCellDragStart(e, _objectSpread$2(_objectSpread$2({}, task), {}, {\n            itemIndex: itemIndex\n          }), rowLabel, rowIndex, dayIndex);\n        },\n        sx: {\n          py: 0,\n          mb: .5,\n          color: \"#fff\",\n          backgroundColor: (task === null || task === void 0 ? void 0 : task.color) || theme.palette.primary.light\n        }\n      });\n    });\n  };\n  /**\n   * @name handleTaskClick\n   * @description\n   * @param event\n   * @param task\n   * @return void\n   */\n\n  var handleTaskClick = function handleTaskClick(event, task) {\n    event.preventDefault();\n    event.stopPropagation();\n    onTaskClick && onTaskClick(event, task);\n  };\n  return /*#__PURE__*/React.createElement(StyledTableContainer$1, {\n    component: Paper,\n    sx: {\n      maxHeight: (options === null || options === void 0 ? void 0 : options.maxHeight) || 540\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    \"aria-label\": \"simple table\",\n    stickyHeader: true,\n    sx: {\n      minWidth: options.minWidth || 540\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    sx: {\n      height: 24\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableRow$1, null, /*#__PURE__*/React.createElement(StyledTableCell$1, {\n    align: \"left\"\n  }), columns === null || columns === void 0 ? void 0 : columns.map(function (column, index) {\n    return /*#__PURE__*/React.createElement(StyledTableCell$1, {\n      align: \"center\",\n      key: \"weekday-\".concat(column === null || column === void 0 ? void 0 : column.day, \"-\").concat(index)\n    }, column === null || column === void 0 ? void 0 : column.weekDay, \" \", column === null || column === void 0 ? void 0 : column.month, \"/\", column === null || column === void 0 ? void 0 : column.day);\n  }))), /*#__PURE__*/React.createElement(TableBody, null, rows === null || rows === void 0 ? void 0 : rows.map(function (row, rowIndex) {\n    var _row$days, _row$data, _row$days2;\n    var lineTasks = (_row$days = row.days) === null || _row$days === void 0 ? void 0 : _row$days.reduce(function (prev, curr) {\n      var _curr$data;\n      return prev + (curr === null || curr === void 0 ? void 0 : (_curr$data = curr.data) === null || _curr$data === void 0 ? void 0 : _curr$data.length);\n    }, 0);\n    return /*#__PURE__*/React.createElement(StyledTableRow$1, {\n      key: \"timeline-\".concat(rowIndex),\n      sx: {\n        '&:last-child td, &:last-child th': {\n          border: 0\n        }\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      title: \"\".concat(lineTasks, \" event\").concat(lineTasks > 1 ? 's' : '', \" on this week timeline\")\n    }, /*#__PURE__*/React.createElement(StyledTableCell$1, {\n      scope: \"row\",\n      align: \"center\",\n      component: \"th\",\n      sx: {\n        px: 1\n      },\n      onClick: function onClick(event) {\n        return handleCellClick(event, row);\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\"\n    }, row === null || row === void 0 ? void 0 : row.label), (row === null || row === void 0 ? void 0 : (_row$data = row.data) === null || _row$data === void 0 ? void 0 : _row$data.length) > 0 && renderTask(row === null || row === void 0 ? void 0 : row.data, row.id))), row === null || row === void 0 ? void 0 : (_row$days2 = row.days) === null || _row$days2 === void 0 ? void 0 : _row$days2.map(function (day, dayIndex) {\n      var _day$data;\n      return /*#__PURE__*/React.createElement(StyledTableCell$1, {\n        key: day === null || day === void 0 ? void 0 : day.id,\n        scope: \"row\",\n        align: \"center\",\n        component: \"th\",\n        sx: {\n          px: .3,\n          py: .5 //backgroundColor: (\n          //  state?.activeItem?.id === day?.id ? theme.palette.action.hover : 'inherit'\n          //)\n        },\n\n        onDragEnd: onCellDragEnd,\n        onDragOver: onCellDragOver,\n        onDragEnter: function onDragEnter(e) {\n          return onCellDragEnter(e, row === null || row === void 0 ? void 0 : row.label, rowIndex, dayIndex);\n        },\n        onClick: function onClick(event) {\n          return handleCellClick(event, _objectSpread$2({\n            rowIndex: rowIndex\n          }, row), _objectSpread$2({\n            dayIndex: dayIndex\n          }, day));\n        }\n      }, (day === null || day === void 0 ? void 0 : (_day$data = day.data) === null || _day$data === void 0 ? void 0 : _day$data.length) > 0 && renderTask(day === null || day === void 0 ? void 0 : day.data, row === null || row === void 0 ? void 0 : row.label, rowIndex, dayIndex));\n    }));\n  }))));\n}\nWeekModeView.propTypes = {\n  events: PropTypes.array,\n  columns: PropTypes.array,\n  rows: PropTypes.array,\n  date: PropTypes.string,\n  options: PropTypes.object,\n  searchResult: PropTypes.object,\n  onDateChange: PropTypes.func.isRequired,\n  onTaskClick: PropTypes.func.isRequired,\n  onCellClick: PropTypes.func.isRequired,\n  onEventsChange: PropTypes.func.isRequired\n};\nWeekModeView.defaultProps = {};\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar StyledTableCell = styled$1(TableCell)(function (_ref) {\n  var _ref2;\n  _ref.theme;\n  return _ref2 = {}, _defineProperty(_ref2, \"&.\".concat(tableCellClasses.head), _defineProperty({\n    paddingLeft: 4,\n    paddingRight: 4,\n    borderTop: \"1px solid #ccc !important\",\n    borderBottom: \"1px solid #ccc !important\",\n    borderLeft: \"1px solid #ccc !important\"\n  }, '&:nth-of-type(1)', {\n    borderLeft: \"0px !important\"\n  })), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body), _defineProperty({\n    fontSize: 12,\n    height: 16,\n    width: 128,\n    maxWidth: 128,\n    cursor: 'pointer',\n    borderLeft: \"1px solid #ccc\"\n  }, '&:nth-of-type(1)', {\n    borderLeft: 0\n  })), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body, \":hover\"), {\n    backgroundColor: \"#eee\"\n  }), _ref2;\n});\nvar StyledTableRow = styled$1(TableRow)(function (_ref3) {\n  _ref3.theme;\n  return _defineProperty({}, '&:last-child td, &:last-child th', {\n    border: 0\n  });\n});\nvar StyledTableContainer = styled$1(TableContainer)(function (_ref5) {\n  var _ref6;\n  _ref5.theme;\n  return _ref6 = {}, _defineProperty(_ref6, '&::-webkit-scrollbar', {\n    width: 7,\n    height: 6\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-track', {\n    WebkitBoxShadow: \"inset 0 0 6px rgb(125, 161, 196, 0.5)\"\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-thumb', {\n    WebkitBorderRadius: 4,\n    borderRadius: 4,\n    background: \"rgba(0, 172, 193, .5)\",\n    WebkitBoxShadow: \"inset 0 0 6px rgba(25, 118, 210, .5)\"\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-thumb:window-inactive', {\n    background: \"rgba(125, 161, 196, 0.5)\"\n  }), _ref6;\n});\nfunction DayModeView(props) {\n  var options = props.options,\n    columns = props.columns,\n    rows = props.rows,\n    searchResult = props.searchResult,\n    onTaskClick = props.onTaskClick,\n    onCellClick = props.onCellClick,\n    onEventsChange = props.onEventsChange;\n  var theme = useTheme();\n  var _useState = useState({\n      columns: columns,\n      rows: rows\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  /**\n   * @name onCellDragOver\n   * @param e\n   * @return void\n   */\n\n  var onCellDragOver = function onCellDragOver(e) {\n    e.preventDefault();\n  };\n  /**\n   * @name onCellDragStart\n   * @description\n   * @param e\n   * @param item\n   * @param rowLabel\n   * @param rowIndex\n   * @param dayIndex\n   * @return void\n   */\n\n  var onCellDragStart = function onCellDragStart(e, item, rowLabel, rowIndex, dayIndex) {\n    setState(_objectSpread$1(_objectSpread$1({}, state), {}, {\n      itemTransfert: {\n        item: item,\n        rowLabel: rowLabel,\n        rowIndex: rowIndex,\n        dayIndex: dayIndex\n      }\n    }));\n  };\n  /**\n   * @name onCellDragEnter\n   * @description\n   * @param e\n   * @param rowLabel\n   * @param rowIndex\n   * @param dayIndex\n   * @return void\n   */\n\n  var onCellDragEnter = function onCellDragEnter(e, rowLabel, rowIndex, dayIndex) {\n    e.preventDefault();\n    setState(_objectSpread$1(_objectSpread$1({}, state), {}, {\n      transfertTarget: {\n        rowLabel: rowLabel,\n        rowIndex: rowIndex,\n        dayIndex: dayIndex\n      }\n    }));\n  };\n  /**\n   * @name onCellDragEnd\n   * @description\n   * @param e\n   * @return void\n   */\n\n  var onCellDragEnd = function onCellDragEnd(e) {\n    var _rowsData$transfertTa;\n    e.preventDefault();\n    if (!state.itemTransfert || !state.transfertTarget) {\n      return;\n    }\n    var transfert = state.itemTransfert;\n    var transfertTarget = state.transfertTarget;\n    var rowsData = Array.from(rows);\n    var day = (_rowsData$transfertTa = rowsData[transfertTarget.rowIndex]) === null || _rowsData$transfertTa === void 0 ? void 0 : _rowsData$transfertTa.days[transfertTarget.dayIndex];\n    if (day) {\n      var _transfertTarget$rowL, _prevEventCell$data, _transfert$item;\n      var hourRegExp = /[0-9]{2}:[0-9]{2}/;\n      var foundEventIndex = day.data.findIndex(function (e) {\n        return e.id === transfert.item.id && e.startHour === transfert.item.startHour && e.endHour === transfert.item.endHour;\n      }); // Task already exists in the data array of the chosen cell\n\n      if (foundEventIndex !== -1) {\n        return;\n      } // Event cell item to transfert\n\n      var prevEventCell = rowsData[transfert.rowIndex].days[transfert.dayIndex]; // Timeline label (00:00 am, 01:00 am, etc.)\n\n      var label = (_transfertTarget$rowL = transfertTarget.rowLabel) === null || _transfertTarget$rowL === void 0 ? void 0 : _transfertTarget$rowL.toUpperCase();\n      var hourLabel = hourRegExp.exec(label)[0]; // Event's end hour\n\n      var endHour = hourRegExp.exec(transfert.item.endHour)[0];\n      var endHourDate = parse(endHour, 'HH:mm', day.date); // Event start hour\n\n      var startHour = hourRegExp.exec(transfert.item.startHour)[0];\n      var startHourDate = parse(startHour, 'HH:mm', day.date); // Minutes difference between end and start event hours\n\n      var minutesDiff = differenceInMinutes(endHourDate, startHourDate); // New event end hour according to it new cell\n\n      var newEndHour = add(parse(hourLabel, 'HH:mm', day.date), {\n        minutes: minutesDiff\n      });\n      if (!isValid(startHourDate)) {\n        startHourDate = day.date;\n        minutesDiff = differenceInMinutes(endHourDate, startHourDate);\n        newEndHour = add(parse(hourLabel, 'HH:mm', day.date), {\n          minutes: minutesDiff\n        });\n      }\n      prevEventCell === null || prevEventCell === void 0 ? void 0 : (_prevEventCell$data = prevEventCell.data) === null || _prevEventCell$data === void 0 ? void 0 : _prevEventCell$data.splice(transfert === null || transfert === void 0 ? void 0 : (_transfert$item = transfert.item) === null || _transfert$item === void 0 ? void 0 : _transfert$item.itemIndex, 1);\n      transfert.item.startHour = label;\n      transfert.item.endHour = format(newEndHour, 'HH:mm aaa');\n      transfert.item.date = format(day.date, 'yyyy-MM-dd');\n      day.data.push(transfert.item);\n      setState(_objectSpread$1(_objectSpread$1({}, state), {}, {\n        rows: rowsData\n      }));\n      onEventsChange && onEventsChange(transfert.item);\n    }\n  };\n  /**\n   * @name handleCellClick\n   * @description\n   * @param event\n   * @param row\n   * @param day\n   * @return void\n   */\n\n  var handleCellClick = function handleCellClick(event, row, day) {\n    event.preventDefault();\n    event.stopPropagation(); //setState({...state, activeItem: day})\n\n    onCellClick && onCellClick(event, row, day);\n  };\n  /**\n   * @name renderTask\n   * @description\n   * @param tasks\n   * @param rowLabel\n   * @param rowIndex\n   * @param dayIndex\n   * @return {unknown[] | undefined}\n   */\n\n  var renderTask = function renderTask(tasks, rowLabel, rowIndex, dayIndex) {\n    return tasks === null || tasks === void 0 ? void 0 : tasks.map(function (task, itemIndex) {\n      var condition = searchResult ? (task === null || task === void 0 ? void 0 : task.groupLabel) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.groupLabel) || (task === null || task === void 0 ? void 0 : task.user) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.user) : !searchResult;\n      return condition && /*#__PURE__*/React.createElement(EventItem, {\n        draggable: true,\n        event: task,\n        elevation: 0,\n        boxSx: {\n          px: 0.3\n        },\n        onClick: function onClick(e) {\n          return handleTaskClick(e, task);\n        },\n        key: \"item_id-\".concat(itemIndex, \"_r-\").concat(rowIndex, \"_d-\").concat(dayIndex),\n        onDragStart: function onDragStart(e) {\n          return onCellDragStart(e, _objectSpread$1(_objectSpread$1({}, task), {}, {\n            itemIndex: itemIndex\n          }), rowLabel, rowIndex, dayIndex);\n        },\n        sx: {\n          py: 0,\n          mb: .5,\n          color: \"#fff\",\n          backgroundColor: (task === null || task === void 0 ? void 0 : task.color) || theme.palette.primary.light\n        }\n      });\n    });\n  };\n  /**\n   * @name handleTaskClick\n   * @description\n   * @param event\n   * @param task\n   * @return void\n   */\n\n  var handleTaskClick = function handleTaskClick(event, task) {\n    event.preventDefault();\n    event.stopPropagation();\n    onTaskClick && onTaskClick(event, task);\n  };\n  return /*#__PURE__*/React.createElement(StyledTableContainer, {\n    component: Paper,\n    sx: {\n      maxHeight: (options === null || options === void 0 ? void 0 : options.maxHeight) || 540\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    \"aria-label\": \"simple table\",\n    stickyHeader: true,\n    sx: {\n      minWidth: options.minWidth || 540\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    sx: {\n      height: 24\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableRow, null, /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"left\"\n  }), columns === null || columns === void 0 ? void 0 : columns.map(function (column, index) {\n    return /*#__PURE__*/React.createElement(StyledTableCell, {\n      align: \"center\",\n      colSpan: 2,\n      key: \"weekday-\".concat(column === null || column === void 0 ? void 0 : column.day, \"-\").concat(index)\n    }, column === null || column === void 0 ? void 0 : column.weekDay, \" \", column === null || column === void 0 ? void 0 : column.month, \"/\", column === null || column === void 0 ? void 0 : column.day);\n  }))), /*#__PURE__*/React.createElement(TableBody, null, rows === null || rows === void 0 ? void 0 : rows.map(function (row, rowIndex) {\n    var _row$days, _row$data, _row$days2;\n    var lineTasks = (_row$days = row.days) === null || _row$days === void 0 ? void 0 : _row$days.reduce(function (prev, curr) {\n      var _curr$data;\n      return prev + (curr === null || curr === void 0 ? void 0 : (_curr$data = curr.data) === null || _curr$data === void 0 ? void 0 : _curr$data.length);\n    }, 0);\n    return /*#__PURE__*/React.createElement(StyledTableRow, {\n      key: \"timeline-\".concat(rowIndex),\n      sx: {\n        '&:last-child td, &:last-child th': {\n          border: 0\n        }\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      title: \"\".concat(lineTasks, \" event\").concat(lineTasks > 1 ? 's' : '', \" on this week timeline\")\n    }, /*#__PURE__*/React.createElement(StyledTableCell, {\n      scope: \"row\",\n      align: \"center\",\n      component: \"th\",\n      sx: {\n        px: 1\n      },\n      onClick: function onClick(event) {\n        return handleCellClick(event, row);\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\"\n    }, row === null || row === void 0 ? void 0 : row.label), (row === null || row === void 0 ? void 0 : (_row$data = row.data) === null || _row$data === void 0 ? void 0 : _row$data.length) > 0 && renderTask(row === null || row === void 0 ? void 0 : row.data, row.id))), row === null || row === void 0 ? void 0 : (_row$days2 = row.days) === null || _row$days2 === void 0 ? void 0 : _row$days2.map(function (day, dayIndex) {\n      var _day$data;\n      return /*#__PURE__*/React.createElement(StyledTableCell, {\n        key: day === null || day === void 0 ? void 0 : day.id,\n        scope: \"row\",\n        align: \"center\",\n        component: \"th\",\n        colSpan: 2,\n        sx: {\n          px: .3,\n          py: .5\n        },\n        onDragEnd: onCellDragEnd,\n        onDragOver: onCellDragOver,\n        onDragEnter: function onDragEnter(e) {\n          return onCellDragEnter(e, row === null || row === void 0 ? void 0 : row.label, rowIndex, dayIndex);\n        },\n        onClick: function onClick(event) {\n          return handleCellClick(event, _objectSpread$1({\n            rowIndex: rowIndex\n          }, row), _objectSpread$1({\n            dayIndex: dayIndex\n          }, day));\n        }\n      }, (day === null || day === void 0 ? void 0 : (_day$data = day.data) === null || _day$data === void 0 ? void 0 : _day$data.length) > 0 && renderTask(day === null || day === void 0 ? void 0 : day.data, row === null || row === void 0 ? void 0 : row.label, rowIndex, dayIndex));\n    }));\n  }))));\n}\nDayModeView.propTypes = {\n  events: PropTypes.array,\n  columns: PropTypes.array,\n  rows: PropTypes.array,\n  date: PropTypes.string,\n  options: PropTypes.object,\n  searchResult: PropTypes.object,\n  onDateChange: PropTypes.func.isRequired,\n  onTaskClick: PropTypes.func.isRequired,\n  onCellClick: PropTypes.func.isRequired,\n  onEventsChange: PropTypes.func.isRequired\n};\nDayModeView.defaultProps = {};\nvar StyledContainer = styled(Typography)(function (_ref) {\n  var _ref2;\n  _ref.theme;\n  return _ref2 = {}, _defineProperty(_ref2, '&::-webkit-scrollbar', {\n    width: 7,\n    height: 6\n  }), _defineProperty(_ref2, '&::-webkit-scrollbar-track', {\n    WebkitBoxShadow: \"inset 0 0 6px rgb(125, 161, 196, 0.5)\"\n  }), _defineProperty(_ref2, '&::-webkit-scrollbar-thumb', {\n    WebkitBorderRadius: 4,\n    borderRadius: 4,\n    background: \"rgba(0, 172, 193, .5)\",\n    WebkitBoxShadow: \"inset 0 0 6px rgba(25, 118, 210, .5)\"\n  }), _defineProperty(_ref2, '&::-webkit-scrollbar-thumb:window-inactive', {\n    background: \"rgba(125, 161, 196, 0.5)\"\n  }), _ref2;\n});\nfunction TimeLineModeView(props) {\n  var _fileredEvents2;\n  var options = props.options,\n    rows = props.rows,\n    searchResult = props.searchResult,\n    onTaskClick = props.onTaskClick;\n  var dateFnsLocale = useContext(DateFnsLocaleContext);\n  /**\n   * @name handleTaskClick\n   * @description\n   * @param e\n   * @param event\n   * @return void\n   */\n\n  var handleTaskClick = function handleTaskClick(event, task) {\n    event.preventDefault();\n    event.stopPropagation();\n    onTaskClick && onTaskClick(event, task);\n  };\n  var fileredEvents = rows === null || rows === void 0 ? void 0 : rows.sort(function (a, b) {\n    var _b$startHour;\n    return -(b === null || b === void 0 ? void 0 : (_b$startHour = b.startHour) === null || _b$startHour === void 0 ? void 0 : _b$startHour.localeCompare(a === null || a === void 0 ? void 0 : a.startHour));\n  });\n  if (searchResult) {\n    var _fileredEvents;\n    fileredEvents = (_fileredEvents = fileredEvents) === null || _fileredEvents === void 0 ? void 0 : _fileredEvents.filter(function (event) {\n      return (event === null || event === void 0 ? void 0 : event.groupLabel) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.groupLabel);\n    });\n  }\n  return /*#__PURE__*/React.createElement(StyledContainer, {\n    component: \"div\",\n    sx: {\n      overflowY: 'auto',\n      height: (options === null || options === void 0 ? void 0 : options.height) || 540,\n      maxHeight: (options === null || options === void 0 ? void 0 : options.maxHeight) || 540\n    }\n  }, /*#__PURE__*/React.createElement(Timeline, {\n    position: \"alternate\"\n  }, (_fileredEvents2 = fileredEvents) === null || _fileredEvents2 === void 0 ? void 0 : _fileredEvents2.map(function (task, index) {\n    return /*#__PURE__*/React.createElement(TimelineItem, {\n      key: \"timeline-\".concat(index),\n      sx: {\n        cursor: 'pointer'\n      },\n      onClick: function onClick(event) {\n        return handleTaskClick(event, task);\n      }\n    }, /*#__PURE__*/React.createElement(TimelineOppositeContent, {\n      sx: {\n        m: 'auto 0'\n      },\n      align: \"right\",\n      variant: \"body2\",\n      color: \"text.secondary\"\n    }, (task === null || task === void 0 ? void 0 : task.date) && format(parse(task === null || task === void 0 ? void 0 : task.date, 'yyyy-MM-dd', new Date()), 'PPP', {\n      locale: dateFnsLocale\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"caption\"\n    }, task === null || task === void 0 ? void 0 : task.startHour, \" - \", task === null || task === void 0 ? void 0 : task.endHour)), /*#__PURE__*/React.createElement(TimelineSeparator, null, /*#__PURE__*/React.createElement(TimelineConnector, null), /*#__PURE__*/React.createElement(TimelineDot, {\n      color: \"secondary\",\n      sx: {\n        backgroundColor: task === null || task === void 0 ? void 0 : task.color\n      }\n    }, (task === null || task === void 0 ? void 0 : task.icon) || /*#__PURE__*/React.createElement(ScheduleIcon, null)), /*#__PURE__*/React.createElement(TimelineConnector, null)), /*#__PURE__*/React.createElement(TimelineContent, {\n      sx: {\n        py: '12px',\n        px: 2\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      component: \"span\"\n    }, task === null || task === void 0 ? void 0 : task.label), /*#__PURE__*/React.createElement(Typography, null, task === null || task === void 0 ? void 0 : task.groupLabel)));\n  })));\n}\nTimeLineModeView.propTypes = {\n  events: PropTypes.array,\n  columns: PropTypes.array,\n  rows: PropTypes.array,\n  date: PropTypes.string,\n  options: PropTypes.object,\n  searchResult: PropTypes.object,\n  onDateChange: PropTypes.func.isRequired,\n  onTaskClick: PropTypes.func.isRequired,\n  onCellClick: PropTypes.func.isRequired,\n  onEventsChange: PropTypes.func.isRequired\n};\nTimeLineModeView.defaultProps = {};\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\n/**\n * @name Scheduler\n * @description\n * @param props\n * @constructor\n */\n\nfunction Scheduler(props) {\n  var events = props.events,\n    locale = props.locale,\n    options = props.options,\n    alertProps = props.alertProps,\n    onCellClick = props.onCellClick,\n    legacyStyle = props.legacyStyle,\n    onTaskClick = props.onTaskClick,\n    toolbarProps = props.toolbarProps,\n    onEventsChange = props.onEventsChange,\n    onAlertCloseButtonClicked = props.onAlertCloseButtonClicked;\n  var today = new Date();\n  useTheme();\n  var _useTranslation = useTranslation(['common']),\n    t = _useTranslation.t,\n    i18n = _useTranslation.i18n;\n  var weeks = [t('mon'), t('tue'), t('wed'), t('thu'), t('fri'), t('sat'), t('sun')];\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    searchResult = _useState4[0],\n    setSearchResult = _useState4[1];\n  var _useState5 = useState(today),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedDay = _useState6[0],\n    setSelectedDay = _useState6[1];\n  var _useState7 = useState(alertProps),\n    _useState8 = _slicedToArray(_useState7, 2),\n    alertState = _useState8[0],\n    setAlertState = _useState8[1];\n  var _useState9 = useState((options === null || options === void 0 ? void 0 : options.defaultMode) || 'month'),\n    _useState10 = _slicedToArray(_useState9, 2),\n    mode = _useState10[0],\n    setMode = _useState10[1];\n  var _useState11 = useState(getDaysInMonth(today)),\n    _useState12 = _slicedToArray(_useState11, 2),\n    daysInMonth = _useState12[0],\n    setDaysInMonth = _useState12[1];\n  var _useState13 = useState((options === null || options === void 0 ? void 0 : options.startWeekOn) || 'mon'),\n    _useState14 = _slicedToArray(_useState13, 2),\n    startWeekOn = _useState14[0],\n    setStartWeekOn = _useState14[1];\n  var _useState15 = useState(format(today, 'MMMM-yyyy')),\n    _useState16 = _slicedToArray(_useState15, 2),\n    selectedDate = _useState16[0],\n    setSelectedDate = _useState16[1];\n  var _useReducer = useReducer(function (state) {\n      var _options$startWeekOn;\n      if ((options === null || options === void 0 ? void 0 : (_options$startWeekOn = options.startWeekOn) === null || _options$startWeekOn === void 0 ? void 0 : _options$startWeekOn.toUpperCase()) === 'SUN') {\n        return [t('sun'), t('mon'), t('tue'), t('wed'), t('thu'), t('fri'), t('sat')];\n      }\n      return weeks;\n    }, weeks),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    weekDays = _useReducer2[0],\n    updateWeekDays = _useReducer2[1];\n  var isDayMode = mode.toLowerCase() === 'day';\n  var isWeekMode = mode.toLowerCase() === 'week';\n  var isMonthMode = mode.toLowerCase() === 'month';\n  var isTimelineMode = mode.toLowerCase() === 'timeline';\n  var TransitionMode = (options === null || options === void 0 ? void 0 : options.transitionMode) === 'zoom' ? Zoom : (options === null || options === void 0 ? void 0 : options.transitionMode) === 'fade' ? Fade : Slide;\n  var dateFnsLocale = enAU;\n  if (locale === 'fr') {\n    dateFnsLocale = fr;\n  }\n  if (locale === 'ko') {\n    dateFnsLocale = ko;\n  }\n  if (locale === 'de') {\n    dateFnsLocale = de;\n  }\n  if (locale === 'es') {\n    dateFnsLocale = es;\n  }\n  if (locale === 'ar') {\n    dateFnsLocale = ar;\n  }\n  if (locale === 'ja') {\n    dateFnsLocale = ja;\n  }\n  if (locale === 'ru') {\n    dateFnsLocale = ru;\n  }\n  if (locale === 'zh') {\n    dateFnsLocale = zhCN;\n  }\n  /**\n   * @name getMonthHeader\n   * @description\n   * @return {{headerClassName: string, headerAlign: string, headerName: string, field: string, flex: number, editable: boolean, id: string, sortable: boolean, align: string}[]}\n   */\n\n  var getMonthHeader = function getMonthHeader() {\n    //if (startWeekOn?.toUpperCase() === 'SUN') {\n    //weekDays[0] = t('sun')\n    //weekDays[1] = t('mon')\n    //}\n    return weekDays.map(function (day, i) {\n      return {\n        id: \"row-day-header-\".concat(i + 1),\n        flex: 1,\n        sortable: false,\n        editable: false,\n        align: 'center',\n        headerName: day,\n        headerAlign: 'center',\n        field: \"rowday\".concat(i + 1),\n        headerClassName: 'scheduler-theme--header'\n      };\n    });\n  };\n  /**\n   * @name getMonthRows\n   * @description\n   * @return {[id: string,  day: number, date: date, data: array]}\n   */\n\n  var getMonthRows = function getMonthRows() {\n    var _lastRow$days;\n    var rows = [],\n      daysBefore = [];\n    var iteration = getWeeksInMonth(selectedDay);\n    var startOnSunday = (startWeekOn === null || startWeekOn === void 0 ? void 0 : startWeekOn.toUpperCase()) === 'SUN' && t('sun').toUpperCase() === weekDays[0].toUpperCase();\n    var monthStartDate = startOfMonth(selectedDay); // First day of month\n\n    var monthStartDay = getDay(monthStartDate); // Index of the day in week\n\n    var dateDay = parseInt(format(monthStartDate, 'dd')); // Month start day\n    // Condition check helper\n\n    var checkCondition = function checkCondition(v) {\n      return startOnSunday ? v <= monthStartDay : v < monthStartDay;\n    };\n    if (monthStartDay >= 1) {\n      var _loop = function _loop(i) {\n        var subDate = sub(monthStartDate, {\n          days: monthStartDay - i + (startOnSunday ? 1 : 0)\n        });\n        var day = parseInt(format(subDate, 'dd'));\n        var data = events.filter(function (event) {\n          return isSameDay(subDate, parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date()));\n        });\n        daysBefore.push({\n          id: \"day_-\".concat(day),\n          day: day,\n          date: subDate,\n          data: data\n        });\n      };\n\n      // Add days of precedent month\n      // If Sunday is the first day of week, apply b <= monthStartDay\n      // and days: (monthStartDay-b) + 1\n      for (var i = 1; checkCondition(i); i++) {\n        _loop(i);\n      }\n    } else if (!startOnSunday) {\n      var _loop2 = function _loop2(_i) {\n        var subDate = sub(monthStartDate, {\n          days: _i\n        });\n        var day = parseInt(format(subDate, 'dd'));\n        var data = events.filter(function (event) {\n          return isSameDay(subDate, parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date()));\n        });\n        daysBefore.push({\n          id: \"day_-\".concat(day),\n          day: day,\n          date: subDate,\n          data: data\n        });\n      };\n      for (var _i = 6; _i > 0; _i--) {\n        _loop2(_i);\n      }\n    }\n    if (daysBefore.length > 0) {\n      rows.push({\n        id: 0,\n        days: daysBefore\n      });\n    } // Add days and events data\n\n    for (var _i2 = 0; _i2 < iteration; _i2++) {\n      var obj = [];\n      var _loop3 = function _loop3(j) {\n        var date = parse(\"\".concat(dateDay, \"-\").concat(selectedDate), 'dd-MMMM-yyyy', new Date());\n        var data = events.filter(function (event) {\n          return isSameDay(date, parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date()));\n        });\n        obj.push({\n          id: \"day_-\".concat(dateDay),\n          date: date,\n          data: data,\n          day: dateDay\n        });\n        dateDay++;\n      };\n      for (var j = 0;\n      // This condition ensure that days will not exceed 31\n      // i === 0 ? 7 - daysBefore?.length means that we substract inserted days\n      // in the first line to 7\n      j < (_i2 === 0 ? 7 - daysBefore.length : 7) && dateDay <= daysInMonth; j++) {\n        _loop3(j);\n      }\n      if (_i2 === 0 && daysBefore.length > 0) {\n        rows[0].days = rows[0].days.concat(obj);\n        continue;\n      }\n      if (obj.length > 0) {\n        rows.push({\n          id: _i2,\n          days: obj\n        });\n      }\n    } // Check if last row is not fully filled\n\n    var lastRow = rows[iteration - 1];\n    var lastRowDaysdiff = 7 - (lastRow === null || lastRow === void 0 ? void 0 : (_lastRow$days = lastRow.days) === null || _lastRow$days === void 0 ? void 0 : _lastRow$days.length);\n    var lastDaysData = [];\n    if (lastRowDaysdiff > 0) {\n      (function () {\n        var _lastRow$days2;\n        var day = lastRow.days[(lastRow === null || lastRow === void 0 ? void 0 : (_lastRow$days2 = lastRow.days) === null || _lastRow$days2 === void 0 ? void 0 : _lastRow$days2.length) - 1];\n        var addDate = day.date;\n        for (var _i3 = dateDay; _i3 < dateDay + lastRowDaysdiff; _i3++) {\n          addDate = add(addDate, {\n            days: 1\n          });\n          var d = format(addDate, 'dd'); // eslint-disable-next-line\n\n          var data = events.filter(function (event) {\n            return isSameDay(addDate, parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date()));\n          });\n          lastDaysData.push({\n            id: \"day_-\".concat(d),\n            date: addDate,\n            day: d,\n            data: data\n          });\n        }\n        rows[iteration - 1].days = rows[iteration - 1].days.concat(lastDaysData);\n      })();\n    }\n    return rows;\n  };\n  /**\n   * @name getWeekHeader\n   * @description\n   * @return {{headerClassName: string, headerAlign: string, headerName: string, field: string, flex: number, editable: boolean, id: string, sortable: boolean, align: string}[]}\n   */\n\n  var getWeekHeader = function getWeekHeader() {\n    var data = [];\n    var weekStart = startOfWeek(selectedDay, {\n      weekStartsOn: startWeekOn === 'mon' ? 1 : 0\n    });\n    for (var i = 0; i < 7; i++) {\n      var date = add(weekStart, {\n        days: i\n      });\n      data.push({\n        date: date,\n        weekDay: format(date, 'iii', {\n          locale: dateFnsLocale\n        }),\n        day: format(date, 'dd', {\n          locale: dateFnsLocale\n        }),\n        month: format(date, 'MM', {\n          locale: dateFnsLocale\n        })\n      });\n    }\n    return data;\n  };\n  var getWeekRows = function getWeekRows() {\n    var HOURS = 24; //* 2\n\n    var data = [];\n    var dayStartHour = startOfDay(selectedDay);\n    var _loop4 = function _loop4(i) {\n      var id = \"line_\".concat(i);\n      var label = format(dayStartHour, 'HH:mm aaa'); //TODO Add everyday event capability\n      //if (i === 0) {\n      //id = `line_everyday`; label = 'Everyday'\n      //}\n      //TODO Place the processing bloc here if everyday capability is available\n      // ...\n\n      if (i > 0) {\n        //Start processing bloc\n        var obj = {\n          id: id,\n          label: label,\n          days: []\n        };\n        var columns = getWeekHeader(); // eslint-disable-next-line\n\n        columns.map(function (column, index) {\n          var data = events.filter(function (event) {\n            var _event$startHour;\n            var eventDate = parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date());\n            return isSameDay(column === null || column === void 0 ? void 0 : column.date, eventDate) && (event === null || event === void 0 ? void 0 : (_event$startHour = event.startHour) === null || _event$startHour === void 0 ? void 0 : _event$startHour.toUpperCase()) === (label === null || label === void 0 ? void 0 : label.toUpperCase());\n          });\n          obj.days.push({\n            id: \"column-\".concat(index, \"_m-\").concat(column.month, \"_d-\").concat(column.day, \"_\").concat(id),\n            date: column === null || column === void 0 ? void 0 : column.date,\n            data: data\n          });\n        }); // Label affectation\n\n        data.push(obj); // End processing bloc\n\n        dayStartHour = add(dayStartHour, {\n          minutes: 60\n        }); // 30\n      } //if (i > 0) {\n      //  dayStartHour = add(dayStartHour, {minutes: 30})\n      //}\n    };\n\n    for (var i = 0; i <= HOURS; i++) {\n      _loop4(i);\n    }\n    return data;\n  };\n  var getDayHeader = function getDayHeader() {\n    return [{\n      date: selectedDay,\n      weekDay: format(selectedDay, 'iii', {\n        locale: dateFnsLocale\n      }),\n      day: format(selectedDay, 'dd', {\n        locale: dateFnsLocale\n      }),\n      month: format(selectedDay, 'MM', {\n        locale: dateFnsLocale\n      })\n    }];\n  };\n  var getDayRows = function getDayRows() {\n    var HOURS = 24;\n    var data = [];\n    var dayStartHour = startOfDay(selectedDay);\n    var _loop5 = function _loop5(i) {\n      var id = \"line_\".concat(i);\n      var label = format(dayStartHour, 'HH:mm aaa');\n      if (i > 0) {\n        var obj = {\n          id: id,\n          label: label,\n          days: []\n        };\n        var columns = getDayHeader();\n        var column = columns[0];\n        var matchedEvents = events.filter(function (event) {\n          var _event$startHour2;\n          var eventDate = parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date());\n          return isSameDay(column === null || column === void 0 ? void 0 : column.date, eventDate) && (event === null || event === void 0 ? void 0 : (_event$startHour2 = event.startHour) === null || _event$startHour2 === void 0 ? void 0 : _event$startHour2.toUpperCase()) === (label === null || label === void 0 ? void 0 : label.toUpperCase());\n        });\n        obj.days.push({\n          id: \"column-_m-\".concat(column === null || column === void 0 ? void 0 : column.month, \"_d-\").concat(column === null || column === void 0 ? void 0 : column.day, \"_\").concat(id),\n          date: column === null || column === void 0 ? void 0 : column.date,\n          data: matchedEvents\n        });\n        data.push(obj);\n        dayStartHour = add(dayStartHour, {\n          minutes: 60\n        });\n      }\n    };\n    for (var i = 0; i <= HOURS; i++) {\n      _loop5(i);\n    }\n    return data;\n  };\n  var getTimeLineRows = function getTimeLineRows() {\n    return (\n      //events.filter((event) => {\n      //let eventDate = parse(event?.date, 'yyyy-MM-dd', new Date())\n      //return isSameDay(selectedDay, eventDate)\n      //})\n      events\n    );\n  };\n  /**\n   * @name handleDateChange\n   * @description\n   * @param day\n   * @param date\n   * @return void\n   */\n\n  var handleDateChange = function handleDateChange(day, date) {\n    setDaysInMonth(day);\n    setSelectedDay(date);\n    setSelectedDate(format(date, 'MMMM-yyyy'));\n  };\n  /**\n   * @name handleModeChange\n   * @description\n   * @param newMode\n   * @return void\n   */\n\n  var handleModeChange = function handleModeChange(newMode) {\n    setMode(newMode);\n  };\n  /**\n   * @name onSearchResult\n   * @description\n   * @param item\n   * @return void\n   */\n\n  var onSearchResult = function onSearchResult(item) {\n    setSearchResult(item);\n  };\n  var handleEventsChange = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(item) {\n      var eventIndex, oldObject;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              onEventsChange(item);\n              eventIndex = events.findIndex(function (e) {\n                return e.id === (item === null || item === void 0 ? void 0 : item.id);\n              });\n              if (eventIndex !== -1) {\n                oldObject = Object.assign({}, events[eventIndex]);\n                if (alertState !== null && alertState !== void 0 && alertState.showNotification && !alertState.open) {\n                  setAlertState(_objectSpread(_objectSpread({}, alertState), {}, {\n                    open: true,\n                    message: \"\\n            \".concat(item === null || item === void 0 ? void 0 : item.label, \" successfully moved from \").concat(oldObject === null || oldObject === void 0 ? void 0 : oldObject.date, \"\\n            \").concat(oldObject === null || oldObject === void 0 ? void 0 : oldObject.startHour, \" to \").concat(item === null || item === void 0 ? void 0 : item.date, \" \").concat(item === null || item === void 0 ? void 0 : item.startHour, \"\\n          \")\n                  }));\n                  setTimeout(function () {\n                    setAlertState(_objectSpread(_objectSpread({}, alertState), {}, {\n                      open: false,\n                      message: ''\n                    }));\n                  }, alertState.delay);\n                }\n              }\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return function handleEventsChange(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    if (isMonthMode) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        columns: getMonthHeader(),\n        rows: getMonthRows()\n      }));\n    }\n    if (isWeekMode) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        columns: getWeekHeader(),\n        rows: getWeekRows()\n      }));\n    }\n    if (isDayMode) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        columns: getDayHeader(),\n        rows: getDayRows()\n      }));\n    }\n    if (isTimelineMode) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        columns: getDayHeader(),\n        rows: getTimeLineRows()\n      }));\n    } // eslint-disable-next-line\n  }, [mode, weekDays, daysInMonth, selectedDay, selectedDate, dateFnsLocale, i18n.language, startWeekOn]);\n  useEffect(function () {\n    if (locale !== i18n.language) {\n      //localStorage.getItem('i18nextLng')\n      localStorage.setItem('i18nextLng', locale.toLowerCase());\n      i18n.changeLanguage(locale.toLowerCase());\n      updateWeekDays();\n    }\n  }, [locale]);\n  useEffect(function () {\n    if ((options === null || options === void 0 ? void 0 : options.defaultMode) !== mode) {\n      setMode(options === null || options === void 0 ? void 0 : options.defaultMode);\n    }\n  }, [options === null || options === void 0 ? void 0 : options.defaultMode]);\n  useEffect(function () {\n    if ((options === null || options === void 0 ? void 0 : options.startWeekOn) !== startWeekOn) {\n      setStartWeekOn(options === null || options === void 0 ? void 0 : options.startWeekOn);\n    }\n    updateWeekDays();\n  }, [options === null || options === void 0 ? void 0 : options.startWeekOn]);\n  return /*#__PURE__*/React.createElement(Paper, {\n    variant: \"outlined\",\n    elevation: 0,\n    sx: {\n      p: 0\n    }\n  }, /*#__PURE__*/React.createElement(DateFnsLocaleContext.Provider, {\n    value: dateFnsLocale\n  }, /*#__PURE__*/React.createElement(SchedulerToolbar, {\n    today: today,\n    events: events,\n    locale: locale,\n    switchMode: mode,\n    alertProps: alertState,\n    toolbarProps: toolbarProps,\n    onDateChange: handleDateChange,\n    onModeChange: handleModeChange,\n    onSearchResult: onSearchResult,\n    onAlertCloseButtonClicked: onAlertCloseButtonClicked\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    alignItems: \"center\",\n    justifyContent: \"start\"\n  }, isMonthMode && /*#__PURE__*/React.createElement(TransitionMode, {\n    in: true\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/React.createElement(MonthModeView, {\n    locale: locale,\n    options: options,\n    date: selectedDate,\n    rows: state === null || state === void 0 ? void 0 : state.rows,\n    columns: state === null || state === void 0 ? void 0 : state.columns,\n    legacyStyle: legacyStyle,\n    onTaskClick: onTaskClick,\n    onCellClick: onCellClick,\n    searchResult: searchResult,\n    onDateChange: handleDateChange,\n    onEventsChange: handleEventsChange\n  }))), isWeekMode && /*#__PURE__*/React.createElement(TransitionMode, {\n    in: true\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/React.createElement(WeekModeView, {\n    locale: locale,\n    events: events,\n    options: options,\n    date: selectedDate,\n    rows: state === null || state === void 0 ? void 0 : state.rows,\n    columns: state === null || state === void 0 ? void 0 : state.columns,\n    onTaskClick: onTaskClick,\n    onCellClick: onCellClick,\n    searchResult: searchResult,\n    onDateChange: handleDateChange,\n    onEventsChange: handleEventsChange\n  }))), isDayMode && /*#__PURE__*/React.createElement(TransitionMode, {\n    in: true\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/React.createElement(DayModeView, {\n    locale: locale,\n    events: events,\n    options: options,\n    date: selectedDate,\n    rows: state === null || state === void 0 ? void 0 : state.rows,\n    columns: state === null || state === void 0 ? void 0 : state.columns,\n    onTaskClick: onTaskClick,\n    onCellClick: onCellClick,\n    searchResult: searchResult,\n    onDateChange: handleDateChange,\n    onEventsChange: handleEventsChange\n  })))), isTimelineMode && /*#__PURE__*/React.createElement(TransitionMode, {\n    in: true\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    alignItems: \"start\"\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/React.createElement(TimeLineModeView, {\n    events: events,\n    locale: locale,\n    options: options,\n    date: selectedDate,\n    rows: state === null || state === void 0 ? void 0 : state.rows,\n    columns: state === null || state === void 0 ? void 0 : state.columns,\n    onTaskClick: onTaskClick,\n    onCellClick: onCellClick,\n    searchResult: searchResult,\n    onDateChange: handleDateChange,\n    onEventsChange: onEventsChange\n  }))))));\n}\nScheduler.propTypes = {\n  events: PropTypes.array,\n  options: PropTypes.object,\n  alertProps: PropTypes.object,\n  toolbarProps: PropTypes.object,\n  onEventsChange: PropTypes.func,\n  onCellClick: PropTypes.func,\n  onTaskClick: PropTypes.func,\n  onAlertCloseButtonClicked: PropTypes.func\n};\nScheduler.defaultProps = {\n  locale: 'en',\n  legacyStyle: false\n};\nexport { Scheduler as default };","map":{"version":3,"names":["_defineProperty","_asyncToGenerator","_slicedToArray","_regeneratorRuntime","React","createContext","useState","useContext","useEffect","useReducer","PropTypes","i18n","initReactI18next","useTranslation","styled","useTheme","alpha","Autocomplete","Box","TextField","Toolbar","Grid","Typography","Hidden","IconButton","Button","Menu","Stack","ToggleButtonGroup","ToggleButton","MenuItem","ListItemIcon","Divider","Collapse","Alert","Paper","TableCell","tableCellClasses","TableRow","TableContainer","Table","TableHead","TableBody","Tooltip","Zoom","Fade","Slide","format","parse","getDaysInMonth","sub","add","isSameMonth","differenceInMinutes","isValid","getWeeksInMonth","startOfMonth","getDay","isSameDay","startOfWeek","startOfDay","_extends","AdapterDateFns","LocalizationProvider","StaticDatePicker","CloseIcon","ChevronLeftIcon","ChevronRightIcon","TodayIcon","SettingsIcon","ArchiveIcon","AutorenewIcon","LocalPrintshopIcon","PlayCircleOutlineIcon","GridViewIcon","EventNoteRoundedIcon","styled$1","Timeline","TimelineItem","TimelineSeparator","TimelineConnector","TimelineContent","TimelineOppositeContent","TimelineDot","ScheduleIcon","enAU","fr","ko","de","es","ar","ja","ru","zhCN","day$7","week$7","month$7","timeline$7","mon$7","tue$7","wed$7","thu$7","fri$7","sat$7","sun$7","search$7","trEN","day","week","month","timeline","mon","tue","wed","thu","fri","sat","sun","search","day$6","week$6","month$6","timeline$6","mon$6","tue$6","wed$6","thu$6","fri$6","sat$6","sun$6","search$6","trFR","day$5","week$5","month$5","timeline$5","mon$5","tue$5","wed$5","thu$5","fri$5","sat$5","sun$5","search$5","trKO","day$4","week$4","month$4","timeline$4","mon$4","tue$4","wed$4","thu$4","fri$4","sat$4","sun$4","search$4","trDE","day$3","week$3","month$3","timeline$3","mon$3","tue$3","wed$3","thu$3","fri$3","sat$3","sun$3","search$3","trES","day$2","week$2","month$2","timeline$2","mon$2","tue$2","wed$2","thu$2","fri$2","sat$2","sun$2","search$2","trAR","day$1","week$1","month$1","timeline$1","mon$1","tue$1","wed$1","thu$1","fri$1","sat$1","sun$1","search$1","trJA","trZH","resources","en","common","zh","use","init","lng","localStorage","getItem","ns","defaultNS","fallbackNS","fallbackLng","debug","interpolation","escapeValue","react","wait","useSuspense","DateFnsLocaleContext","ownKeys$4","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread$4","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","StyledAutoComplete","_ref","_ref2","theme","color","width","display","margin","spacing","transition","transitions","create","breakpoints","up","ToolbarSearchbar","props","events","_onInputChange","onInputChange","_useTranslation","t","_useState","_useState2","value","setValue","_useState3","_useState4","inputValue","setInputValue","handleOnChange","event","newValue","createElement","id","sx","mb","onChange","options","sort","a","b","groupLabel","localeCompare","groupBy","option","getOptionLabel","concat","startHour","endHour","isOptionEqualToValue","newInputValue","renderOption","component","fontSize","date","Date","renderInput","params","size","label","InputProps","propTypes","array","func","defaultProps","SchedulerToolbar","locale","today","switchMode","alertProps","toolbarProps","onModeChange","onDateChange","onSearchResult","onAlertCloseButtonClicked","mode","setMode","searchResult","setSearchResult","_useState5","_useState6","anchorMenuEl","setAnchorMenuEl","_useState7","_useState8","anchorDateEl","setAnchorDateEl","_useState9","_useState10","selectedDate","setSelectedDate","_useState11","_useState12","daysInMonth","setDaysInMonth","openMenu","Boolean","openDateSelector","dateFnsLocale","isDayMode","toLowerCase","isWeekMode","isMonthMode","commonIconButtonProps","edge","menus","icon","handleCloseMenu","handleOpenDateSelector","currentTarget","handleCloseDateSelector","handleChangeDate","method","months","weeks","days","newDate","handleCloseAlert","e","variant","px","borderBottom","palette","divider","container","alignItems","justifyContent","item","xs","sm","md","showDatePicker","smDown","ml","mr","onClick","undefined","smUp","anchorEl","open","onClose","MenuListProps","dateAdapter","displayStaticWrapperAs","textAlign","direction","pr","showSearchBar","mdUp","mdDown","showSwitchModeButtons","exclusive","mt","newMode","map","tb","transformOrigin","horizontal","vertical","anchorOrigin","menu","index","in","severity","borderRadius","action","showActionButton","message","isRequired","string","showOptions","EventItem","rowId","boxSx","elevation","onDragStart","draggable","oneOfType","number","bool","handleTaskClick","onCellDragStart","ownKeys$3","_objectSpread$3","StyledTableCell$2","_$concat2","head","borderTop","borderLeft","body","height","maxWidth","cursor","verticalAlign","StyledTableRow$2","_ref3","border","MonthModeView","rows","columns","legacyStyle","onTaskClick","onCellClick","onEventsChange","state","setState","currentDaySx","paddingTop","onCellDragOver","preventDefault","rowIndex","itemTransfert","onCellDragEnter","elementId","transfertTarget","onCellDragEnd","transfert","rowsCopy","Array","from","rowInd","findIndex","d","_rowsCopy$rowInd","_rowsCopy$rowInd$days","dayInd","_rowsCopy$rowInd2","_transfert$item","_transfert$item$date","_transfert$item2","splittedDate","split","parseInt","itemCheck","data","_prevDayEvents$data","_prevDayEvents$data2","prevDayEvents","find","itemIndexToRemove","splice","handleCellClick","row","_day$data","stopPropagation","renderTask","tasks","task","condition","user","py","my","backgroundColor","primary","light","boxShadow","stickyHeader","minWidth","column","align","headerName","_row$days","indexD","_columns$indexD","_columns$indexD$heade","_day$data2","_day$data3","currentDay","getUTCDate","scope","position","onDragEnd","onDragOver","onDragEnter","overflowY","toUpperCase","background","main","htmlColor","ownKeys$2","_objectSpread$2","StyledTableCell$1","paddingLeft","paddingRight","StyledTableRow$1","StyledTableContainer$1","_ref5","_ref6","WebkitBoxShadow","WebkitBorderRadius","WeekModeView","rowLabel","dayIndex","_rowsData$transfertTa","rowsData","_transfertTarget$rowL","_prevEventCell$data","hourRegExp","foundEventIndex","prevEventCell","hourLabel","exec","endHourDate","startHourDate","minutesDiff","newEndHour","minutes","itemIndex","maxHeight","weekDay","_row$data","_row$days2","lineTasks","reduce","prev","curr","_curr$data","placement","title","ownKeys$1","_objectSpread$1","StyledTableCell","StyledTableRow","StyledTableContainer","DayModeView","colSpan","StyledContainer","TimeLineModeView","_fileredEvents2","fileredEvents","_b$startHour","_fileredEvents","m","ownKeys","_objectSpread","Scheduler","selectedDay","setSelectedDay","alertState","setAlertState","defaultMode","_useState13","startWeekOn","_useState14","setStartWeekOn","_useState15","_useState16","_useReducer","_options$startWeekOn","_useReducer2","weekDays","updateWeekDays","isTimelineMode","TransitionMode","transitionMode","getMonthHeader","flex","sortable","editable","headerAlign","field","headerClassName","getMonthRows","_lastRow$days","daysBefore","iteration","startOnSunday","monthStartDate","monthStartDay","dateDay","checkCondition","v","_loop","subDate","_loop2","_i","_i2","obj","_loop3","j","lastRow","lastRowDaysdiff","lastDaysData","_lastRow$days2","addDate","_i3","getWeekHeader","weekStart","weekStartsOn","getWeekRows","HOURS","dayStartHour","_loop4","_event$startHour","eventDate","getDayHeader","getDayRows","_loop5","matchedEvents","_event$startHour2","getTimeLineRows","handleDateChange","handleModeChange","handleEventsChange","mark","_callee","eventIndex","oldObject","wrap","_callee$","_context","next","assign","showNotification","setTimeout","delay","stop","_x","language","setItem","changeLanguage","p","Provider","default"],"sources":["C:/Users/Michal Abargel/Desktop/FULLSTACK_PROJECTS/PrivateLessones/PL/client/gui/node_modules/react-mui-scheduler/dist/index.esm.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport React, { createContext, useState, useContext, useEffect, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from 'i18next';\nimport { initReactI18next, useTranslation } from 'react-i18next';\nimport { styled, useTheme, alpha } from '@mui/material/styles';\nimport { Autocomplete, Box, TextField, Toolbar, Grid, Typography, Hidden, IconButton, Button, Menu, Stack, ToggleButtonGroup, ToggleButton, MenuItem, ListItemIcon, Divider, Collapse, Alert, Paper, TableCell, tableCellClasses, TableRow, TableContainer, Table, TableHead, TableBody, Tooltip, Zoom, Fade, Slide } from '@mui/material';\nimport { format, parse, getDaysInMonth, sub, add, isSameMonth, differenceInMinutes, isValid, getWeeksInMonth, startOfMonth, getDay, isSameDay, startOfWeek, startOfDay } from 'date-fns';\nimport _extends from '@babel/runtime/helpers/extends';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport StaticDatePicker from '@mui/lab/StaticDatePicker';\nimport CloseIcon from '@mui/icons-material/Close';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport TodayIcon from '@mui/icons-material/Today';\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport ArchiveIcon from '@mui/icons-material/Archive';\nimport AutorenewIcon from '@mui/icons-material/Autorenew';\nimport LocalPrintshopIcon from '@mui/icons-material/LocalPrintshop';\nimport PlayCircleOutlineIcon from '@mui/icons-material/PlayCircleOutline';\nimport GridViewIcon from '@mui/icons-material/GridView';\nimport EventNoteRoundedIcon from '@mui/icons-material/EventNoteRounded';\nimport { styled as styled$1 } from '@mui/system';\nimport Timeline from '@mui/lab/Timeline';\nimport TimelineItem from '@mui/lab/TimelineItem';\nimport TimelineSeparator from '@mui/lab/TimelineSeparator';\nimport TimelineConnector from '@mui/lab/TimelineConnector';\nimport TimelineContent from '@mui/lab/TimelineContent';\nimport TimelineOppositeContent from '@mui/lab/TimelineOppositeContent';\nimport TimelineDot from '@mui/lab/TimelineDot';\nimport ScheduleIcon from '@mui/icons-material/Schedule';\nimport { enAU, fr, ko, de, es, ar, ja, ru, zhCN } from 'date-fns/locale';\n\nvar day$7 = \"Day\";\nvar week$7 = \"Week\";\nvar month$7 = \"Month\";\nvar timeline$7 = \"Timeline\";\nvar mon$7 = \"Mon\";\nvar tue$7 = \"Tue\";\nvar wed$7 = \"Wed\";\nvar thu$7 = \"Thu\";\nvar fri$7 = \"Fri\";\nvar sat$7 = \"Sat\";\nvar sun$7 = \"Sun\";\nvar search$7 = \"Search...\";\nvar trEN = {\n\tday: day$7,\n\tweek: week$7,\n\tmonth: month$7,\n\ttimeline: timeline$7,\n\tmon: mon$7,\n\ttue: tue$7,\n\twed: wed$7,\n\tthu: thu$7,\n\tfri: fri$7,\n\tsat: sat$7,\n\tsun: sun$7,\n\tsearch: search$7\n};\n\nvar day$6 = \"Jour\";\nvar week$6 = \"Semaine\";\nvar month$6 = \"Mois\";\nvar timeline$6 = \"Chronologie\";\nvar mon$6 = \"Lun\";\nvar tue$6 = \"Mar\";\nvar wed$6 = \"Mer\";\nvar thu$6 = \"Jeu\";\nvar fri$6 = \"Ven\";\nvar sat$6 = \"Sam\";\nvar sun$6 = \"Dim\";\nvar search$6 = \"Chercher...\";\nvar trFR = {\n\tday: day$6,\n\tweek: week$6,\n\tmonth: month$6,\n\ttimeline: timeline$6,\n\tmon: mon$6,\n\ttue: tue$6,\n\twed: wed$6,\n\tthu: thu$6,\n\tfri: fri$6,\n\tsat: sat$6,\n\tsun: sun$6,\n\tsearch: search$6\n};\n\nvar day$5 = \"낮\";\nvar week$5 = \"주\";\nvar month$5 = \"월\";\nvar timeline$5 = \"타임라인\";\nvar mon$5 = \"월\";\nvar tue$5 = \"화요일\";\nvar wed$5 = \"수\";\nvar thu$5 = \"목\";\nvar fri$5 = \"금\";\nvar sat$5 = \"앉았다\";\nvar sun$5 = \"해\";\nvar search$5 = \"검색...\";\nvar trKO = {\n\tday: day$5,\n\tweek: week$5,\n\tmonth: month$5,\n\ttimeline: timeline$5,\n\tmon: mon$5,\n\ttue: tue$5,\n\twed: wed$5,\n\tthu: thu$5,\n\tfri: fri$5,\n\tsat: sat$5,\n\tsun: sun$5,\n\tsearch: search$5\n};\n\nvar day$4 = \"Tag\";\nvar week$4 = \"Woche\";\nvar month$4 = \"Monat\";\nvar timeline$4 = \"Zeitleiste\";\nvar mon$4 = \"Mo\";\nvar tue$4 = \"Diens\";\nvar wed$4 = \"Mitt\";\nvar thu$4 = \"Donner\";\nvar fri$4 = \"Frei\";\nvar sat$4 = \"Sam\";\nvar sun$4 = \"Sonn\";\nvar search$4 = \"Suchen...\";\nvar trDE = {\n\tday: day$4,\n\tweek: week$4,\n\tmonth: month$4,\n\ttimeline: timeline$4,\n\tmon: mon$4,\n\ttue: tue$4,\n\twed: wed$4,\n\tthu: thu$4,\n\tfri: fri$4,\n\tsat: sat$4,\n\tsun: sun$4,\n\tsearch: search$4\n};\n\nvar day$3 = \"Día\";\nvar week$3 = \"Semana\";\nvar month$3 = \"Mes\";\nvar timeline$3 = \"Cronología\";\nvar mon$3 = \"Lun\";\nvar tue$3 = \"Mar\";\nvar wed$3 = \"Mié\";\nvar thu$3 = \"Jue\";\nvar fri$3 = \"Vie\";\nvar sat$3 = \"Sáb\";\nvar sun$3 = \"Dom\";\nvar search$3 = \"Buscar...\";\nvar trES = {\n\tday: day$3,\n\tweek: week$3,\n\tmonth: month$3,\n\ttimeline: timeline$3,\n\tmon: mon$3,\n\ttue: tue$3,\n\twed: wed$3,\n\tthu: thu$3,\n\tfri: fri$3,\n\tsat: sat$3,\n\tsun: sun$3,\n\tsearch: search$3\n};\n\nvar day$2 = \"يوم\";\nvar week$2 = \"أسبوع\";\nvar month$2 = \"شهر\";\nvar timeline$2 = \"الجدول الزمني\";\nvar mon$2 = \"الإثنين\";\nvar tue$2 = \"الثلاثاء\";\nvar wed$2 = \"تزوج\";\nvar thu$2 = \"خميس\";\nvar fri$2 = \"الجمعة\";\nvar sat$2 = \"قعد\";\nvar sun$2 = \"شمس\";\nvar search$2 = \"بحث\";\nvar trAR = {\n\tday: day$2,\n\tweek: week$2,\n\tmonth: month$2,\n\ttimeline: timeline$2,\n\tmon: mon$2,\n\ttue: tue$2,\n\twed: wed$2,\n\tthu: thu$2,\n\tfri: fri$2,\n\tsat: sat$2,\n\tsun: sun$2,\n\tsearch: search$2\n};\n\nvar day$1 = \"日\";\nvar week$1 = \"週\";\nvar month$1 = \"月\";\nvar timeline$1 = \"年表\";\nvar mon$1 = \"月曜日\";\nvar tue$1 = \"3月\";\nvar wed$1 = \"海\";\nvar thu$1 = \"ゲーム\";\nvar fri$1 = \"金\";\nvar sat$1 = \"土\";\nvar sun$1 = \"太陽\";\nvar search$1 = \"探す...\";\nvar trJA = {\n\tday: day$1,\n\tweek: week$1,\n\tmonth: month$1,\n\ttimeline: timeline$1,\n\tmon: mon$1,\n\ttue: tue$1,\n\twed: wed$1,\n\tthu: thu$1,\n\tfri: fri$1,\n\tsat: sat$1,\n\tsun: sun$1,\n\tsearch: search$1\n};\n\nvar day = \"天\";\nvar week = \"星期\";\nvar month = \"月\";\nvar timeline = \"年表\";\nvar mon = \"星期一\";\nvar tue = \"三月\";\nvar wed = \"海\";\nvar thu = \"游戏\";\nvar fri = \"周五\";\nvar sat = \"星期六\";\nvar sun = \"太阳\";\nvar search = \"寻找...\";\nvar trZH = {\n\tday: day,\n\tweek: week,\n\tmonth: month,\n\ttimeline: timeline,\n\tmon: mon,\n\ttue: tue,\n\twed: wed,\n\tthu: thu,\n\tfri: fri,\n\tsat: sat,\n\tsun: sun,\n\tsearch: search\n};\n\nvar resources = {\n  en: {\n    common: trEN\n  },\n  fr: {\n    common: trFR\n  },\n  ko: {\n    common: trKO\n  },\n  de: {\n    common: trDE\n  },\n  es: {\n    common: trES\n  },\n  ar: {\n    common: trAR\n  },\n  ja: {\n    common: trJA\n  },\n  zh: {\n    common: trZH\n  }\n};\ni18n // pass the i18n instance to react-i18next.\n.use(initReactI18next) // init i18next\n// for all options read: https://www.i18next.com/overview/configuration-options\n.init({\n  resources: resources,\n  lng: localStorage.getItem('i18nextLng'),\n  ns: [\"common\"],\n  defaultNS: \"common\",\n  fallbackNS: \"common\",\n  fallbackLng: [\"en\", \"fr\", \"dev\"],\n  debug: false,\n  interpolation: {\n    escapeValue: false // not needed for react as it escapes by default\n\n  },\n  react: {\n    wait: true,\n    useSuspense: false\n  }\n});\n\nvar DateFnsLocaleContext = /*#__PURE__*/createContext();\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar StyledAutoComplete = styled(Autocomplete)(function (_ref) {\n  var _ref2;\n\n  var theme = _ref.theme;\n  return _ref2 = {\n    color: 'inherit',\n    width: '94%',\n    display: 'inline-flex',\n    margin: theme.spacing(.5, 1.5),\n    transition: theme.transitions.create('width')\n  }, _defineProperty(_ref2, theme.breakpoints.up('sm'), {\n    width: '100%'\n  }), _defineProperty(_ref2, theme.breakpoints.up('md'), {\n    width: '27ch'\n  }), _defineProperty(_ref2, theme.breakpoints.up('lg'), {\n    width: '27ch'\n  }), _ref2;\n});\n\nfunction ToolbarSearchbar(props) {\n  var events = props.events,\n      _onInputChange = props.onInputChange;\n\n  var _useTranslation = useTranslation(['common']),\n      t = _useTranslation.t;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  useContext(DateFnsLocaleContext);\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      inputValue = _useState4[0],\n      setInputValue = _useState4[1];\n\n  var handleOnChange = function handleOnChange(event, newValue) {\n    setValue(newValue);\n    if (_onInputChange) _onInputChange(newValue);\n  };\n\n  return /*#__PURE__*/React.createElement(StyledAutoComplete, {\n    value: value,\n    id: \"scheduler-autocomplete\",\n    inputValue: inputValue,\n    sx: {\n      mb: 0,\n      display: 'inline-flex'\n    },\n    onChange: handleOnChange,\n    options: events === null || events === void 0 ? void 0 : events.sort(function (a, b) {\n      return -b.groupLabel.localeCompare(a.groupLabel);\n    }),\n    groupBy: function groupBy(option) {\n      return option ? option === null || option === void 0 ? void 0 : option.groupLabel : null;\n    }\n    /*\n    (\n        <Box sx={{display: \"flex\", alignItems: \"center\"}}>\n          <Box\n            component=\"span\"\n            sx={{\n              width: 16,\n              height: 16,\n              mr: 1,\n              borderRadius: \"50%\",\n              backgroundColor: option?.color || theme.palette.secondary.main\n            }}\n          />\n          {option?.groupLabel}\n        </Box>\n      )\n     */\n    ,\n    getOptionLabel: function getOptionLabel(option) {\n      return option ? \"\".concat(option.groupLabel || '', \" | (\").concat(option.startHour || '', \" - \").concat(option.endHour || '', \")\") : '';\n    },\n    isOptionEqualToValue: function isOptionEqualToValue(option, value) {\n      return option.id === value.id;\n    },\n    onInputChange: function onInputChange(event, newInputValue) {\n      setInputValue(newInputValue);\n\n      _onInputChange(newInputValue);\n    },\n    renderOption: function renderOption(props, option) {\n      return /*#__PURE__*/React.createElement(Box, _extends({\n        component: \"li\",\n        sx: {\n          fontSize: 12\n        }\n      }, props), format(parse(option === null || option === void 0 ? void 0 : option.date, 'yyyy-MM-dd', new Date()), 'dd-MMMM-yyyy'), \"(\", (option === null || option === void 0 ? void 0 : option.startHour) || '', \" - \", (option === null || option === void 0 ? void 0 : option.endHour) || '', \")\");\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextField, _extends({}, params, {\n        size: \"small\",\n        label: t('search'),\n        InputProps: _objectSpread$4({}, params.InputProps)\n      }));\n    }\n  });\n}\n\nToolbarSearchbar.propTypes = {\n  events: PropTypes.array,\n  onInputChange: PropTypes.func\n};\nToolbarSearchbar.defaultProps = {};\n\nfunction SchedulerToolbar(props) {\n  props.locale;\n      var events = props.events,\n      today = props.today,\n      switchMode = props.switchMode,\n      alertProps = props.alertProps,\n      toolbarProps = props.toolbarProps,\n      onModeChange = props.onModeChange,\n      onDateChange = props.onDateChange,\n      onSearchResult = props.onSearchResult,\n      onAlertCloseButtonClicked = props.onAlertCloseButtonClicked;\n  var theme = useTheme();\n\n  var _useTranslation = useTranslation(['common']),\n      t = _useTranslation.t;\n\n  var _useState = useState(switchMode),\n      _useState2 = _slicedToArray(_useState, 2),\n      mode = _useState2[0],\n      setMode = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchResult = _useState4[0],\n      setSearchResult = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      anchorMenuEl = _useState6[0],\n      setAnchorMenuEl = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      anchorDateEl = _useState8[0],\n      setAnchorDateEl = _useState8[1];\n\n  var _useState9 = useState(today || new Date()),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectedDate = _useState10[0],\n      setSelectedDate = _useState10[1];\n\n  var _useState11 = useState(getDaysInMonth(selectedDate)),\n      _useState12 = _slicedToArray(_useState11, 2),\n      daysInMonth = _useState12[0],\n      setDaysInMonth = _useState12[1];\n\n  var openMenu = Boolean(anchorMenuEl);\n  var openDateSelector = Boolean(anchorDateEl);\n  var dateFnsLocale = useContext(DateFnsLocaleContext);\n  var isDayMode = mode.toLowerCase() === 'day';\n  var isWeekMode = mode.toLowerCase() === 'week';\n  var isMonthMode = mode.toLowerCase() === 'month';\n  var commonIconButtonProps = {\n    size: \"medium\",\n    edge: \"start\",\n    color: \"inherit\",\n    \"aria-label\": \"menu\"\n  };\n  var menus = [{\n    label: \"Read events\",\n    icon: /*#__PURE__*/React.createElement(PlayCircleOutlineIcon, {\n      fontSize: \"small\"\n    })\n  }, {\n    label: \"Refresh\",\n    icon: /*#__PURE__*/React.createElement(AutorenewIcon, {\n      fontSize: \"small\"\n    })\n  }, {\n    label: \"Export\",\n    icon: /*#__PURE__*/React.createElement(ArchiveIcon, {\n      fontSize: \"small\"\n    })\n  }, {\n    label: \"Print\",\n    icon: /*#__PURE__*/React.createElement(LocalPrintshopIcon, {\n      fontSize: \"small\"\n    })\n  }];\n\n  var handleCloseMenu = function handleCloseMenu() {\n    setAnchorMenuEl(null);\n  };\n\n  var handleOpenDateSelector = function handleOpenDateSelector(event) {\n    setAnchorDateEl(event.currentTarget);\n  };\n\n  var handleCloseDateSelector = function handleCloseDateSelector() {\n    setAnchorDateEl(null);\n  };\n  /**\n   * @name handleChangeDate\n   * @description\n   * @param method\n   * @return void\n   */\n\n\n  var handleChangeDate = function handleChangeDate(method) {\n    if (typeof method !== 'function') {\n      return;\n    }\n\n    var options = {\n      months: 1\n    };\n\n    if (isWeekMode) {\n      options = {\n        weeks: 1\n      };\n    }\n\n    if (isDayMode) {\n      options = {\n        days: 1\n      };\n    }\n\n    var newDate = method(selectedDate, options);\n    setDaysInMonth(getDaysInMonth(newDate));\n    setSelectedDate(newDate);\n  };\n\n  var handleCloseAlert = function handleCloseAlert(e) {\n    onAlertCloseButtonClicked && onAlertCloseButtonClicked(e);\n  };\n\n  useEffect(function () {\n    if (mode && onModeChange) {\n      onModeChange(mode);\n    } // eslint-disable-next-line\n\n  }, [mode]);\n  useEffect(function () {\n    onDateChange && onDateChange(daysInMonth, selectedDate); // eslint-disable-next-line\n  }, [daysInMonth, selectedDate]);\n  useEffect(function () {\n    onSearchResult && onSearchResult(searchResult); // eslint-disable-next-line\n  }, [searchResult]);\n  useEffect(function () {\n    if (switchMode !== mode) {\n      setMode(switchMode);\n    }\n  }, [switchMode]);\n  return /*#__PURE__*/React.createElement(Toolbar, {\n    variant: \"dense\",\n    sx: {\n      px: '0px !important',\n      display: 'block',\n      borderBottom: \"1px \".concat(theme.palette.divider, \" solid\")\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    alignItems: \"center\",\n    justifyContent: \"flex-end\"\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 1,\n    sm: true,\n    md: true\n  }, toolbarProps.showDatePicker && /*#__PURE__*/React.createElement(Typography, {\n    component: \"div\",\n    sx: {\n      display: 'flex'\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    smDown: true\n  }, /*#__PURE__*/React.createElement(IconButton, _extends({\n    sx: {\n      ml: 0,\n      mr: -.1\n    }\n  }, commonIconButtonProps, {\n    onClick: function onClick() {\n      return handleChangeDate(sub);\n    }\n  }), /*#__PURE__*/React.createElement(ChevronLeftIcon, null)), /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    id: \"basic-button\",\n    \"aria-haspopup\": \"true\" //endIcon={<TodayIcon />}\n    ,\n    \"aria-controls\": \"basic-menu\",\n    onClick: handleOpenDateSelector,\n    sx: {\n      color: 'text.primary'\n    },\n    \"aria-expanded\": openDateSelector ? 'true' : undefined\n  }, format(selectedDate, isMonthMode ? 'MMMM-yyyy' : 'PPP', {\n    locale: dateFnsLocale\n  })), /*#__PURE__*/React.createElement(IconButton, _extends({\n    sx: {\n      ml: .2\n    }\n  }, commonIconButtonProps, {\n    onClick: function onClick() {\n      return handleChangeDate(add);\n    }\n  }), /*#__PURE__*/React.createElement(ChevronRightIcon, null))), /*#__PURE__*/React.createElement(Hidden, {\n    smUp: true\n  }, /*#__PURE__*/React.createElement(IconButton, _extends({\n    sx: {\n      ml: 0,\n      \"aria-label\": \"menu\"\n    }\n  }, commonIconButtonProps, {\n    size: \"small\",\n    onClick: handleOpenDateSelector\n  }), /*#__PURE__*/React.createElement(TodayIcon, null))), /*#__PURE__*/React.createElement(Menu, {\n    id: \"date-menu\",\n    anchorEl: anchorDateEl,\n    open: openDateSelector,\n    onClose: handleCloseDateSelector,\n    MenuListProps: {\n      'aria-labelledby': 'basic-button'\n    }\n  }, /*#__PURE__*/React.createElement(LocalizationProvider, {\n    locale: dateFnsLocale,\n    dateAdapter: AdapterDateFns\n  }, /*#__PURE__*/React.createElement(StaticDatePicker, {\n    displayStaticWrapperAs: \"desktop\",\n    value: selectedDate,\n    onChange: function onChange(newValue) {\n      setDaysInMonth(getDaysInMonth(newValue));\n      setSelectedDate(newValue);\n      handleCloseDateSelector();\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextField, params);\n    }\n  }))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    sm: true,\n    md: true,\n    sx: {\n      textAlign: 'right'\n    }\n  }, /*#__PURE__*/React.createElement(Stack, {\n    direction: \"row\",\n    sx: {\n      pr: .5,\n      alignItems: 'center',\n      justifyContent: 'flex-end'\n    }\n  }, (toolbarProps === null || toolbarProps === void 0 ? void 0 : toolbarProps.showSearchBar) && /*#__PURE__*/React.createElement(ToolbarSearchbar, {\n    events: events,\n    onInputChange: function onInputChange(newValue) {\n      var newDate = new Date();\n\n      if (newValue !== null && newValue !== void 0 && newValue.date) {\n        newDate = parse(newValue.date, 'yyyy-MM-dd', today);\n      }\n\n      setDaysInMonth(getDaysInMonth(newDate));\n      setSelectedDate(newDate);\n      setSearchResult(newValue);\n    }\n  }), /*#__PURE__*/React.createElement(Hidden, {\n    mdUp: true\n  }, /*#__PURE__*/React.createElement(IconButton, _extends({\n    sx: {\n      mr: 0,\n      \"aria-label\": \"menu\"\n    }\n  }, commonIconButtonProps, {\n    size: \"small\",\n    onClick: handleOpenDateSelector\n  }), /*#__PURE__*/React.createElement(GridViewIcon, null))), /*#__PURE__*/React.createElement(Hidden, {\n    mdDown: true\n  }, (toolbarProps === null || toolbarProps === void 0 ? void 0 : toolbarProps.showSwitchModeButtons) && /*#__PURE__*/React.createElement(ToggleButtonGroup, {\n    exclusive: true,\n    value: mode,\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"text button group\",\n    sx: {\n      mt: .2,\n      mr: 1.3,\n      display: 'contents'\n    },\n    onChange: function onChange(e, newMode) {\n      setMode(newMode);\n    }\n  }, [{\n    label: t('month'),\n    value: 'month'\n  }, {\n    label: t('week'),\n    value: 'week'\n  }, {\n    label: t('day'),\n    value: 'day'\n  }, {\n    label: t('timeline'),\n    value: 'timeline'\n  }].map(function (tb) {\n    return /*#__PURE__*/React.createElement(ToggleButton, {\n      sx: {\n        mt: .5\n      },\n      key: tb.value,\n      value: tb.value\n    }, tb.label);\n  }))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sx: {}\n  }, /*#__PURE__*/React.createElement(Menu, {\n    id: \"menu-menu\",\n    open: openMenu,\n    anchorEl: anchorMenuEl,\n    onClose: handleCloseMenu,\n    onClick: handleCloseMenu,\n    transformOrigin: {\n      horizontal: 'right',\n      vertical: 'top'\n    },\n    anchorOrigin: {\n      horizontal: 'right',\n      vertical: 'bottom'\n    }\n  }, menus.map(function (menu, index) {\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: menu.label\n    }, /*#__PURE__*/React.createElement(ListItemIcon, null, menu.icon), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\"\n    }, menu.label));\n  }), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(MenuItem, null, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(SettingsIcon, {\n    fontSize: \"small\"\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\"\n  }, \"Settings\"))), /*#__PURE__*/React.createElement(Collapse, {\n    in: alertProps === null || alertProps === void 0 ? void 0 : alertProps.open\n  }, /*#__PURE__*/React.createElement(Alert, {\n    color: alertProps === null || alertProps === void 0 ? void 0 : alertProps.color,\n    severity: alertProps === null || alertProps === void 0 ? void 0 : alertProps.severity,\n    sx: {\n      borderRadius: 0,\n      mb: 0\n    },\n    action: alertProps !== null && alertProps !== void 0 && alertProps.showActionButton ? /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      size: \"small\",\n      onClick: handleCloseAlert\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      fontSize: \"inherit\"\n    })) : null\n  }, alertProps === null || alertProps === void 0 ? void 0 : alertProps.message)))));\n}\n\nSchedulerToolbar.propTypes = {\n  today: PropTypes.object.isRequired,\n  events: PropTypes.array.isRequired,\n  switchMode: PropTypes.string.isRequired,\n  alertProps: PropTypes.object,\n  toolbarProps: PropTypes.object,\n  onDateChange: PropTypes.func.isRequired,\n  onModeChange: PropTypes.func.isRequired,\n  onSearchResult: PropTypes.func.isRequired,\n  onAlertCloseButtonClicked: PropTypes.func.isRequired\n};\nSchedulerToolbar.defaultProps = {\n  alertProps: {\n    open: false,\n    message: '',\n    color: 'info',\n    severity: 'info',\n    showActionButton: true\n  },\n  toolbarProps: {\n    showSearchBar: true,\n    showSwitchModeButtons: true,\n    showDatePicker: true,\n    showOptions: false\n  }\n};\n\nfunction EventItem(props) {\n  var event = props.event,\n      rowId = props.rowId,\n      sx = props.sx,\n      boxSx = props.boxSx,\n      elevation = props.elevation;\n      props.isMonthMode;\n      var onClick = props.onClick,\n      onDragStart = props.onDragStart;\n  return /*#__PURE__*/React.createElement(Paper, {\n    sx: sx,\n    draggable: true,\n    onClick: onClick,\n    onDragStart: onDragStart,\n    elevation: elevation || 0,\n    key: \"item-d-\".concat(event === null || event === void 0 ? void 0 : event.id, \"-\").concat(rowId)\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: boxSx\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    sx: {\n      fontSize: 11\n    }\n  }, event === null || event === void 0 ? void 0 : event.label)));\n}\n\nEventItem.propTypes = {\n  sx: PropTypes.object,\n  boxSx: PropTypes.object,\n  event: PropTypes.object.isRequired,\n  rowId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  isMonthMode: PropTypes.bool,\n  onClick: PropTypes.func,\n  handleTaskClick: PropTypes.func,\n  onCellDragStart: PropTypes.func\n};\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar StyledTableCell$2 = styled(TableCell)(function (_ref) {\n  var _$concat2, _ref2;\n\n  var theme = _ref.theme;\n  return _ref2 = {}, _defineProperty(_ref2, \"&.\".concat(tableCellClasses.head), _defineProperty({\n    borderTop: \"1px \".concat(theme.palette.divider, \" solid !important\"),\n    borderBottom: \"1px \".concat(theme.palette.divider, \" solid !important\"),\n    borderLeft: \"1px \".concat(theme.palette.divider, \" solid !important\")\n  }, '&:nth-of-type(1)', {\n    borderLeft: \"0px !important\"\n  })), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body), (_$concat2 = {\n    fontSize: 12,\n    height: 96,\n    width: 64,\n    maxWidth: 64,\n    cursor: 'pointer',\n    verticalAlign: \"top\",\n    borderLeft: \"1px \".concat(theme.palette.divider, \" solid\")\n  }, _defineProperty(_$concat2, '&:nth-of-type(7n+1)', {\n    borderLeft: 0\n  }), _defineProperty(_$concat2, '&:nth-of-type(even)', {//backgroundColor: theme.palette.action.hover\n  }), _$concat2)), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body, \":hover\"), {//backgroundColor: \"#eee\"\n  }), _ref2;\n});\nvar StyledTableRow$2 = styled(TableRow)(function (_ref3) {\n  _ref3.theme;\n  return _defineProperty({}, '&:last-child td, &:last-child th', {\n    border: 0\n  });\n});\n\nfunction MonthModeView(props) {\n  var rows = props.rows;\n      props.locale;\n      var options = props.options,\n      columns = props.columns,\n      legacyStyle = props.legacyStyle,\n      searchResult = props.searchResult,\n      onTaskClick = props.onTaskClick,\n      onCellClick = props.onCellClick,\n      onEventsChange = props.onEventsChange;\n  var theme = useTheme();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useTranslation = useTranslation(['common']);\n      _useTranslation.t;\n\n  var today = new Date();\n  var currentDaySx = {\n    width: 24,\n    height: 22,\n    margin: 'auto',\n    display: 'block',\n    paddingTop: '2px',\n    borderRadius: '50%' //padding: '1px 7px',\n    //width: 'fit-content'\n\n  };\n\n  var onCellDragOver = function onCellDragOver(e) {\n    e.preventDefault();\n  };\n\n  var onCellDragStart = function onCellDragStart(e, item, rowIndex) {\n    setState(_objectSpread$3(_objectSpread$3({}, state), {}, {\n      itemTransfert: {\n        item: item,\n        rowIndex: rowIndex\n      }\n    }));\n  };\n\n  var onCellDragEnter = function onCellDragEnter(e, elementId, rowIndex) {\n    e.preventDefault();\n    setState(_objectSpread$3(_objectSpread$3({}, state), {}, {\n      transfertTarget: {\n        elementId: elementId,\n        rowIndex: rowIndex\n      }\n    }));\n  };\n\n  var onCellDragEnd = function onCellDragEnd(e) {\n    e.preventDefault();\n    if (!state.itemTransfert && !state.transfertTarget) return;\n    var transfert = state.itemTransfert;\n    var transfertTarget = state.transfertTarget;\n    var rowsCopy = Array.from(rows);\n    var rowInd = rowsCopy.findIndex(function (d) {\n      return d.id === transfertTarget.rowIndex;\n    });\n\n    if (rowInd !== -1) {\n      var _rowsCopy$rowInd, _rowsCopy$rowInd$days;\n\n      var dayInd = (_rowsCopy$rowInd = rowsCopy[rowInd]) === null || _rowsCopy$rowInd === void 0 ? void 0 : (_rowsCopy$rowInd$days = _rowsCopy$rowInd.days) === null || _rowsCopy$rowInd$days === void 0 ? void 0 : _rowsCopy$rowInd$days.findIndex(function (d) {\n        return d.id === transfertTarget.elementId;\n      });\n\n      if (dayInd !== -1) {\n        var _rowsCopy$rowInd2, _transfert$item, _transfert$item$date, _transfert$item2;\n\n        var day = (_rowsCopy$rowInd2 = rowsCopy[rowInd]) === null || _rowsCopy$rowInd2 === void 0 ? void 0 : _rowsCopy$rowInd2.days[dayInd];\n        var splittedDate = transfert === null || transfert === void 0 ? void 0 : (_transfert$item = transfert.item) === null || _transfert$item === void 0 ? void 0 : (_transfert$item$date = _transfert$item.date) === null || _transfert$item$date === void 0 ? void 0 : _transfert$item$date.split('-');\n\n        if (!(transfert !== null && transfert !== void 0 && (_transfert$item2 = transfert.item) !== null && _transfert$item2 !== void 0 && _transfert$item2.day)) {\n          // Get day of the date (DD)\n          transfert.item.day = parseInt(splittedDate[2]);\n        }\n\n        if (transfert.item.day !== (day === null || day === void 0 ? void 0 : day.day)) {\n          var itemCheck = day.data.findIndex(function (item) {\n            return item.day === transfert.item.day && item.label === transfert.item.label;\n          });\n\n          if (itemCheck === -1) {\n            var _prevDayEvents$data, _prevDayEvents$data2;\n\n            var prevDayEvents = rowsCopy[transfert.rowIndex].days.find(function (d) {\n              return d.day === transfert.item.day;\n            });\n            var itemIndexToRemove = prevDayEvents === null || prevDayEvents === void 0 ? void 0 : (_prevDayEvents$data = prevDayEvents.data) === null || _prevDayEvents$data === void 0 ? void 0 : _prevDayEvents$data.findIndex(function (i) {\n              return i.id === transfert.item.id;\n            });\n\n            if (itemIndexToRemove === undefined || itemIndexToRemove === -1) {\n              return;\n            }\n\n            prevDayEvents === null || prevDayEvents === void 0 ? void 0 : (_prevDayEvents$data2 = prevDayEvents.data) === null || _prevDayEvents$data2 === void 0 ? void 0 : _prevDayEvents$data2.splice(itemIndexToRemove, 1);\n            transfert.item.day = day === null || day === void 0 ? void 0 : day.day;\n            transfert.item.date = format(day === null || day === void 0 ? void 0 : day.date, 'yyyy-MM-dd');\n            day.data.push(transfert.item);\n            setState(_objectSpread$3(_objectSpread$3({}, state), {}, {\n              rows: rowsCopy,\n              itemTransfert: null,\n              transfertTarget: null\n            }));\n            onEventsChange && onEventsChange(transfert.item);\n          }\n        }\n      }\n    }\n  };\n\n  var handleCellClick = function handleCellClick(event, row, day) {\n    var _day$data;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    if ((day === null || day === void 0 ? void 0 : (_day$data = day.data) === null || _day$data === void 0 ? void 0 : _day$data.length) === 0 && onCellClick) {\n      onCellClick(event, row, day);\n    }\n  };\n  /**\n   * @name renderTask\n   * @description\n   * @param tasks\n   * @param rowId\n   * @return {unknown[] | undefined}\n   */\n\n\n  var renderTask = function renderTask() {\n    var tasks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var rowId = arguments.length > 1 ? arguments[1] : undefined;\n    return tasks === null || tasks === void 0 ? void 0 : tasks.map(function (task, index) {\n      var condition = searchResult ? (task === null || task === void 0 ? void 0 : task.groupLabel) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.groupLabel) || (task === null || task === void 0 ? void 0 : task.user) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.user) : !searchResult;\n      return condition && /*#__PURE__*/React.createElement(EventItem, {\n        isMonthMode: true,\n        event: task,\n        rowId: rowId,\n        elevation: 0,\n        boxSx: {\n          px: 0.5\n        },\n        key: \"item-d-\".concat(task === null || task === void 0 ? void 0 : task.id, \"-\").concat(rowId),\n        onClick: function onClick(e) {\n          return handleTaskClick(e, task);\n        },\n        onDragStart: function onDragStart(e) {\n          return onCellDragStart(e, task, rowId);\n        },\n        sx: {\n          width: \"100%\",\n          py: 0,\n          my: .3,\n          color: \"#fff\",\n          display: 'inline-flex',\n          backgroundColor: (task === null || task === void 0 ? void 0 : task.color) || theme.palette.primary.light\n        }\n      });\n    });\n  };\n  /**\n   * @name handleTaskClick\n   * @description\n   * @param event\n   * @param task\n   * @return void\n   */\n\n\n  var handleTaskClick = function handleTaskClick(event, task) {\n    event.preventDefault();\n    event.stopPropagation();\n    onTaskClick && onTaskClick(event, task);\n  };\n\n  return /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    sx: {\n      boxShadow: 'none'\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    \"aria-label\": \"simple table\",\n    stickyHeader: true,\n    sx: {\n      minWidth: (options === null || options === void 0 ? void 0 : options.minWidth) || 650\n    }\n  }, legacyStyle && /*#__PURE__*/React.createElement(TableHead, {\n    sx: {\n      height: 24\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableRow$2, null, columns === null || columns === void 0 ? void 0 : columns.map(function (column, index) {\n    return /*#__PURE__*/React.createElement(StyledTableCell$2, {\n      align: \"center\",\n      key: (column === null || column === void 0 ? void 0 : column.headerName) + '-' + index\n    }, column === null || column === void 0 ? void 0 : column.headerName);\n  }))), /*#__PURE__*/React.createElement(TableBody, null, rows === null || rows === void 0 ? void 0 : rows.map(function (row, index) {\n    var _row$days;\n\n    return /*#__PURE__*/React.createElement(StyledTableRow$2, {\n      key: \"row-\".concat(row.id, \"-\").concat(index),\n      sx: {\n        '&:last-child th': {\n          border: 0,\n          borderLeft: \"1px \".concat(theme.palette.divider, \" solid\"),\n          '&:firs-child': {\n            borderLeft: 0\n          }\n        }\n      }\n    }, row === null || row === void 0 ? void 0 : (_row$days = row.days) === null || _row$days === void 0 ? void 0 : _row$days.map(function (day, indexD) {\n      var _columns$indexD, _columns$indexD$heade, _day$data2, _day$data3;\n\n      var currentDay = day.day === today.getUTCDate() && isSameMonth(day.date, today);\n      return /*#__PURE__*/React.createElement(StyledTableCell$2, {\n        scope: \"row\",\n        align: \"center\",\n        component: \"th\",\n        sx: {\n          px: 0.5,\n          position: 'relative'\n        },\n        key: \"day-\".concat(day.id),\n        onDragEnd: onCellDragEnd,\n        onDragOver: onCellDragOver,\n        onDragEnter: function onDragEnter(e) {\n          return onCellDragEnter(e, day.id, row.id);\n        },\n        onClick: function onClick(event) {\n          return handleCellClick(event, row, day);\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        sx: {\n          height: '100%',\n          overflowY: 'visible'\n        }\n      }, !legacyStyle && index === 0 && ((_columns$indexD = columns[indexD]) === null || _columns$indexD === void 0 ? void 0 : (_columns$indexD$heade = _columns$indexD.headerName) === null || _columns$indexD$heade === void 0 ? void 0 : _columns$indexD$heade.toUpperCase()), \".\", /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        sx: _objectSpread$3(_objectSpread$3({}, currentDaySx), {}, {\n          background: currentDay && alpha(theme.palette.primary.main, 1),\n          color: currentDay && '#fff'\n        })\n      }, day.day), (day === null || day === void 0 ? void 0 : (_day$data2 = day.data) === null || _day$data2 === void 0 ? void 0 : _day$data2.length) > 0 && renderTask(day === null || day === void 0 ? void 0 : day.data, row.id), legacyStyle && (day === null || day === void 0 ? void 0 : (_day$data3 = day.data) === null || _day$data3 === void 0 ? void 0 : _day$data3.length) === 0 && /*#__PURE__*/React.createElement(EventNoteRoundedIcon, {\n        fontSize: \"small\",\n        htmlColor: theme.palette.divider\n      })));\n    }));\n  }))));\n}\n\nMonthModeView.propTypes = {\n  columns: PropTypes.array,\n  rows: PropTypes.array,\n  date: PropTypes.string,\n  options: PropTypes.object,\n  onDateChange: PropTypes.func,\n  onTaskClick: PropTypes.func,\n  onCellClick: PropTypes.func\n};\nMonthModeView.defaultProps = {\n  columns: [],\n  rows: []\n};\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar StyledTableCell$1 = styled(TableCell)(function (_ref) {\n  var _$concat2, _ref2;\n\n  _ref.theme;\n  return _ref2 = {}, _defineProperty(_ref2, \"&.\".concat(tableCellClasses.head), _defineProperty({\n    paddingLeft: 4,\n    paddingRight: 4,\n    borderTop: \"1px solid #ccc !important\",\n    borderBottom: \"1px solid #ccc !important\",\n    borderLeft: \"1px solid #ccc !important\"\n  }, '&:nth-of-type(1)', {\n    borderLeft: \"0px !important\"\n  })), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body), (_$concat2 = {\n    fontSize: 12,\n    height: 16,\n    width: 128,\n    maxWidth: 128,\n    cursor: 'pointer',\n    borderLeft: \"1px solid #ccc\"\n  }, _defineProperty(_$concat2, '&:nth-of-type(1)', {\n    width: 80,\n    maxWidth: 80\n  }), _defineProperty(_$concat2, '&:nth-of-type(8n+1)', {\n    borderLeft: 0\n  }), _$concat2)), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body, \":hover\"), {\n    backgroundColor: \"#eee\"\n  }), _ref2;\n});\nvar StyledTableRow$1 = styled(TableRow)(function (_ref3) {\n  _ref3.theme;\n  return _defineProperty({}, '&:last-child td, &:last-child th', {\n    border: 0\n  });\n});\nvar StyledTableContainer$1 = styled(TableContainer)(function (_ref5) {\n  var _ref6;\n\n  _ref5.theme;\n  return _ref6 = {}, _defineProperty(_ref6, '&::-webkit-scrollbar', {\n    width: 7,\n    height: 6\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-track', {\n    WebkitBoxShadow: \"inset 0 0 6px rgb(125, 161, 196, 0.5)\"\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-thumb', {\n    WebkitBorderRadius: 4,\n    borderRadius: 4,\n    background: \"rgba(0, 172, 193, .5)\",\n    WebkitBoxShadow: \"inset 0 0 6px rgba(25, 118, 210, .5)\"\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-thumb:window-inactive', {\n    background: \"rgba(125, 161, 196, 0.5)\"\n  }), _ref6;\n});\n\nfunction WeekModeView(props) {\n  var options = props.options,\n      columns = props.columns,\n      rows = props.rows,\n      searchResult = props.searchResult,\n      onTaskClick = props.onTaskClick,\n      onCellClick = props.onCellClick,\n      onEventsChange = props.onEventsChange;\n  var theme = useTheme();\n\n  var _useState = useState({\n    columns: columns,\n    rows: rows\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var onCellDragOver = function onCellDragOver(e) {\n    e.preventDefault();\n  };\n\n  var onCellDragStart = function onCellDragStart(e, item, rowLabel, rowIndex, dayIndex) {\n    setState(_objectSpread$2(_objectSpread$2({}, state), {}, {\n      itemTransfert: {\n        item: item,\n        rowLabel: rowLabel,\n        rowIndex: rowIndex,\n        dayIndex: dayIndex\n      }\n    }));\n  };\n\n  var onCellDragEnter = function onCellDragEnter(e, rowLabel, rowIndex, dayIndex) {\n    e.preventDefault();\n    setState(_objectSpread$2(_objectSpread$2({}, state), {}, {\n      transfertTarget: {\n        rowLabel: rowLabel,\n        rowIndex: rowIndex,\n        dayIndex: dayIndex\n      }\n    }));\n  };\n\n  var onCellDragEnd = function onCellDragEnd(e) {\n    var _rowsData$transfertTa;\n\n    e.preventDefault();\n\n    if (!state.itemTransfert || !state.transfertTarget) {\n      return;\n    }\n\n    var transfert = state.itemTransfert;\n    var transfertTarget = state.transfertTarget;\n    var rowsData = Array.from(rows);\n    var day = (_rowsData$transfertTa = rowsData[transfertTarget.rowIndex]) === null || _rowsData$transfertTa === void 0 ? void 0 : _rowsData$transfertTa.days[transfertTarget.dayIndex];\n\n    if (day) {\n      var _transfertTarget$rowL, _prevEventCell$data;\n\n      var hourRegExp = /[0-9]{2}:[0-9]{2}/;\n      var foundEventIndex = day.data.findIndex(function (e) {\n        return e.id === transfert.item.id && e.startHour === transfert.item.startHour && e.endHour === transfert.item.endHour;\n      }); // Task already exists in the data array of the chosen cell\n\n      if (foundEventIndex !== -1) {\n        return;\n      } // Event cell item to transfert\n\n\n      var prevEventCell = rowsData[transfert.rowIndex].days[transfert.dayIndex]; // Timeline label (00:00 am, 01:00 am, etc.)\n\n      var label = (_transfertTarget$rowL = transfertTarget.rowLabel) === null || _transfertTarget$rowL === void 0 ? void 0 : _transfertTarget$rowL.toUpperCase();\n      var hourLabel = hourRegExp.exec(label)[0]; // Event's end hour\n\n      var endHour = hourRegExp.exec(transfert.item.endHour)[0];\n      var endHourDate = parse(endHour, 'HH:mm', day.date); // Event start hour\n\n      var startHour = hourRegExp.exec(transfert.item.startHour)[0];\n      var startHourDate = parse(startHour, 'HH:mm', day.date); // Minutes difference between end and start event hours\n\n      var minutesDiff = differenceInMinutes(endHourDate, startHourDate); // New event end hour according to it new cell\n\n      var newEndHour = add(parse(hourLabel, 'HH:mm', day.date), {\n        minutes: minutesDiff\n      });\n\n      if (!isValid(startHourDate)) {\n        startHourDate = day.date;\n        minutesDiff = differenceInMinutes(endHourDate, startHourDate);\n        newEndHour = add(parse(hourLabel, 'HH:mm', day.date), {\n          minutes: minutesDiff\n        });\n      }\n\n      prevEventCell === null || prevEventCell === void 0 ? void 0 : (_prevEventCell$data = prevEventCell.data) === null || _prevEventCell$data === void 0 ? void 0 : _prevEventCell$data.splice(transfert.item.itemIndex, 1);\n      transfert.item.startHour = label;\n      transfert.item.endHour = format(newEndHour, 'HH:mm aaa');\n      transfert.item.date = format(day.date, 'yyyy-MM-dd');\n      day.data.push(transfert.item);\n      setState(_objectSpread$2(_objectSpread$2({}, state), {}, {\n        rows: rowsData\n      }));\n      onEventsChange && onEventsChange(transfert.item);\n    }\n  };\n\n  var handleCellClick = function handleCellClick(event, row, day) {\n    event.preventDefault();\n    event.stopPropagation(); //setState({...state, activeItem: day})\n\n    onCellClick && onCellClick(event, row, day);\n  };\n  /**\n   * @name renderTask\n   * @description\n   * @param tasks\n   * @param rowLabel\n   * @param rowIndex\n   * @param dayIndex\n   * @return {unknown[] | undefined}\n   */\n\n\n  var renderTask = function renderTask(tasks, rowLabel, rowIndex, dayIndex) {\n    return tasks === null || tasks === void 0 ? void 0 : tasks.map(function (task, itemIndex) {\n      var condition = searchResult ? (task === null || task === void 0 ? void 0 : task.groupLabel) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.groupLabel) || (task === null || task === void 0 ? void 0 : task.user) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.user) : !searchResult;\n      return condition && /*#__PURE__*/React.createElement(EventItem, {\n        event: task,\n        elevation: 0,\n        boxSx: {\n          px: 0.3\n        },\n        onClick: function onClick(e) {\n          return handleTaskClick(e, task);\n        },\n        key: \"item_id-\".concat(itemIndex, \"_r-\").concat(rowIndex, \"_d-\").concat(dayIndex),\n        onDragStart: function onDragStart(e) {\n          return onCellDragStart(e, _objectSpread$2(_objectSpread$2({}, task), {}, {\n            itemIndex: itemIndex\n          }), rowLabel, rowIndex, dayIndex);\n        },\n        sx: {\n          py: 0,\n          mb: .5,\n          color: \"#fff\",\n          backgroundColor: (task === null || task === void 0 ? void 0 : task.color) || theme.palette.primary.light\n        }\n      });\n    });\n  };\n  /**\n   * @name handleTaskClick\n   * @description\n   * @param event\n   * @param task\n   * @return void\n   */\n\n\n  var handleTaskClick = function handleTaskClick(event, task) {\n    event.preventDefault();\n    event.stopPropagation();\n    onTaskClick && onTaskClick(event, task);\n  };\n\n  return /*#__PURE__*/React.createElement(StyledTableContainer$1, {\n    component: Paper,\n    sx: {\n      maxHeight: (options === null || options === void 0 ? void 0 : options.maxHeight) || 540\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    \"aria-label\": \"simple table\",\n    stickyHeader: true,\n    sx: {\n      minWidth: options.minWidth || 540\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    sx: {\n      height: 24\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableRow$1, null, /*#__PURE__*/React.createElement(StyledTableCell$1, {\n    align: \"left\"\n  }), columns === null || columns === void 0 ? void 0 : columns.map(function (column, index) {\n    return /*#__PURE__*/React.createElement(StyledTableCell$1, {\n      align: \"center\",\n      key: \"weekday-\".concat(column === null || column === void 0 ? void 0 : column.day, \"-\").concat(index)\n    }, column === null || column === void 0 ? void 0 : column.weekDay, \" \", column === null || column === void 0 ? void 0 : column.month, \"/\", column === null || column === void 0 ? void 0 : column.day);\n  }))), /*#__PURE__*/React.createElement(TableBody, null, rows === null || rows === void 0 ? void 0 : rows.map(function (row, rowIndex) {\n    var _row$days, _row$data, _row$days2;\n\n    var lineTasks = (_row$days = row.days) === null || _row$days === void 0 ? void 0 : _row$days.reduce(function (prev, curr) {\n      var _curr$data;\n\n      return prev + (curr === null || curr === void 0 ? void 0 : (_curr$data = curr.data) === null || _curr$data === void 0 ? void 0 : _curr$data.length);\n    }, 0);\n    return /*#__PURE__*/React.createElement(StyledTableRow$1, {\n      key: \"timeline-\".concat(rowIndex),\n      sx: {\n        '&:last-child td, &:last-child th': {\n          border: 0\n        }\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      title: \"\".concat(lineTasks, \" event\").concat(lineTasks > 1 ? 's' : '', \" on this week timeline\")\n    }, /*#__PURE__*/React.createElement(StyledTableCell$1, {\n      scope: \"row\",\n      align: \"center\",\n      component: \"th\",\n      sx: {\n        px: 1\n      },\n      onClick: function onClick(event) {\n        return handleCellClick(event, row);\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\"\n    }, row === null || row === void 0 ? void 0 : row.label), (row === null || row === void 0 ? void 0 : (_row$data = row.data) === null || _row$data === void 0 ? void 0 : _row$data.length) > 0 && renderTask(row === null || row === void 0 ? void 0 : row.data, row.id))), row === null || row === void 0 ? void 0 : (_row$days2 = row.days) === null || _row$days2 === void 0 ? void 0 : _row$days2.map(function (day, dayIndex) {\n      var _day$data;\n\n      return /*#__PURE__*/React.createElement(StyledTableCell$1, {\n        key: day === null || day === void 0 ? void 0 : day.id,\n        scope: \"row\",\n        align: \"center\",\n        component: \"th\",\n        sx: {\n          px: .3,\n          py: .5 //backgroundColor: (\n          //  state?.activeItem?.id === day?.id ? theme.palette.action.hover : 'inherit'\n          //)\n\n        },\n        onDragEnd: onCellDragEnd,\n        onDragOver: onCellDragOver,\n        onDragEnter: function onDragEnter(e) {\n          return onCellDragEnter(e, row === null || row === void 0 ? void 0 : row.label, rowIndex, dayIndex);\n        },\n        onClick: function onClick(event) {\n          return handleCellClick(event, _objectSpread$2({\n            rowIndex: rowIndex\n          }, row), _objectSpread$2({\n            dayIndex: dayIndex\n          }, day));\n        }\n      }, (day === null || day === void 0 ? void 0 : (_day$data = day.data) === null || _day$data === void 0 ? void 0 : _day$data.length) > 0 && renderTask(day === null || day === void 0 ? void 0 : day.data, row === null || row === void 0 ? void 0 : row.label, rowIndex, dayIndex));\n    }));\n  }))));\n}\n\nWeekModeView.propTypes = {\n  events: PropTypes.array,\n  columns: PropTypes.array,\n  rows: PropTypes.array,\n  date: PropTypes.string,\n  options: PropTypes.object,\n  searchResult: PropTypes.object,\n  onDateChange: PropTypes.func.isRequired,\n  onTaskClick: PropTypes.func.isRequired,\n  onCellClick: PropTypes.func.isRequired,\n  onEventsChange: PropTypes.func.isRequired\n};\nWeekModeView.defaultProps = {};\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar StyledTableCell = styled$1(TableCell)(function (_ref) {\n  var _ref2;\n\n  _ref.theme;\n  return _ref2 = {}, _defineProperty(_ref2, \"&.\".concat(tableCellClasses.head), _defineProperty({\n    paddingLeft: 4,\n    paddingRight: 4,\n    borderTop: \"1px solid #ccc !important\",\n    borderBottom: \"1px solid #ccc !important\",\n    borderLeft: \"1px solid #ccc !important\"\n  }, '&:nth-of-type(1)', {\n    borderLeft: \"0px !important\"\n  })), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body), _defineProperty({\n    fontSize: 12,\n    height: 16,\n    width: 128,\n    maxWidth: 128,\n    cursor: 'pointer',\n    borderLeft: \"1px solid #ccc\"\n  }, '&:nth-of-type(1)', {\n    borderLeft: 0\n  })), _defineProperty(_ref2, \"&.\".concat(tableCellClasses.body, \":hover\"), {\n    backgroundColor: \"#eee\"\n  }), _ref2;\n});\nvar StyledTableRow = styled$1(TableRow)(function (_ref3) {\n  _ref3.theme;\n  return _defineProperty({}, '&:last-child td, &:last-child th', {\n    border: 0\n  });\n});\nvar StyledTableContainer = styled$1(TableContainer)(function (_ref5) {\n  var _ref6;\n\n  _ref5.theme;\n  return _ref6 = {}, _defineProperty(_ref6, '&::-webkit-scrollbar', {\n    width: 7,\n    height: 6\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-track', {\n    WebkitBoxShadow: \"inset 0 0 6px rgb(125, 161, 196, 0.5)\"\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-thumb', {\n    WebkitBorderRadius: 4,\n    borderRadius: 4,\n    background: \"rgba(0, 172, 193, .5)\",\n    WebkitBoxShadow: \"inset 0 0 6px rgba(25, 118, 210, .5)\"\n  }), _defineProperty(_ref6, '&::-webkit-scrollbar-thumb:window-inactive', {\n    background: \"rgba(125, 161, 196, 0.5)\"\n  }), _ref6;\n});\n\nfunction DayModeView(props) {\n  var options = props.options,\n      columns = props.columns,\n      rows = props.rows,\n      searchResult = props.searchResult,\n      onTaskClick = props.onTaskClick,\n      onCellClick = props.onCellClick,\n      onEventsChange = props.onEventsChange;\n  var theme = useTheme();\n\n  var _useState = useState({\n    columns: columns,\n    rows: rows\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n  /**\n   * @name onCellDragOver\n   * @param e\n   * @return void\n   */\n\n\n  var onCellDragOver = function onCellDragOver(e) {\n    e.preventDefault();\n  };\n  /**\n   * @name onCellDragStart\n   * @description\n   * @param e\n   * @param item\n   * @param rowLabel\n   * @param rowIndex\n   * @param dayIndex\n   * @return void\n   */\n\n\n  var onCellDragStart = function onCellDragStart(e, item, rowLabel, rowIndex, dayIndex) {\n    setState(_objectSpread$1(_objectSpread$1({}, state), {}, {\n      itemTransfert: {\n        item: item,\n        rowLabel: rowLabel,\n        rowIndex: rowIndex,\n        dayIndex: dayIndex\n      }\n    }));\n  };\n  /**\n   * @name onCellDragEnter\n   * @description\n   * @param e\n   * @param rowLabel\n   * @param rowIndex\n   * @param dayIndex\n   * @return void\n   */\n\n\n  var onCellDragEnter = function onCellDragEnter(e, rowLabel, rowIndex, dayIndex) {\n    e.preventDefault();\n    setState(_objectSpread$1(_objectSpread$1({}, state), {}, {\n      transfertTarget: {\n        rowLabel: rowLabel,\n        rowIndex: rowIndex,\n        dayIndex: dayIndex\n      }\n    }));\n  };\n  /**\n   * @name onCellDragEnd\n   * @description\n   * @param e\n   * @return void\n   */\n\n\n  var onCellDragEnd = function onCellDragEnd(e) {\n    var _rowsData$transfertTa;\n\n    e.preventDefault();\n\n    if (!state.itemTransfert || !state.transfertTarget) {\n      return;\n    }\n\n    var transfert = state.itemTransfert;\n    var transfertTarget = state.transfertTarget;\n    var rowsData = Array.from(rows);\n    var day = (_rowsData$transfertTa = rowsData[transfertTarget.rowIndex]) === null || _rowsData$transfertTa === void 0 ? void 0 : _rowsData$transfertTa.days[transfertTarget.dayIndex];\n\n    if (day) {\n      var _transfertTarget$rowL, _prevEventCell$data, _transfert$item;\n\n      var hourRegExp = /[0-9]{2}:[0-9]{2}/;\n      var foundEventIndex = day.data.findIndex(function (e) {\n        return e.id === transfert.item.id && e.startHour === transfert.item.startHour && e.endHour === transfert.item.endHour;\n      }); // Task already exists in the data array of the chosen cell\n\n      if (foundEventIndex !== -1) {\n        return;\n      } // Event cell item to transfert\n\n\n      var prevEventCell = rowsData[transfert.rowIndex].days[transfert.dayIndex]; // Timeline label (00:00 am, 01:00 am, etc.)\n\n      var label = (_transfertTarget$rowL = transfertTarget.rowLabel) === null || _transfertTarget$rowL === void 0 ? void 0 : _transfertTarget$rowL.toUpperCase();\n      var hourLabel = hourRegExp.exec(label)[0]; // Event's end hour\n\n      var endHour = hourRegExp.exec(transfert.item.endHour)[0];\n      var endHourDate = parse(endHour, 'HH:mm', day.date); // Event start hour\n\n      var startHour = hourRegExp.exec(transfert.item.startHour)[0];\n      var startHourDate = parse(startHour, 'HH:mm', day.date); // Minutes difference between end and start event hours\n\n      var minutesDiff = differenceInMinutes(endHourDate, startHourDate); // New event end hour according to it new cell\n\n      var newEndHour = add(parse(hourLabel, 'HH:mm', day.date), {\n        minutes: minutesDiff\n      });\n\n      if (!isValid(startHourDate)) {\n        startHourDate = day.date;\n        minutesDiff = differenceInMinutes(endHourDate, startHourDate);\n        newEndHour = add(parse(hourLabel, 'HH:mm', day.date), {\n          minutes: minutesDiff\n        });\n      }\n\n      prevEventCell === null || prevEventCell === void 0 ? void 0 : (_prevEventCell$data = prevEventCell.data) === null || _prevEventCell$data === void 0 ? void 0 : _prevEventCell$data.splice(transfert === null || transfert === void 0 ? void 0 : (_transfert$item = transfert.item) === null || _transfert$item === void 0 ? void 0 : _transfert$item.itemIndex, 1);\n      transfert.item.startHour = label;\n      transfert.item.endHour = format(newEndHour, 'HH:mm aaa');\n      transfert.item.date = format(day.date, 'yyyy-MM-dd');\n      day.data.push(transfert.item);\n      setState(_objectSpread$1(_objectSpread$1({}, state), {}, {\n        rows: rowsData\n      }));\n      onEventsChange && onEventsChange(transfert.item);\n    }\n  };\n  /**\n   * @name handleCellClick\n   * @description\n   * @param event\n   * @param row\n   * @param day\n   * @return void\n   */\n\n\n  var handleCellClick = function handleCellClick(event, row, day) {\n    event.preventDefault();\n    event.stopPropagation(); //setState({...state, activeItem: day})\n\n    onCellClick && onCellClick(event, row, day);\n  };\n  /**\n   * @name renderTask\n   * @description\n   * @param tasks\n   * @param rowLabel\n   * @param rowIndex\n   * @param dayIndex\n   * @return {unknown[] | undefined}\n   */\n\n\n  var renderTask = function renderTask(tasks, rowLabel, rowIndex, dayIndex) {\n    return tasks === null || tasks === void 0 ? void 0 : tasks.map(function (task, itemIndex) {\n      var condition = searchResult ? (task === null || task === void 0 ? void 0 : task.groupLabel) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.groupLabel) || (task === null || task === void 0 ? void 0 : task.user) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.user) : !searchResult;\n      return condition && /*#__PURE__*/React.createElement(EventItem, {\n        draggable: true,\n        event: task,\n        elevation: 0,\n        boxSx: {\n          px: 0.3\n        },\n        onClick: function onClick(e) {\n          return handleTaskClick(e, task);\n        },\n        key: \"item_id-\".concat(itemIndex, \"_r-\").concat(rowIndex, \"_d-\").concat(dayIndex),\n        onDragStart: function onDragStart(e) {\n          return onCellDragStart(e, _objectSpread$1(_objectSpread$1({}, task), {}, {\n            itemIndex: itemIndex\n          }), rowLabel, rowIndex, dayIndex);\n        },\n        sx: {\n          py: 0,\n          mb: .5,\n          color: \"#fff\",\n          backgroundColor: (task === null || task === void 0 ? void 0 : task.color) || theme.palette.primary.light\n        }\n      });\n    });\n  };\n  /**\n   * @name handleTaskClick\n   * @description\n   * @param event\n   * @param task\n   * @return void\n   */\n\n\n  var handleTaskClick = function handleTaskClick(event, task) {\n    event.preventDefault();\n    event.stopPropagation();\n    onTaskClick && onTaskClick(event, task);\n  };\n\n  return /*#__PURE__*/React.createElement(StyledTableContainer, {\n    component: Paper,\n    sx: {\n      maxHeight: (options === null || options === void 0 ? void 0 : options.maxHeight) || 540\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    \"aria-label\": \"simple table\",\n    stickyHeader: true,\n    sx: {\n      minWidth: options.minWidth || 540\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    sx: {\n      height: 24\n    }\n  }, /*#__PURE__*/React.createElement(StyledTableRow, null, /*#__PURE__*/React.createElement(StyledTableCell, {\n    align: \"left\"\n  }), columns === null || columns === void 0 ? void 0 : columns.map(function (column, index) {\n    return /*#__PURE__*/React.createElement(StyledTableCell, {\n      align: \"center\",\n      colSpan: 2,\n      key: \"weekday-\".concat(column === null || column === void 0 ? void 0 : column.day, \"-\").concat(index)\n    }, column === null || column === void 0 ? void 0 : column.weekDay, \" \", column === null || column === void 0 ? void 0 : column.month, \"/\", column === null || column === void 0 ? void 0 : column.day);\n  }))), /*#__PURE__*/React.createElement(TableBody, null, rows === null || rows === void 0 ? void 0 : rows.map(function (row, rowIndex) {\n    var _row$days, _row$data, _row$days2;\n\n    var lineTasks = (_row$days = row.days) === null || _row$days === void 0 ? void 0 : _row$days.reduce(function (prev, curr) {\n      var _curr$data;\n\n      return prev + (curr === null || curr === void 0 ? void 0 : (_curr$data = curr.data) === null || _curr$data === void 0 ? void 0 : _curr$data.length);\n    }, 0);\n    return /*#__PURE__*/React.createElement(StyledTableRow, {\n      key: \"timeline-\".concat(rowIndex),\n      sx: {\n        '&:last-child td, &:last-child th': {\n          border: 0\n        }\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      placement: \"right\",\n      title: \"\".concat(lineTasks, \" event\").concat(lineTasks > 1 ? 's' : '', \" on this week timeline\")\n    }, /*#__PURE__*/React.createElement(StyledTableCell, {\n      scope: \"row\",\n      align: \"center\",\n      component: \"th\",\n      sx: {\n        px: 1\n      },\n      onClick: function onClick(event) {\n        return handleCellClick(event, row);\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\"\n    }, row === null || row === void 0 ? void 0 : row.label), (row === null || row === void 0 ? void 0 : (_row$data = row.data) === null || _row$data === void 0 ? void 0 : _row$data.length) > 0 && renderTask(row === null || row === void 0 ? void 0 : row.data, row.id))), row === null || row === void 0 ? void 0 : (_row$days2 = row.days) === null || _row$days2 === void 0 ? void 0 : _row$days2.map(function (day, dayIndex) {\n      var _day$data;\n\n      return /*#__PURE__*/React.createElement(StyledTableCell, {\n        key: day === null || day === void 0 ? void 0 : day.id,\n        scope: \"row\",\n        align: \"center\",\n        component: \"th\",\n        colSpan: 2,\n        sx: {\n          px: .3,\n          py: .5\n        },\n        onDragEnd: onCellDragEnd,\n        onDragOver: onCellDragOver,\n        onDragEnter: function onDragEnter(e) {\n          return onCellDragEnter(e, row === null || row === void 0 ? void 0 : row.label, rowIndex, dayIndex);\n        },\n        onClick: function onClick(event) {\n          return handleCellClick(event, _objectSpread$1({\n            rowIndex: rowIndex\n          }, row), _objectSpread$1({\n            dayIndex: dayIndex\n          }, day));\n        }\n      }, (day === null || day === void 0 ? void 0 : (_day$data = day.data) === null || _day$data === void 0 ? void 0 : _day$data.length) > 0 && renderTask(day === null || day === void 0 ? void 0 : day.data, row === null || row === void 0 ? void 0 : row.label, rowIndex, dayIndex));\n    }));\n  }))));\n}\n\nDayModeView.propTypes = {\n  events: PropTypes.array,\n  columns: PropTypes.array,\n  rows: PropTypes.array,\n  date: PropTypes.string,\n  options: PropTypes.object,\n  searchResult: PropTypes.object,\n  onDateChange: PropTypes.func.isRequired,\n  onTaskClick: PropTypes.func.isRequired,\n  onCellClick: PropTypes.func.isRequired,\n  onEventsChange: PropTypes.func.isRequired\n};\nDayModeView.defaultProps = {};\n\nvar StyledContainer = styled(Typography)(function (_ref) {\n  var _ref2;\n\n  _ref.theme;\n  return _ref2 = {}, _defineProperty(_ref2, '&::-webkit-scrollbar', {\n    width: 7,\n    height: 6\n  }), _defineProperty(_ref2, '&::-webkit-scrollbar-track', {\n    WebkitBoxShadow: \"inset 0 0 6px rgb(125, 161, 196, 0.5)\"\n  }), _defineProperty(_ref2, '&::-webkit-scrollbar-thumb', {\n    WebkitBorderRadius: 4,\n    borderRadius: 4,\n    background: \"rgba(0, 172, 193, .5)\",\n    WebkitBoxShadow: \"inset 0 0 6px rgba(25, 118, 210, .5)\"\n  }), _defineProperty(_ref2, '&::-webkit-scrollbar-thumb:window-inactive', {\n    background: \"rgba(125, 161, 196, 0.5)\"\n  }), _ref2;\n});\n\nfunction TimeLineModeView(props) {\n  var _fileredEvents2;\n\n  var options = props.options,\n      rows = props.rows,\n      searchResult = props.searchResult,\n      onTaskClick = props.onTaskClick;\n  var dateFnsLocale = useContext(DateFnsLocaleContext);\n  /**\n   * @name handleTaskClick\n   * @description\n   * @param e\n   * @param event\n   * @return void\n   */\n\n  var handleTaskClick = function handleTaskClick(event, task) {\n    event.preventDefault();\n    event.stopPropagation();\n    onTaskClick && onTaskClick(event, task);\n  };\n\n  var fileredEvents = rows === null || rows === void 0 ? void 0 : rows.sort(function (a, b) {\n    var _b$startHour;\n\n    return -(b === null || b === void 0 ? void 0 : (_b$startHour = b.startHour) === null || _b$startHour === void 0 ? void 0 : _b$startHour.localeCompare(a === null || a === void 0 ? void 0 : a.startHour));\n  });\n\n  if (searchResult) {\n    var _fileredEvents;\n\n    fileredEvents = (_fileredEvents = fileredEvents) === null || _fileredEvents === void 0 ? void 0 : _fileredEvents.filter(function (event) {\n      return (event === null || event === void 0 ? void 0 : event.groupLabel) === (searchResult === null || searchResult === void 0 ? void 0 : searchResult.groupLabel);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(StyledContainer, {\n    component: \"div\",\n    sx: {\n      overflowY: 'auto',\n      height: (options === null || options === void 0 ? void 0 : options.height) || 540,\n      maxHeight: (options === null || options === void 0 ? void 0 : options.maxHeight) || 540\n    }\n  }, /*#__PURE__*/React.createElement(Timeline, {\n    position: \"alternate\"\n  }, (_fileredEvents2 = fileredEvents) === null || _fileredEvents2 === void 0 ? void 0 : _fileredEvents2.map(function (task, index) {\n    return /*#__PURE__*/React.createElement(TimelineItem, {\n      key: \"timeline-\".concat(index),\n      sx: {\n        cursor: 'pointer'\n      },\n      onClick: function onClick(event) {\n        return handleTaskClick(event, task);\n      }\n    }, /*#__PURE__*/React.createElement(TimelineOppositeContent, {\n      sx: {\n        m: 'auto 0'\n      },\n      align: \"right\",\n      variant: \"body2\",\n      color: \"text.secondary\"\n    }, (task === null || task === void 0 ? void 0 : task.date) && format(parse(task === null || task === void 0 ? void 0 : task.date, 'yyyy-MM-dd', new Date()), 'PPP', {\n      locale: dateFnsLocale\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"caption\"\n    }, task === null || task === void 0 ? void 0 : task.startHour, \" - \", task === null || task === void 0 ? void 0 : task.endHour)), /*#__PURE__*/React.createElement(TimelineSeparator, null, /*#__PURE__*/React.createElement(TimelineConnector, null), /*#__PURE__*/React.createElement(TimelineDot, {\n      color: \"secondary\",\n      sx: {\n        backgroundColor: task === null || task === void 0 ? void 0 : task.color\n      }\n    }, (task === null || task === void 0 ? void 0 : task.icon) || /*#__PURE__*/React.createElement(ScheduleIcon, null)), /*#__PURE__*/React.createElement(TimelineConnector, null)), /*#__PURE__*/React.createElement(TimelineContent, {\n      sx: {\n        py: '12px',\n        px: 2\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      component: \"span\"\n    }, task === null || task === void 0 ? void 0 : task.label), /*#__PURE__*/React.createElement(Typography, null, task === null || task === void 0 ? void 0 : task.groupLabel)));\n  })));\n}\n\nTimeLineModeView.propTypes = {\n  events: PropTypes.array,\n  columns: PropTypes.array,\n  rows: PropTypes.array,\n  date: PropTypes.string,\n  options: PropTypes.object,\n  searchResult: PropTypes.object,\n  onDateChange: PropTypes.func.isRequired,\n  onTaskClick: PropTypes.func.isRequired,\n  onCellClick: PropTypes.func.isRequired,\n  onEventsChange: PropTypes.func.isRequired\n};\nTimeLineModeView.defaultProps = {};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n/**\n * @name Scheduler\n * @description\n * @param props\n * @constructor\n */\n\nfunction Scheduler(props) {\n  var events = props.events,\n      locale = props.locale,\n      options = props.options,\n      alertProps = props.alertProps,\n      onCellClick = props.onCellClick,\n      legacyStyle = props.legacyStyle,\n      onTaskClick = props.onTaskClick,\n      toolbarProps = props.toolbarProps,\n      onEventsChange = props.onEventsChange,\n      onAlertCloseButtonClicked = props.onAlertCloseButtonClicked;\n  var today = new Date();\n  useTheme();\n\n  var _useTranslation = useTranslation(['common']),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var weeks = [t('mon'), t('tue'), t('wed'), t('thu'), t('fri'), t('sat'), t('sun')];\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchResult = _useState4[0],\n      setSearchResult = _useState4[1];\n\n  var _useState5 = useState(today),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedDay = _useState6[0],\n      setSelectedDay = _useState6[1];\n\n  var _useState7 = useState(alertProps),\n      _useState8 = _slicedToArray(_useState7, 2),\n      alertState = _useState8[0],\n      setAlertState = _useState8[1];\n\n  var _useState9 = useState((options === null || options === void 0 ? void 0 : options.defaultMode) || 'month'),\n      _useState10 = _slicedToArray(_useState9, 2),\n      mode = _useState10[0],\n      setMode = _useState10[1];\n\n  var _useState11 = useState(getDaysInMonth(today)),\n      _useState12 = _slicedToArray(_useState11, 2),\n      daysInMonth = _useState12[0],\n      setDaysInMonth = _useState12[1];\n\n  var _useState13 = useState((options === null || options === void 0 ? void 0 : options.startWeekOn) || 'mon'),\n      _useState14 = _slicedToArray(_useState13, 2),\n      startWeekOn = _useState14[0],\n      setStartWeekOn = _useState14[1];\n\n  var _useState15 = useState(format(today, 'MMMM-yyyy')),\n      _useState16 = _slicedToArray(_useState15, 2),\n      selectedDate = _useState16[0],\n      setSelectedDate = _useState16[1];\n\n  var _useReducer = useReducer(function (state) {\n    var _options$startWeekOn;\n\n    if ((options === null || options === void 0 ? void 0 : (_options$startWeekOn = options.startWeekOn) === null || _options$startWeekOn === void 0 ? void 0 : _options$startWeekOn.toUpperCase()) === 'SUN') {\n      return [t('sun'), t('mon'), t('tue'), t('wed'), t('thu'), t('fri'), t('sat')];\n    }\n\n    return weeks;\n  }, weeks),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      weekDays = _useReducer2[0],\n      updateWeekDays = _useReducer2[1];\n\n  var isDayMode = mode.toLowerCase() === 'day';\n  var isWeekMode = mode.toLowerCase() === 'week';\n  var isMonthMode = mode.toLowerCase() === 'month';\n  var isTimelineMode = mode.toLowerCase() === 'timeline';\n  var TransitionMode = (options === null || options === void 0 ? void 0 : options.transitionMode) === 'zoom' ? Zoom : (options === null || options === void 0 ? void 0 : options.transitionMode) === 'fade' ? Fade : Slide;\n  var dateFnsLocale = enAU;\n\n  if (locale === 'fr') {\n    dateFnsLocale = fr;\n  }\n\n  if (locale === 'ko') {\n    dateFnsLocale = ko;\n  }\n\n  if (locale === 'de') {\n    dateFnsLocale = de;\n  }\n\n  if (locale === 'es') {\n    dateFnsLocale = es;\n  }\n\n  if (locale === 'ar') {\n    dateFnsLocale = ar;\n  }\n\n  if (locale === 'ja') {\n    dateFnsLocale = ja;\n  }\n\n  if (locale === 'ru') {\n    dateFnsLocale = ru;\n  }\n\n  if (locale === 'zh') {\n    dateFnsLocale = zhCN;\n  }\n  /**\n   * @name getMonthHeader\n   * @description\n   * @return {{headerClassName: string, headerAlign: string, headerName: string, field: string, flex: number, editable: boolean, id: string, sortable: boolean, align: string}[]}\n   */\n\n\n  var getMonthHeader = function getMonthHeader() {\n    //if (startWeekOn?.toUpperCase() === 'SUN') {\n    //weekDays[0] = t('sun')\n    //weekDays[1] = t('mon')\n    //}\n    return weekDays.map(function (day, i) {\n      return {\n        id: \"row-day-header-\".concat(i + 1),\n        flex: 1,\n        sortable: false,\n        editable: false,\n        align: 'center',\n        headerName: day,\n        headerAlign: 'center',\n        field: \"rowday\".concat(i + 1),\n        headerClassName: 'scheduler-theme--header'\n      };\n    });\n  };\n  /**\n   * @name getMonthRows\n   * @description\n   * @return {[id: string,  day: number, date: date, data: array]}\n   */\n\n\n  var getMonthRows = function getMonthRows() {\n    var _lastRow$days;\n\n    var rows = [],\n        daysBefore = [];\n    var iteration = getWeeksInMonth(selectedDay);\n    var startOnSunday = (startWeekOn === null || startWeekOn === void 0 ? void 0 : startWeekOn.toUpperCase()) === 'SUN' && t('sun').toUpperCase() === weekDays[0].toUpperCase();\n    var monthStartDate = startOfMonth(selectedDay); // First day of month\n\n    var monthStartDay = getDay(monthStartDate); // Index of the day in week\n\n    var dateDay = parseInt(format(monthStartDate, 'dd')); // Month start day\n    // Condition check helper\n\n    var checkCondition = function checkCondition(v) {\n      return startOnSunday ? v <= monthStartDay : v < monthStartDay;\n    };\n\n    if (monthStartDay >= 1) {\n      var _loop = function _loop(i) {\n        var subDate = sub(monthStartDate, {\n          days: monthStartDay - i + (startOnSunday ? 1 : 0)\n        });\n        var day = parseInt(format(subDate, 'dd'));\n        var data = events.filter(function (event) {\n          return isSameDay(subDate, parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date()));\n        });\n        daysBefore.push({\n          id: \"day_-\".concat(day),\n          day: day,\n          date: subDate,\n          data: data\n        });\n      };\n\n      // Add days of precedent month\n      // If Sunday is the first day of week, apply b <= monthStartDay\n      // and days: (monthStartDay-b) + 1\n      for (var i = 1; checkCondition(i); i++) {\n        _loop(i);\n      }\n    } else if (!startOnSunday) {\n      var _loop2 = function _loop2(_i) {\n        var subDate = sub(monthStartDate, {\n          days: _i\n        });\n        var day = parseInt(format(subDate, 'dd'));\n        var data = events.filter(function (event) {\n          return isSameDay(subDate, parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date()));\n        });\n        daysBefore.push({\n          id: \"day_-\".concat(day),\n          day: day,\n          date: subDate,\n          data: data\n        });\n      };\n\n      for (var _i = 6; _i > 0; _i--) {\n        _loop2(_i);\n      }\n    }\n\n    if (daysBefore.length > 0) {\n      rows.push({\n        id: 0,\n        days: daysBefore\n      });\n    } // Add days and events data\n\n\n    for (var _i2 = 0; _i2 < iteration; _i2++) {\n      var obj = [];\n\n      var _loop3 = function _loop3(j) {\n        var date = parse(\"\".concat(dateDay, \"-\").concat(selectedDate), 'dd-MMMM-yyyy', new Date());\n        var data = events.filter(function (event) {\n          return isSameDay(date, parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date()));\n        });\n        obj.push({\n          id: \"day_-\".concat(dateDay),\n          date: date,\n          data: data,\n          day: dateDay\n        });\n        dateDay++;\n      };\n\n      for (var j = 0; // This condition ensure that days will not exceed 31\n      // i === 0 ? 7 - daysBefore?.length means that we substract inserted days\n      // in the first line to 7\n      j < (_i2 === 0 ? 7 - daysBefore.length : 7) && dateDay <= daysInMonth; j++) {\n        _loop3(j);\n      }\n\n      if (_i2 === 0 && daysBefore.length > 0) {\n        rows[0].days = rows[0].days.concat(obj);\n        continue;\n      }\n\n      if (obj.length > 0) {\n        rows.push({\n          id: _i2,\n          days: obj\n        });\n      }\n    } // Check if last row is not fully filled\n\n\n    var lastRow = rows[iteration - 1];\n    var lastRowDaysdiff = 7 - (lastRow === null || lastRow === void 0 ? void 0 : (_lastRow$days = lastRow.days) === null || _lastRow$days === void 0 ? void 0 : _lastRow$days.length);\n    var lastDaysData = [];\n\n    if (lastRowDaysdiff > 0) {\n      (function () {\n        var _lastRow$days2;\n\n        var day = lastRow.days[(lastRow === null || lastRow === void 0 ? void 0 : (_lastRow$days2 = lastRow.days) === null || _lastRow$days2 === void 0 ? void 0 : _lastRow$days2.length) - 1];\n        var addDate = day.date;\n\n        for (var _i3 = dateDay; _i3 < dateDay + lastRowDaysdiff; _i3++) {\n          addDate = add(addDate, {\n            days: 1\n          });\n          var d = format(addDate, 'dd'); // eslint-disable-next-line\n\n          var data = events.filter(function (event) {\n            return isSameDay(addDate, parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date()));\n          });\n          lastDaysData.push({\n            id: \"day_-\".concat(d),\n            date: addDate,\n            day: d,\n            data: data\n          });\n        }\n\n        rows[iteration - 1].days = rows[iteration - 1].days.concat(lastDaysData);\n      })();\n    }\n\n    return rows;\n  };\n  /**\n   * @name getWeekHeader\n   * @description\n   * @return {{headerClassName: string, headerAlign: string, headerName: string, field: string, flex: number, editable: boolean, id: string, sortable: boolean, align: string}[]}\n   */\n\n\n  var getWeekHeader = function getWeekHeader() {\n    var data = [];\n    var weekStart = startOfWeek(selectedDay, {\n      weekStartsOn: startWeekOn === 'mon' ? 1 : 0\n    });\n\n    for (var i = 0; i < 7; i++) {\n      var date = add(weekStart, {\n        days: i\n      });\n      data.push({\n        date: date,\n        weekDay: format(date, 'iii', {\n          locale: dateFnsLocale\n        }),\n        day: format(date, 'dd', {\n          locale: dateFnsLocale\n        }),\n        month: format(date, 'MM', {\n          locale: dateFnsLocale\n        })\n      });\n    }\n\n    return data;\n  };\n\n  var getWeekRows = function getWeekRows() {\n    var HOURS = 24; //* 2\n\n    var data = [];\n    var dayStartHour = startOfDay(selectedDay);\n\n    var _loop4 = function _loop4(i) {\n      var id = \"line_\".concat(i);\n      var label = format(dayStartHour, 'HH:mm aaa'); //TODO Add everyday event capability\n      //if (i === 0) {\n      //id = `line_everyday`; label = 'Everyday'\n      //}\n      //TODO Place the processing bloc here if everyday capability is available\n      // ...\n\n      if (i > 0) {\n        //Start processing bloc\n        var obj = {\n          id: id,\n          label: label,\n          days: []\n        };\n        var columns = getWeekHeader(); // eslint-disable-next-line\n\n        columns.map(function (column, index) {\n          var data = events.filter(function (event) {\n            var _event$startHour;\n\n            var eventDate = parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date());\n            return isSameDay(column === null || column === void 0 ? void 0 : column.date, eventDate) && (event === null || event === void 0 ? void 0 : (_event$startHour = event.startHour) === null || _event$startHour === void 0 ? void 0 : _event$startHour.toUpperCase()) === (label === null || label === void 0 ? void 0 : label.toUpperCase());\n          });\n          obj.days.push({\n            id: \"column-\".concat(index, \"_m-\").concat(column.month, \"_d-\").concat(column.day, \"_\").concat(id),\n            date: column === null || column === void 0 ? void 0 : column.date,\n            data: data\n          });\n        }); // Label affectation\n\n        data.push(obj); // End processing bloc\n\n        dayStartHour = add(dayStartHour, {\n          minutes: 60\n        }); // 30\n      } //if (i > 0) {\n      //  dayStartHour = add(dayStartHour, {minutes: 30})\n      //}\n\n    };\n\n    for (var i = 0; i <= HOURS; i++) {\n      _loop4(i);\n    }\n\n    return data;\n  };\n\n  var getDayHeader = function getDayHeader() {\n    return [{\n      date: selectedDay,\n      weekDay: format(selectedDay, 'iii', {\n        locale: dateFnsLocale\n      }),\n      day: format(selectedDay, 'dd', {\n        locale: dateFnsLocale\n      }),\n      month: format(selectedDay, 'MM', {\n        locale: dateFnsLocale\n      })\n    }];\n  };\n\n  var getDayRows = function getDayRows() {\n    var HOURS = 24;\n    var data = [];\n    var dayStartHour = startOfDay(selectedDay);\n\n    var _loop5 = function _loop5(i) {\n      var id = \"line_\".concat(i);\n      var label = format(dayStartHour, 'HH:mm aaa');\n\n      if (i > 0) {\n        var obj = {\n          id: id,\n          label: label,\n          days: []\n        };\n        var columns = getDayHeader();\n        var column = columns[0];\n        var matchedEvents = events.filter(function (event) {\n          var _event$startHour2;\n\n          var eventDate = parse(event === null || event === void 0 ? void 0 : event.date, 'yyyy-MM-dd', new Date());\n          return isSameDay(column === null || column === void 0 ? void 0 : column.date, eventDate) && (event === null || event === void 0 ? void 0 : (_event$startHour2 = event.startHour) === null || _event$startHour2 === void 0 ? void 0 : _event$startHour2.toUpperCase()) === (label === null || label === void 0 ? void 0 : label.toUpperCase());\n        });\n        obj.days.push({\n          id: \"column-_m-\".concat(column === null || column === void 0 ? void 0 : column.month, \"_d-\").concat(column === null || column === void 0 ? void 0 : column.day, \"_\").concat(id),\n          date: column === null || column === void 0 ? void 0 : column.date,\n          data: matchedEvents\n        });\n        data.push(obj);\n        dayStartHour = add(dayStartHour, {\n          minutes: 60\n        });\n      }\n    };\n\n    for (var i = 0; i <= HOURS; i++) {\n      _loop5(i);\n    }\n\n    return data;\n  };\n\n  var getTimeLineRows = function getTimeLineRows() {\n    return (//events.filter((event) => {\n      //let eventDate = parse(event?.date, 'yyyy-MM-dd', new Date())\n      //return isSameDay(selectedDay, eventDate)\n      //})\n      events\n    );\n  };\n  /**\n   * @name handleDateChange\n   * @description\n   * @param day\n   * @param date\n   * @return void\n   */\n\n\n  var handleDateChange = function handleDateChange(day, date) {\n    setDaysInMonth(day);\n    setSelectedDay(date);\n    setSelectedDate(format(date, 'MMMM-yyyy'));\n  };\n  /**\n   * @name handleModeChange\n   * @description\n   * @param newMode\n   * @return void\n   */\n\n\n  var handleModeChange = function handleModeChange(newMode) {\n    setMode(newMode);\n  };\n  /**\n   * @name onSearchResult\n   * @description\n   * @param item\n   * @return void\n   */\n\n\n  var onSearchResult = function onSearchResult(item) {\n    setSearchResult(item);\n  };\n\n  var handleEventsChange = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(item) {\n      var eventIndex, oldObject;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              onEventsChange(item);\n              eventIndex = events.findIndex(function (e) {\n                return e.id === (item === null || item === void 0 ? void 0 : item.id);\n              });\n\n              if (eventIndex !== -1) {\n                oldObject = Object.assign({}, events[eventIndex]);\n\n                if (alertState !== null && alertState !== void 0 && alertState.showNotification && !alertState.open) {\n                  setAlertState(_objectSpread(_objectSpread({}, alertState), {}, {\n                    open: true,\n                    message: \"\\n            \".concat(item === null || item === void 0 ? void 0 : item.label, \" successfully moved from \").concat(oldObject === null || oldObject === void 0 ? void 0 : oldObject.date, \"\\n            \").concat(oldObject === null || oldObject === void 0 ? void 0 : oldObject.startHour, \" to \").concat(item === null || item === void 0 ? void 0 : item.date, \" \").concat(item === null || item === void 0 ? void 0 : item.startHour, \"\\n          \")\n                  }));\n                  setTimeout(function () {\n                    setAlertState(_objectSpread(_objectSpread({}, alertState), {}, {\n                      open: false,\n                      message: ''\n                    }));\n                  }, alertState.delay);\n                }\n              }\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleEventsChange(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (isMonthMode) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        columns: getMonthHeader(),\n        rows: getMonthRows()\n      }));\n    }\n\n    if (isWeekMode) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        columns: getWeekHeader(),\n        rows: getWeekRows()\n      }));\n    }\n\n    if (isDayMode) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        columns: getDayHeader(),\n        rows: getDayRows()\n      }));\n    }\n\n    if (isTimelineMode) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        columns: getDayHeader(),\n        rows: getTimeLineRows()\n      }));\n    } // eslint-disable-next-line\n\n  }, [mode, weekDays, daysInMonth, selectedDay, selectedDate, dateFnsLocale, i18n.language, startWeekOn]);\n  useEffect(function () {\n    if (locale !== i18n.language) {\n      //localStorage.getItem('i18nextLng')\n      localStorage.setItem('i18nextLng', locale.toLowerCase());\n      i18n.changeLanguage(locale.toLowerCase());\n      updateWeekDays();\n    }\n  }, [locale]);\n  useEffect(function () {\n    if ((options === null || options === void 0 ? void 0 : options.defaultMode) !== mode) {\n      setMode(options === null || options === void 0 ? void 0 : options.defaultMode);\n    }\n  }, [options === null || options === void 0 ? void 0 : options.defaultMode]);\n  useEffect(function () {\n    if ((options === null || options === void 0 ? void 0 : options.startWeekOn) !== startWeekOn) {\n      setStartWeekOn(options === null || options === void 0 ? void 0 : options.startWeekOn);\n    }\n\n    updateWeekDays();\n  }, [options === null || options === void 0 ? void 0 : options.startWeekOn]);\n  return /*#__PURE__*/React.createElement(Paper, {\n    variant: \"outlined\",\n    elevation: 0,\n    sx: {\n      p: 0\n    }\n  }, /*#__PURE__*/React.createElement(DateFnsLocaleContext.Provider, {\n    value: dateFnsLocale\n  }, /*#__PURE__*/React.createElement(SchedulerToolbar, {\n    today: today,\n    events: events,\n    locale: locale,\n    switchMode: mode,\n    alertProps: alertState,\n    toolbarProps: toolbarProps,\n    onDateChange: handleDateChange,\n    onModeChange: handleModeChange,\n    onSearchResult: onSearchResult,\n    onAlertCloseButtonClicked: onAlertCloseButtonClicked\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    alignItems: \"center\",\n    justifyContent: \"start\"\n  }, isMonthMode && /*#__PURE__*/React.createElement(TransitionMode, {\n    in: true\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/React.createElement(MonthModeView, {\n    locale: locale,\n    options: options,\n    date: selectedDate,\n    rows: state === null || state === void 0 ? void 0 : state.rows,\n    columns: state === null || state === void 0 ? void 0 : state.columns,\n    legacyStyle: legacyStyle,\n    onTaskClick: onTaskClick,\n    onCellClick: onCellClick,\n    searchResult: searchResult,\n    onDateChange: handleDateChange,\n    onEventsChange: handleEventsChange\n  }))), isWeekMode && /*#__PURE__*/React.createElement(TransitionMode, {\n    in: true\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/React.createElement(WeekModeView, {\n    locale: locale,\n    events: events,\n    options: options,\n    date: selectedDate,\n    rows: state === null || state === void 0 ? void 0 : state.rows,\n    columns: state === null || state === void 0 ? void 0 : state.columns,\n    onTaskClick: onTaskClick,\n    onCellClick: onCellClick,\n    searchResult: searchResult,\n    onDateChange: handleDateChange,\n    onEventsChange: handleEventsChange\n  }))), isDayMode && /*#__PURE__*/React.createElement(TransitionMode, {\n    in: true\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/React.createElement(DayModeView, {\n    locale: locale,\n    events: events,\n    options: options,\n    date: selectedDate,\n    rows: state === null || state === void 0 ? void 0 : state.rows,\n    columns: state === null || state === void 0 ? void 0 : state.columns,\n    onTaskClick: onTaskClick,\n    onCellClick: onCellClick,\n    searchResult: searchResult,\n    onDateChange: handleDateChange,\n    onEventsChange: handleEventsChange\n  })))), isTimelineMode && /*#__PURE__*/React.createElement(TransitionMode, {\n    in: true\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    alignItems: \"start\"\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/React.createElement(TimeLineModeView, {\n    events: events,\n    locale: locale,\n    options: options,\n    date: selectedDate,\n    rows: state === null || state === void 0 ? void 0 : state.rows,\n    columns: state === null || state === void 0 ? void 0 : state.columns,\n    onTaskClick: onTaskClick,\n    onCellClick: onCellClick,\n    searchResult: searchResult,\n    onDateChange: handleDateChange,\n    onEventsChange: onEventsChange\n  }))))));\n}\n\nScheduler.propTypes = {\n  events: PropTypes.array,\n  options: PropTypes.object,\n  alertProps: PropTypes.object,\n  toolbarProps: PropTypes.object,\n  onEventsChange: PropTypes.func,\n  onCellClick: PropTypes.func,\n  onTaskClick: PropTypes.func,\n  onAlertCloseButtonClicked: PropTypes.func\n};\nScheduler.defaultProps = {\n  locale: 'en',\n  legacyStyle: false\n};\n\nexport { Scheduler as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}