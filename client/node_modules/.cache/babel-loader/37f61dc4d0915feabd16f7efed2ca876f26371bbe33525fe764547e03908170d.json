{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/text_box/ui.text_editor.mask.strategy.js)\r\n * Version: 23.1.5\r\n * Build date: Wed Aug 30 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport EventsEngine from \"../../events/core/events_engine\";\nimport { addNamespace } from \"../../events/utils/index\";\nimport browser from \"../../core/utils/browser\";\nimport { clipboardText as getClipboardText } from \"../../core/utils/dom\";\nvar MASK_EVENT_NAMESPACE = \"dxMask\";\nvar BLUR_EVENT = \"blur beforedeactivate\";\nvar EMPTY_CHAR = \" \";\nvar DELETE_INPUT_TYPES = [\"deleteContentBackward\", \"deleteSoftLineBackward\", \"deleteContent\", \"deleteHardLineBackward\"];\nvar HISTORY_INPUT_TYPES = [\"historyUndo\", \"historyRedo\"];\nvar EVENT_NAMES = [\"focusIn\", \"focusOut\", \"input\", \"paste\", \"cut\", \"drop\", \"beforeInput\"];\nfunction getEmptyString(length) {\n  return EMPTY_CHAR.repeat(length);\n}\nexport default class MaskStrategy {\n  constructor(editor) {\n    this.editor = editor;\n  }\n  _editorOption() {\n    return this.editor.option(...arguments);\n  }\n  _editorInput() {\n    return this.editor._input();\n  }\n  _editorCaret(newCaret) {\n    if (!newCaret) {\n      return this.editor._caret();\n    }\n    this.editor._caret(newCaret);\n  }\n  _attachChangeEventHandler() {\n    if (!this._editorOption(\"valueChangeEvent\").split(\" \").includes(\"change\")) {\n      return;\n    }\n    var $input = this._editorInput();\n    var namespace = addNamespace(BLUR_EVENT, MASK_EVENT_NAMESPACE);\n    EventsEngine.on($input, namespace, e => {\n      this.editor._changeHandler(e);\n    });\n  }\n  _beforeInputHandler() {\n    this._previousText = this._editorOption(\"text\");\n    this._prevCaret = this._editorCaret();\n  }\n  _inputHandler(event) {\n    var {\n      originalEvent: originalEvent\n    } = event;\n    if (!originalEvent) {\n      return;\n    }\n    var {\n      inputType: inputType\n    } = originalEvent;\n    if (HISTORY_INPUT_TYPES.includes(inputType)) {\n      this._handleHistoryInputEvent();\n    } else if (DELETE_INPUT_TYPES.includes(inputType)) {\n      this._handleBackwardDeleteInputEvent();\n    } else {\n      var currentCaret = this._editorCaret();\n      if (!currentCaret.end) {\n        return;\n      }\n      this._clearSelectedText();\n      this._autoFillHandler(originalEvent);\n      this._editorCaret(currentCaret);\n      this._handleInsertTextInputEvent(originalEvent.data);\n    }\n    if (this._editorOption(\"text\") === this._previousText) {\n      event.stopImmediatePropagation();\n    }\n  }\n  _handleHistoryInputEvent() {\n    var caret = this._editorCaret();\n    this._updateEditorMask({\n      start: caret.start,\n      length: caret.end - caret.start,\n      text: \"\"\n    });\n    this._editorCaret(this._prevCaret);\n  }\n  _handleBackwardDeleteInputEvent() {\n    this._clearSelectedText();\n    var caret = this._editorCaret();\n    this.editor.setForwardDirection();\n    this.editor._adjustCaret();\n    var adjustedForwardCaret = this._editorCaret();\n    if (adjustedForwardCaret.start !== caret.start) {\n      this.editor.setBackwardDirection();\n      this.editor._adjustCaret();\n    }\n  }\n  _clearSelectedText() {\n    var _this$_prevCaret, _this$_prevCaret2;\n    var length = (null === (_this$_prevCaret = this._prevCaret) || void 0 === _this$_prevCaret ? void 0 : _this$_prevCaret.end) - (null === (_this$_prevCaret2 = this._prevCaret) || void 0 === _this$_prevCaret2 ? void 0 : _this$_prevCaret2.start) || 1;\n    var caret = this._editorCaret();\n    if (!this._isAutoFill()) {\n      this.editor.setBackwardDirection();\n      this._updateEditorMask({\n        start: caret.start,\n        length: length,\n        text: getEmptyString(length)\n      });\n    }\n  }\n  _handleInsertTextInputEvent(data) {\n    var _this$_prevCaret$star, _this$_prevCaret3;\n    var text = null !== data && void 0 !== data ? data : \"\";\n    this.editor.setForwardDirection();\n    var hasValidChars = this._updateEditorMask({\n      start: null !== (_this$_prevCaret$star = null === (_this$_prevCaret3 = this._prevCaret) || void 0 === _this$_prevCaret3 ? void 0 : _this$_prevCaret3.start) && void 0 !== _this$_prevCaret$star ? _this$_prevCaret$star : 0,\n      length: text.length || 1,\n      text: text\n    });\n    if (!hasValidChars) {\n      this._editorCaret(this._prevCaret);\n    }\n  }\n  _updateEditorMask(args) {\n    var textLength = args.text.length;\n    var processedCharsCount = this.editor._handleChain(args);\n    this.editor._displayMask();\n    if (this.editor.isForwardDirection()) {\n      var {\n        start: start,\n        end: end\n      } = this._editorCaret();\n      var correction = processedCharsCount - textLength;\n      var hasSkippedStub = processedCharsCount > 1;\n      if (hasSkippedStub && 1 === textLength) {\n        this._editorCaret({\n          start: start + correction,\n          end: end + correction\n        });\n      }\n      this.editor._adjustCaret();\n    }\n    return !!processedCharsCount;\n  }\n  _focusInHandler() {\n    this.editor._showMaskPlaceholder();\n    this.editor.setForwardDirection();\n    if (!this.editor._isValueEmpty() && this._editorOption(\"isValid\")) {\n      this.editor._adjustCaret();\n    } else {\n      var caret = this.editor._maskRulesChain.first();\n      this._caretTimeout = setTimeout(() => {\n        this._editorCaret({\n          start: caret,\n          end: caret\n        });\n      }, 0);\n    }\n  }\n  _focusOutHandler(event) {\n    this.editor._changeHandler(event);\n    if (\"onFocus\" === this._editorOption(\"showMaskMode\") && this.editor._isValueEmpty()) {\n      this._editorOption(\"text\", \"\");\n      this.editor._renderDisplayText(\"\");\n    }\n  }\n  _delHandler(event) {\n    var {\n      editor: editor\n    } = this;\n    editor._maskKeyHandler(event, () => {\n      if (!editor._hasSelection()) {\n        editor._handleKey(EMPTY_CHAR);\n      }\n    });\n  }\n  _cutHandler(event) {\n    var caret = this._editorCaret();\n    var selectedText = this._editorInput().val().substring(caret.start, caret.end);\n    this.editor._maskKeyHandler(event, () => getClipboardText(event, selectedText));\n  }\n  _dropHandler() {\n    this._clearDragTimer();\n    this._dragTimer = setTimeout(() => {\n      var value = this.editor._convertToValue(this._editorInput().val());\n      this._editorOption(\"value\", value);\n    });\n  }\n  _pasteHandler(event) {\n    var {\n      editor: editor\n    } = this;\n    if (this._editorOption(\"disabled\")) {\n      return;\n    }\n    var caret = this._editorCaret();\n    editor._maskKeyHandler(event, () => {\n      var pastedText = getClipboardText(event);\n      var restText = editor._maskRulesChain.text().substring(caret.end);\n      var accepted = editor._handleChain({\n        text: pastedText,\n        start: caret.start,\n        length: pastedText.length\n      });\n      var newCaret = caret.start + accepted;\n      editor._handleChain({\n        text: restText,\n        start: newCaret,\n        length: restText.length\n      });\n      editor._caret({\n        start: newCaret,\n        end: newCaret\n      });\n    });\n  }\n  _autoFillHandler(event) {\n    var {\n      editor: editor\n    } = this;\n    var inputVal = this._editorInput().val();\n    this._inputHandlerTimer = setTimeout(() => {\n      if (this._isAutoFill()) {\n        editor._maskKeyHandler(event, () => {\n          editor._handleChain({\n            text: inputVal,\n            start: 0,\n            length: inputVal.length\n          });\n        });\n        editor._validateMask();\n      }\n    });\n  }\n  _isAutoFill() {\n    var $input = this._editorInput();\n    if (browser.webkit) {\n      var _input$matches;\n      var input = $input.get(0);\n      return null !== (_input$matches = null === input || void 0 === input ? void 0 : input.matches(\":-webkit-autofill\")) && void 0 !== _input$matches ? _input$matches : false;\n    }\n    return false;\n  }\n  _clearDragTimer() {\n    clearTimeout(this._dragTimer);\n  }\n  getHandler(handlerName) {\n    return args => {\n      var _this;\n      null === (_this = this[\"_\".concat(handlerName, \"Handler\")]) || void 0 === _this ? void 0 : _this.call(this, args);\n    };\n  }\n  attachEvents() {\n    var $input = this._editorInput();\n    EVENT_NAMES.forEach(eventName => {\n      var namespace = addNamespace(eventName.toLowerCase(), MASK_EVENT_NAMESPACE);\n      EventsEngine.on($input, namespace, this.getHandler(eventName));\n    });\n    this._attachChangeEventHandler();\n  }\n  detachEvents() {\n    EventsEngine.off(this._editorInput(), \".\".concat(MASK_EVENT_NAMESPACE));\n  }\n  clean() {\n    this._clearDragTimer();\n    clearTimeout(this._caretTimeout);\n    clearTimeout(this._inputHandlerTimer);\n  }\n}","map":{"version":3,"names":["EventsEngine","addNamespace","browser","clipboardText","getClipboardText","MASK_EVENT_NAMESPACE","BLUR_EVENT","EMPTY_CHAR","DELETE_INPUT_TYPES","HISTORY_INPUT_TYPES","EVENT_NAMES","getEmptyString","length","repeat","MaskStrategy","constructor","editor","_editorOption","option","arguments","_editorInput","_input","_editorCaret","newCaret","_caret","_attachChangeEventHandler","split","includes","$input","namespace","on","e","_changeHandler","_beforeInputHandler","_previousText","_prevCaret","_inputHandler","event","originalEvent","inputType","_handleHistoryInputEvent","_handleBackwardDeleteInputEvent","currentCaret","end","_clearSelectedText","_autoFillHandler","_handleInsertTextInputEvent","data","stopImmediatePropagation","caret","_updateEditorMask","start","text","setForwardDirection","_adjustCaret","adjustedForwardCaret","setBackwardDirection","_this$_prevCaret","_this$_prevCaret2","_isAutoFill","_this$_prevCaret$star","_this$_prevCaret3","hasValidChars","args","textLength","processedCharsCount","_handleChain","_displayMask","isForwardDirection","correction","hasSkippedStub","_focusInHandler","_showMaskPlaceholder","_isValueEmpty","_maskRulesChain","first","_caretTimeout","setTimeout","_focusOutHandler","_renderDisplayText","_delHandler","_maskKeyHandler","_hasSelection","_handleKey","_cutHandler","selectedText","val","substring","_dropHandler","_clearDragTimer","_dragTimer","value","_convertToValue","_pasteHandler","pastedText","restText","accepted","inputVal","_inputHandlerTimer","_validateMask","webkit","_input$matches","input","get","matches","clearTimeout","getHandler","handlerName","_this","concat","call","attachEvents","forEach","eventName","toLowerCase","detachEvents","off","clean"],"sources":["C:/Users/Michal Abargel/Desktop/FULLSTACK_PROJECTS/Patient-Management/client/node_modules/devextreme/esm/ui/text_box/ui.text_editor.mask.strategy.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/ui/text_box/ui.text_editor.mask.strategy.js)\r\n * Version: 23.1.5\r\n * Build date: Wed Aug 30 2023\r\n *\r\n * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport EventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    clipboardText as getClipboardText\r\n} from \"../../core/utils/dom\";\r\nvar MASK_EVENT_NAMESPACE = \"dxMask\";\r\nvar BLUR_EVENT = \"blur beforedeactivate\";\r\nvar EMPTY_CHAR = \" \";\r\nvar DELETE_INPUT_TYPES = [\"deleteContentBackward\", \"deleteSoftLineBackward\", \"deleteContent\", \"deleteHardLineBackward\"];\r\nvar HISTORY_INPUT_TYPES = [\"historyUndo\", \"historyRedo\"];\r\nvar EVENT_NAMES = [\"focusIn\", \"focusOut\", \"input\", \"paste\", \"cut\", \"drop\", \"beforeInput\"];\r\n\r\nfunction getEmptyString(length) {\r\n    return EMPTY_CHAR.repeat(length)\r\n}\r\nexport default class MaskStrategy {\r\n    constructor(editor) {\r\n        this.editor = editor\r\n    }\r\n    _editorOption() {\r\n        return this.editor.option(...arguments)\r\n    }\r\n    _editorInput() {\r\n        return this.editor._input()\r\n    }\r\n    _editorCaret(newCaret) {\r\n        if (!newCaret) {\r\n            return this.editor._caret()\r\n        }\r\n        this.editor._caret(newCaret)\r\n    }\r\n    _attachChangeEventHandler() {\r\n        if (!this._editorOption(\"valueChangeEvent\").split(\" \").includes(\"change\")) {\r\n            return\r\n        }\r\n        var $input = this._editorInput();\r\n        var namespace = addNamespace(BLUR_EVENT, MASK_EVENT_NAMESPACE);\r\n        EventsEngine.on($input, namespace, e => {\r\n            this.editor._changeHandler(e)\r\n        })\r\n    }\r\n    _beforeInputHandler() {\r\n        this._previousText = this._editorOption(\"text\");\r\n        this._prevCaret = this._editorCaret()\r\n    }\r\n    _inputHandler(event) {\r\n        var {\r\n            originalEvent: originalEvent\r\n        } = event;\r\n        if (!originalEvent) {\r\n            return\r\n        }\r\n        var {\r\n            inputType: inputType\r\n        } = originalEvent;\r\n        if (HISTORY_INPUT_TYPES.includes(inputType)) {\r\n            this._handleHistoryInputEvent()\r\n        } else if (DELETE_INPUT_TYPES.includes(inputType)) {\r\n            this._handleBackwardDeleteInputEvent()\r\n        } else {\r\n            var currentCaret = this._editorCaret();\r\n            if (!currentCaret.end) {\r\n                return\r\n            }\r\n            this._clearSelectedText();\r\n            this._autoFillHandler(originalEvent);\r\n            this._editorCaret(currentCaret);\r\n            this._handleInsertTextInputEvent(originalEvent.data)\r\n        }\r\n        if (this._editorOption(\"text\") === this._previousText) {\r\n            event.stopImmediatePropagation()\r\n        }\r\n    }\r\n    _handleHistoryInputEvent() {\r\n        var caret = this._editorCaret();\r\n        this._updateEditorMask({\r\n            start: caret.start,\r\n            length: caret.end - caret.start,\r\n            text: \"\"\r\n        });\r\n        this._editorCaret(this._prevCaret)\r\n    }\r\n    _handleBackwardDeleteInputEvent() {\r\n        this._clearSelectedText();\r\n        var caret = this._editorCaret();\r\n        this.editor.setForwardDirection();\r\n        this.editor._adjustCaret();\r\n        var adjustedForwardCaret = this._editorCaret();\r\n        if (adjustedForwardCaret.start !== caret.start) {\r\n            this.editor.setBackwardDirection();\r\n            this.editor._adjustCaret()\r\n        }\r\n    }\r\n    _clearSelectedText() {\r\n        var _this$_prevCaret, _this$_prevCaret2;\r\n        var length = (null === (_this$_prevCaret = this._prevCaret) || void 0 === _this$_prevCaret ? void 0 : _this$_prevCaret.end) - (null === (_this$_prevCaret2 = this._prevCaret) || void 0 === _this$_prevCaret2 ? void 0 : _this$_prevCaret2.start) || 1;\r\n        var caret = this._editorCaret();\r\n        if (!this._isAutoFill()) {\r\n            this.editor.setBackwardDirection();\r\n            this._updateEditorMask({\r\n                start: caret.start,\r\n                length: length,\r\n                text: getEmptyString(length)\r\n            })\r\n        }\r\n    }\r\n    _handleInsertTextInputEvent(data) {\r\n        var _this$_prevCaret$star, _this$_prevCaret3;\r\n        var text = null !== data && void 0 !== data ? data : \"\";\r\n        this.editor.setForwardDirection();\r\n        var hasValidChars = this._updateEditorMask({\r\n            start: null !== (_this$_prevCaret$star = null === (_this$_prevCaret3 = this._prevCaret) || void 0 === _this$_prevCaret3 ? void 0 : _this$_prevCaret3.start) && void 0 !== _this$_prevCaret$star ? _this$_prevCaret$star : 0,\r\n            length: text.length || 1,\r\n            text: text\r\n        });\r\n        if (!hasValidChars) {\r\n            this._editorCaret(this._prevCaret)\r\n        }\r\n    }\r\n    _updateEditorMask(args) {\r\n        var textLength = args.text.length;\r\n        var processedCharsCount = this.editor._handleChain(args);\r\n        this.editor._displayMask();\r\n        if (this.editor.isForwardDirection()) {\r\n            var {\r\n                start: start,\r\n                end: end\r\n            } = this._editorCaret();\r\n            var correction = processedCharsCount - textLength;\r\n            var hasSkippedStub = processedCharsCount > 1;\r\n            if (hasSkippedStub && 1 === textLength) {\r\n                this._editorCaret({\r\n                    start: start + correction,\r\n                    end: end + correction\r\n                })\r\n            }\r\n            this.editor._adjustCaret()\r\n        }\r\n        return !!processedCharsCount\r\n    }\r\n    _focusInHandler() {\r\n        this.editor._showMaskPlaceholder();\r\n        this.editor.setForwardDirection();\r\n        if (!this.editor._isValueEmpty() && this._editorOption(\"isValid\")) {\r\n            this.editor._adjustCaret()\r\n        } else {\r\n            var caret = this.editor._maskRulesChain.first();\r\n            this._caretTimeout = setTimeout(() => {\r\n                this._editorCaret({\r\n                    start: caret,\r\n                    end: caret\r\n                })\r\n            }, 0)\r\n        }\r\n    }\r\n    _focusOutHandler(event) {\r\n        this.editor._changeHandler(event);\r\n        if (\"onFocus\" === this._editorOption(\"showMaskMode\") && this.editor._isValueEmpty()) {\r\n            this._editorOption(\"text\", \"\");\r\n            this.editor._renderDisplayText(\"\")\r\n        }\r\n    }\r\n    _delHandler(event) {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        editor._maskKeyHandler(event, () => {\r\n            if (!editor._hasSelection()) {\r\n                editor._handleKey(EMPTY_CHAR)\r\n            }\r\n        })\r\n    }\r\n    _cutHandler(event) {\r\n        var caret = this._editorCaret();\r\n        var selectedText = this._editorInput().val().substring(caret.start, caret.end);\r\n        this.editor._maskKeyHandler(event, () => getClipboardText(event, selectedText))\r\n    }\r\n    _dropHandler() {\r\n        this._clearDragTimer();\r\n        this._dragTimer = setTimeout(() => {\r\n            var value = this.editor._convertToValue(this._editorInput().val());\r\n            this._editorOption(\"value\", value)\r\n        })\r\n    }\r\n    _pasteHandler(event) {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        if (this._editorOption(\"disabled\")) {\r\n            return\r\n        }\r\n        var caret = this._editorCaret();\r\n        editor._maskKeyHandler(event, () => {\r\n            var pastedText = getClipboardText(event);\r\n            var restText = editor._maskRulesChain.text().substring(caret.end);\r\n            var accepted = editor._handleChain({\r\n                text: pastedText,\r\n                start: caret.start,\r\n                length: pastedText.length\r\n            });\r\n            var newCaret = caret.start + accepted;\r\n            editor._handleChain({\r\n                text: restText,\r\n                start: newCaret,\r\n                length: restText.length\r\n            });\r\n            editor._caret({\r\n                start: newCaret,\r\n                end: newCaret\r\n            })\r\n        })\r\n    }\r\n    _autoFillHandler(event) {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        var inputVal = this._editorInput().val();\r\n        this._inputHandlerTimer = setTimeout(() => {\r\n            if (this._isAutoFill()) {\r\n                editor._maskKeyHandler(event, () => {\r\n                    editor._handleChain({\r\n                        text: inputVal,\r\n                        start: 0,\r\n                        length: inputVal.length\r\n                    })\r\n                });\r\n                editor._validateMask()\r\n            }\r\n        })\r\n    }\r\n    _isAutoFill() {\r\n        var $input = this._editorInput();\r\n        if (browser.webkit) {\r\n            var _input$matches;\r\n            var input = $input.get(0);\r\n            return null !== (_input$matches = null === input || void 0 === input ? void 0 : input.matches(\":-webkit-autofill\")) && void 0 !== _input$matches ? _input$matches : false\r\n        }\r\n        return false\r\n    }\r\n    _clearDragTimer() {\r\n        clearTimeout(this._dragTimer)\r\n    }\r\n    getHandler(handlerName) {\r\n        return args => {\r\n            var _this;\r\n            null === (_this = this[\"_\".concat(handlerName, \"Handler\")]) || void 0 === _this ? void 0 : _this.call(this, args)\r\n        }\r\n    }\r\n    attachEvents() {\r\n        var $input = this._editorInput();\r\n        EVENT_NAMES.forEach(eventName => {\r\n            var namespace = addNamespace(eventName.toLowerCase(), MASK_EVENT_NAMESPACE);\r\n            EventsEngine.on($input, namespace, this.getHandler(eventName))\r\n        });\r\n        this._attachChangeEventHandler()\r\n    }\r\n    detachEvents() {\r\n        EventsEngine.off(this._editorInput(), \".\".concat(MASK_EVENT_NAMESPACE))\r\n    }\r\n    clean() {\r\n        this._clearDragTimer();\r\n        clearTimeout(this._caretTimeout);\r\n        clearTimeout(this._inputHandlerTimer)\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}